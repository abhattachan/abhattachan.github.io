import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{i as c}from"./chunk-UO4ZAUJK.js";c();var z="8.20.0";c();c();c();var zr=Object.prototype.toString;function P(e){switch(zr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return $(e,Error)}}function Ce(e,t){return zr.call(e)===`[object ${t}]`}function nn(e){return Ce(e,"ErrorEvent")}function Us(e){return Ce(e,"DOMError")}function ws(e){return Ce(e,"DOMException")}function te(e){return Ce(e,"String")}function Oe(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function gt(e){return e===null||Oe(e)||typeof e!="object"&&typeof e!="function"}function k(e){return Ce(e,"Object")}function rn(e){return typeof Event<"u"&&$(e,Event)}function on(e){return typeof Element<"u"&&$(e,Element)}function sn(e){return Ce(e,"RegExp")}function Y(e){return!!(e&&e.then&&typeof e.then=="function")}function an(e){return k(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function $(e,t){try{return e instanceof t}catch{return!1}}function $e(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}c();function F(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ge(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,r);return s>r-5&&(s=r),s===r&&(o=Math.max(s-140,0)),n=n.slice(o,s),o>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function _t(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let o=e[r];try{$e(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Yr(e,t,n=!1){return te(e)?sn(t)?t.test(e):te(t)?n?e===t:e.includes(t):!1:!1}function ve(e,t=[],n=!1){return t.some(r=>Yr(e,r,n))}function un(e,t,n=250,r,o,s,i){if(!s.exception||!s.exception.values||!i||!$(i.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=Ps(cn(e,t,o,i.originalException,r,s.exception.values,a,0),n))}function cn(e,t,n,r,o,s,i,a){if(s.length>=n+1)return s;let u=[...s];if($(r[o],Error)){Kr(i,a);let p=e(t,r[o]),d=u.length;Jr(p,o,d,a),u=cn(e,t,n,r[o],o,[p,...u],p,d)}return Array.isArray(r.errors)&&r.errors.forEach((p,d)=>{if($(p,Error)){Kr(i,a);let f=e(t,p),g=u.length;Jr(f,`errors[${d}]`,g,a),u=cn(e,t,n,p,o,[f,...u],f,g)}}),u}function Kr(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Jr(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Ps(e,t){return e.map(n=>(n.value&&(n.value=F(n.value,t)),n))}c();function Fs(e){let t=[],n=r=>{r.forEach(o=>{Array.isArray(o)?n(o):t.push(o)})};return n(e),t}c();c();var S=globalThis;function ge(e,t,n){let r=n||S,o=r.__SENTRY__=r.__SENTRY__||{},s=o[z]=o[z]||{};return s[e]||(s[e]=t())}var De=S,Ls=80;function pn(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,o=[],s=0,i=0,a=" > ",u=a.length,p,d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||Ls;for(;n&&s++<r&&(p=Bs(n,d),!(p==="html"||s>1&&i+o.length*u+p.length>=f));)o.push(p),i+=p.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Bs(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(De.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let o=t&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(o&&o.length)o.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let i=n.className;if(i&&te(i)){let a=i.split(/\s+/);for(let u of a)r.push(`.${u}`)}}let s=["aria-label","type","name","title","alt"];for(let i of s){let a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function $s(){try{return De.document.location.href}catch{return""}}function Gs(e){return De.document&&De.document.querySelector?De.document.querySelector(e):null}function Hs(e){if(!De.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}c();c();var K=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;c();var js="Sentry Logger ",Ee=["debug","info","warn","error","log","assert","trace"],Me={};function ne(e){if(!("console"in S))return e();let t=S.console,n={},r=Object.keys(Me);r.forEach(o=>{let s=Me[o];n[o]=t[o],t[o]=s});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function zs(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return K?Ee.forEach(n=>{t[n]=(...r)=>{e&&ne(()=>{S.console[n](`${js}[${n}]:`,...r)})}}):Ee.forEach(n=>{t[n]=()=>{}}),t}var l=zs();var Ys=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ks(e){return e==="http"||e==="https"}function L(e,t=!1){let{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:u}=e;return`${a}://${u}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${i}`}function ht(e){let t=Ys.exec(e);if(!t){ne(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,o="",s="",i="",a=""]=t.slice(1),u="",p=a,d=p.split("/");if(d.length>1&&(u=d.slice(0,-1).join("/"),p=d.pop()),p){let f=p.match(/^\d+/);f&&(p=f[0])}return Wr({host:s,pass:o,path:u,projectId:p,port:i,protocol:n,publicKey:r})}function Wr(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Js(e){if(!K)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(l.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Ks(r)?t&&isNaN(parseInt(t,10))?(l.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(l.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(l.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function He(e){let t=typeof e=="string"?ht(e):Wr(e);if(!(!t||!Js(t)))return t}c();var D=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}};c();c();function je(e,t,n){if(!(t in e))return;let r=e[t],o=n(r);typeof o=="function"&&Xr(o,r),e[t]=o}function v(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{K&&l.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Xr(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,v(e,"__sentry_original__",t)}catch{}}function dn(e){return e.__sentry_original__}function ln(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function St(e){if(P(e))return{message:e.message,name:e.name,stack:e.stack,...qr(e)};if(rn(e)){let t={type:e.type,target:Vr(e.target),currentTarget:Vr(e.currentTarget),...qr(e)};return typeof CustomEvent<"u"&&$(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Vr(e){try{return on(e)?pn(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function qr(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function mn(e,t=40){let n=Object.keys(St(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return F(r,t);for(let o=n.length;o>0;o--){let s=n.slice(0,o).join(", ");if(!(s.length>t))return o===n.length?s:F(s,t)}return""}function x(e){return fn(e,new Map)}function fn(e,t){if(Ws(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let o of Object.keys(e))typeof e[o]<"u"&&(r[o]=fn(e[o],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(o=>{r.push(fn(o,t))}),r}return e}function Ws(e){if(!k(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}c();c();var Tt="?",Zr=/\(error: (.*)\)/,Qr=/captureMessage|captureException/;function eo(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{let s=[],i=n.split(`
`);for(let a=r;a<i.length;a++){let u=i[a];if(u.length>1024)continue;let p=Zr.test(u)?u.replace(Zr,"$1"):u;if(!p.match(/\S*Error: /)){for(let d of t){let f=d(p);if(f){s.push(f);break}}if(s.length>=50+o)break}}return to(s.slice(o))}}function Vs(e){return Array.isArray(e)?eo(...e):e}function to(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(Et(t).function||"")&&t.pop(),t.reverse(),Qr.test(Et(t).function||"")&&(t.pop(),Qr.test(Et(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||Et(t).filename,function:n.function||Tt}))}function Et(e){return e[e.length-1]||{}}var gn="<anonymous>";function ze(e){try{return!e||typeof e!="function"?gn:e.name||gn}catch{return gn}}function ke(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var yt={},no={};function ae(e,t){yt[e]=yt[e]||[],yt[e].push(t)}function ce(e,t){no[e]||(t(),no[e]=!0)}function X(e,t){let n=e&&yt[e];if(n)for(let r of n)try{r(t)}catch(o){K&&l.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ze(r)}
Error:`,o)}}function _n(e){let t="console";ae(t,e),ce(t,qs)}function qs(){"console"in S&&Ee.forEach(function(e){e in S.console&&je(S.console,e,function(t){return Me[e]=t,function(...n){X("console",{args:n,level:e});let o=Me[e];o&&o.apply(S.console,n)}})})}c();c();var It=S;function ro(){if(!("fetch"in It))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function hn(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Sn(){if(typeof EdgeRuntime=="string")return!0;if(!ro())return!1;if(hn(It.fetch))return!0;let e=!1,t=It.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=hn(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){K&&l.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Xs(){return"ReportingObserver"in It}c();var oo=1e3;function re(){return Date.now()/oo}function Zs(){let{performance:e}=S;if(!e||!e.now)return re;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/oo}var R=Zs(),Ye,Qs=(()=>{let{performance:e}=S;if(!e||!e.now){Ye="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,i=e.timing&&e.timing.navigationStart,u=typeof i=="number"?Math.abs(i+n-r):t,p=u<t;return s||p?o<=u?(Ye="timeOrigin",e.timeOrigin):(Ye="navigationStart",i):(Ye="dateNow",r)})();function ei(e){let t="fetch";ae(t,e),ce(t,ti)}function ti(){Sn()&&je(S,"fetch",function(e){return function(...t){let{method:n,url:r}=ni(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:R()*1e3};X("fetch",{...o});let s=new Error().stack;return e.apply(S,t).then(i=>{let a={...o,endTimestamp:R()*1e3,response:i};return X("fetch",a),i},i=>{let a={...o,endTimestamp:R()*1e3,error:i};throw X("fetch",a),P(i)&&i.stack===void 0&&(i.stack=s,v(i,"framesToPop",1)),i})}})}function En(e,t){return!!e&&typeof e=="object"&&!!e[t]}function so(e){return typeof e=="string"?e:e?En(e,"url")?e.url:e.toString?e.toString():"":""}function ni(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:so(n),method:En(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:so(t),method:En(t,"method")?String(t.method).toUpperCase():"GET"}}c();var xt=null;function Tn(e){let t="error";ae(t,e),ce(t,ri)}function ri(){xt=S.onerror,S.onerror=function(e,t,n,r,o){return X("error",{column:r,error:o,line:n,msg:e,url:t}),xt&&!xt.__SENTRY_LOADER__?xt.apply(this,arguments):!1},S.onerror.__SENTRY_INSTRUMENTED__=!0}c();var At=null;function yn(e){let t="unhandledrejection";ae(t,e),ce(t,oi)}function oi(){At=S.onunhandledrejection,S.onunhandledrejection=function(e){return X("unhandledrejection",e),At&&!At.__SENTRY_LOADER__?At.apply(this,arguments):!0},S.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}c();c();c();function In(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function si(){return"npm"}function io(){return!In()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ii(){return typeof window<"u"&&(!io()||ai())}function ai(){return S.process!==void 0&&S.process.type==="renderer"}c();function ao(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(o){if(e)return t.has(o)?!0:(t.add(o),!1);for(let s=0;s<t.length;s++)if(t[s]===o)return!0;return t.push(o),!1}function r(o){if(e)t.delete(o);else for(let s=0;s<t.length;s++)if(t[s]===o){t.splice(s,1);break}}return[n,r]}c();function T(){let e=S,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function co(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ue(e){let{message:t,event_id:n}=e;if(t)return t;let r=co(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function An(e,t,n){let r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function Te(e,t){let n=co(e);if(!n)return;let r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){let s={...o&&o.data,...t.data};n.mechanism.data=s}}var ci=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function xn(e){return parseInt(e||"",10)}function ui(e){let t=e.match(ci)||[],n=xn(t[1]),r=xn(t[2]),o=xn(t[3]);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(o)?void 0:o,prerelease:t[4]}}function pi(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(i=>Ge(i,0));let s=Math.min(r-1,o);t.context_line=Ge(e[s],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(i=>Ge(i,0))}function bt(e){if(e&&e.__sentry_captured__)return!0;try{v(e,"__sentry_captured__",!0)}catch{}return!1}function Ke(e){return Array.isArray(e)?e:[e]}c();function U(e,t=100,n=1/0){try{return bn("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Rt(e,t=3,n=100*1024){let r=U(e,t);return mi(r)>n?Rt(e,t-1,n):r}function bn(e,t,n=1/0,r=1/0,o=ao()){let[s,i]=o;if(t==null||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;let a=fi(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let u=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(u===0)return a.replace("object ","");if(s(t))return"[Circular ~]";let p=t;if(p&&typeof p.toJSON=="function")try{let m=p.toJSON();return bn("",m,u-1,r,o)}catch{}let d=Array.isArray(t)?[]:{},f=0,g=St(t);for(let m in g){if(!Object.prototype.hasOwnProperty.call(g,m))continue;if(f>=r){d[m]="[MaxProperties ~]";break}let h=g[m];d[m]=bn(m,h,u-1,r,o),f++}return i(t),d}function fi(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if($e(t))return"[VueViewModel]";if(an(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${ze(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=di(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function di(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function li(e){return~-encodeURI(e).split(/%..|./).length}function mi(e){return li(JSON.stringify(e))}c();function gi(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var _i=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function po(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=_i.exec(t);return n?n.slice(1):[]}function Rn(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=gi(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function uo(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Nn(e,t){e=Rn(e).slice(1),t=Rn(t).slice(1);let n=uo(e.split("/")),r=uo(t.split("/")),o=Math.min(n.length,r.length),s=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){s=a;break}let i=[];for(let a=s;a<n.length;a++)i.push("..");return i=i.concat(r.slice(s)),i.join("/")}function hi(e){let t=po(e),n=t[0]||"",r=t[1];return!n&&!r?".":(r&&(r=r.slice(0,r.length-1)),n+r)}function Cn(e,t){let n=po(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}c();c();var pe;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(pe||(pe={}));function J(e){return new Z(t=>{t(e)})}function Je(e){return new Z((t,n)=>{n(e)})}var Z=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=pe.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,o)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(i){o(i)}},s=>{if(!n)o(s);else try{r(n(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){r(o);return}n(o)})})}__init(){this._resolve=t=>{this._setResult(pe.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(pe.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===pe.PENDING){if(Y(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===pe.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===pe.RESOLVED&&n[1](this._value),this._state===pe.REJECTED&&n[2](this._value),n[0]=!0)})}}};function On(e){let t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function o(i){if(!n())return Je(new D("Not adding Promise because buffer limit was reached."));let a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(i){return new Z((a,u)=>{let p=t.length;if(!p)return a(!0);let d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(f=>{J(f).then(()=>{--p||(clearTimeout(d),a(!0))},u)})})}return{$:t,add:o,drain:s}}c();c();function fo(e){let t={},n=0;for(;n<e.length;){let r=e.indexOf("=",n);if(r===-1)break;let o=e.indexOf(";",n);if(o===-1)o=e.length;else if(o<r){n=e.lastIndexOf(";",r-1)+1;continue}let s=e.slice(n,r).trim();if(t[s]===void 0){let i=e.slice(r+1,o).trim();i.charCodeAt(0)===34&&(i=i.slice(1,-1));try{t[s]=i.indexOf("%")!==-1?decodeURIComponent(i):i}catch{t[s]=i}}n=o+1}return t}c();function vn(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Dn(e){return e.split(/[?#]/,1)[0]}function Si(e){let{protocol:t,host:n,path:r}=e,o=n&&n.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${t?`${t}://`:""}${o}${r}`}var Ei={ip:!1,request:!0,transaction:!0,user:!0},Ti=["cookies","data","headers","method","query_string","url"],lo=["id","username","email"];function Mn(e,t={}){let n=e.method&&e.method.toUpperCase(),r="",o="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(r=Dn(e.originalUrl||e.url||""));let s="";return t.method&&n&&(s+=n),t.method&&t.path&&(s+=" "),t.path&&r&&(s+=r),[s,o]}function yi(e,t){switch(t){case"path":return Mn(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";case"methodPath":default:{let n=e._reconstructedRoute?e._reconstructedRoute:void 0;return Mn(e,{path:!0,method:!0,customRoute:n})[0]}}}function Ii(e,t){let n={};return(Array.isArray(t)?t:lo).forEach(o=>{e&&o in e&&(n[o]=e[o])}),n}function kn(e,t){let{include:n=Ti}=t||{},r={},o=e.headers||{},s=e.method,i=o.host||e.hostname||e.host||"<no host>",a=e.protocol==="https"||e.socket&&e.socket.encrypted?"https":"http",u=e.originalUrl||e.url||"",p=u.startsWith(a)?u:`${a}://${i}${u}`;return n.forEach(d=>{switch(d){case"headers":{r.headers=o,n.includes("cookies")||delete r.headers.cookie;break}case"method":{r.method=s;break}case"url":{r.url=p;break}case"cookies":{r.cookies=e.cookies||o.cookie&&fo(o.cookie)||{};break}case"query_string":{r.query_string=xi(e);break}case"data":{if(s==="GET"||s==="HEAD")break;e.body!==void 0&&(r.data=te(e.body)?e.body:JSON.stringify(U(e.body)));break}default:({}).hasOwnProperty.call(e,d)&&(r[d]=e[d])}}),r}function Un(e,t,n){let r={...Ei,...n&&n.include};if(r.request){let o=Array.isArray(r.request)?kn(t,{include:r.request}):kn(t);e.request={...e.request,...o}}if(r.user){let o=t.user&&k(t.user)?Ii(t.user,r.user):{};Object.keys(o).length&&(e.user={...e.user,...o})}if(r.ip){let o=t.ip||t.socket&&t.socket.remoteAddress;o&&(e.user={...e.user,ip_address:o})}return r.transaction&&!e.transaction&&e.type==="transaction"&&(e.transaction=yi(t,r.transaction)),e}function xi(e){let t=e.originalUrl||e.url||"";if(t){t.startsWith("/")&&(t=`http://dogs.are.great${t}`);try{let n=e.query||new URL(t).search.slice(1);return n.length?n:void 0}catch{return}}}c();var mo=["fatal","error","warning","log","info","debug"];function wn(e){return e==="warn"?"warning":mo.includes(e)?e:"log"}c();function _o(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&e!==void 0&&!e.includes("node_modules/")}function ho(e){let t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{let o=r.match(n);if(o){let s,i,a,u,p;if(o[1]){a=o[1];let g=a.lastIndexOf(".");if(a[g-1]==="."&&g--,g>0){s=a.slice(0,g),i=a.slice(g+1);let m=s.indexOf(".Module");m>0&&(a=a.slice(m+1),s=s.slice(0,m))}u=void 0}i&&(u=s,p=i),i==="<anonymous>"&&(p=void 0,a=void 0),a===void 0&&(p=p||Tt,a=u?`${u}.${p}`:p);let d=o[2]&&o[2].startsWith("file://")?o[2].slice(7):o[2],f=o[5]==="native";return d&&d.match(/\/[A-Z]:/)&&(d=d.slice(1)),!d&&o[5]&&!f&&(d=o[5]),{filename:d,module:e?e(d):void 0,function:a,lineno:go(o[3]),colno:go(o[4]),in_app:_o(d||"",f)}}if(r.match(t))return{filename:r}}}function Ai(e){return[90,ho(e)]}function go(e){return parseInt(e||"",10)||void 0}c();c();var Nt="baggage",Pn="sentry-",Eo=/^sentry-/,To=8192;function We(e){let t=yo(e);if(!t)return;let n=Object.entries(t).reduce((r,[o,s])=>{if(o.match(Eo)){let i=o.slice(Pn.length);r[i]=s}return r},{});if(Object.keys(n).length>0)return n}function Ve(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${Pn}${r}`]=o),n),{});return bi(t)}function yo(e){if(!(!e||!te(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=So(n);return Object.entries(r).forEach(([o,s])=>{t[o]=s}),t},{}):So(e)}function So(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function bi(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{let s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=o===0?s:`${t},${s}`;return i.length>To?(K&&l.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}var Io=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function xo(e){if(!e)return;let t=e.match(Io);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Fn(e,t){let n=xo(e),r=We(t),{traceId:o,parentSpanId:s,parentSampled:i}=n||{};return n?{traceId:o||T(),parentSpanId:s||T().substring(16),spanId:T().substring(16),sampled:i,dsc:r||{}}:{traceId:o||T(),spanId:T().substring(16)}}function qe(e=T(),t=T().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}c();function w(e,t=[]){return[e,t]}function Ln(e,t){let[n,r]=e;return[n,[...r,t]]}function Q(e,t){let n=e[1];for(let r of n){let o=r[0].type;if(t(r,o))return!0}return!1}function Ot(e,t){return Q(e,(n,r)=>t.includes(r))}function Ct(e){return S.__SENTRY__&&S.__SENTRY__.encodePolyfill?S.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Ri(e){return S.__SENTRY__&&S.__SENTRY__.decodePolyfill?S.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e)}function Bn(e){let[t,n]=e,r=JSON.stringify(t);function o(s){typeof r=="string"?r=typeof s=="string"?r+s:[Ct(r),s]:r.push(typeof s=="string"?Ct(s):s)}for(let s of n){let[i,a]=s;if(o(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let u;try{u=JSON.stringify(a)}catch{u=JSON.stringify(U(a))}o(u)}}return typeof r=="string"?r:Ni(r)}function Ni(e){let t=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(t),r=0;for(let o of e)n.set(o,r),r+=o.length;return n}function Ci(e){let t=typeof e=="string"?Ct(e):e;function n(i){let a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(Ri(n(i)))}let o=r(),s=[];for(;t.length;){let i=r(),a=typeof i.length=="number"?i.length:void 0;s.push([i,a?n(a):r()])}return[o,s]}function $n(e){return[{type:"span"},e]}function Gn(e){let t=typeof e.data=="string"?Ct(e.data):e.data;return[x({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var Oi={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function vt(e){return Oi[e]}function Dt(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Hn(e,t,n,r){let o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:L(r)},...o&&{trace:x({...o})}}}c();function jn(e,t,n){let r=[{type:"client_report"},{timestamp:n||re(),discarded_events:e}];return w(t?{dsn:t}:{},[r])}c();function Mt(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Ao(e,t){return e[t]||e.all||0}function zn(e,t,n=Date.now()){return Ao(e,t)>n}function Yn(e,{statusCode:t,headers:n},r=Date.now()){let o={...e},s=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(s)for(let a of s.trim().split(",")){let[u,p,,,d]=a.split(":",5),f=parseInt(u,10),g=(isNaN(f)?60:f)*1e3;if(!p)o.all=r+g;else for(let m of p.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[m]=r+g):o[m]=r+g}else i?o.all=r+Mt(i,r):t===429&&(o.all=r+60*1e3);return o}c();function Kn(e,t){return e(t.stack||"",1)}function kt(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=Kn(e,t);return r.length&&(n.stacktrace={frames:r}),n}function vi(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}function Di(e){if("name"in e&&typeof e.name=="string"){let r=`'${e.name}' captured as exception`;return"message"in e&&typeof e.message=="string"&&(r+=` with message '${e.message}'`),r}else if("message"in e&&typeof e.message=="string")return e.message;let t=mn(e);if(nn(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;let n=Mi(e);return`${n&&n!=="Object"?`'${n}'`:"Object"} captured as exception with keys: ${t}`}function Mi(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ki(e,t,n,r){if(P(n))return[n,void 0];if(t.synthetic=!0,k(n)){let s=e&&e.getOptions().normalizeDepth,i={__serialized__:Rt(n,s)},a=vi(n);if(a)return[a,i];let u=Di(n),p=r&&r.syntheticException||new Error(u);return p.message=u,[p,i]}let o=r&&r.syntheticException||new Error(n);return o.message=`${n}`,[o,void 0]}function Jn(e,t,n,r){let s=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"},[i,a]=ki(e,s,n,r),u={exception:{values:[kt(t,i)]}};return a&&(u.extra=a),An(u,void 0,void 0),Te(u,s),{...u,event_id:r&&r.event_id}}function Wn(e,t,n="info",r,o){let s={event_id:r&&r.event_id,level:n};if(o&&r&&r.syntheticException){let i=Kn(e,r.syntheticException);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(Oe(t)){let{__sentry_template_string__:i,__sentry_template_values__:a}=t;return s.logentry={message:i,params:a},s}return s.message=t,s}c();var Vn=class{constructor(t){this._maxSize=t,this._cache=new Map}get size(){return this._cache.size}get(t){let n=this._cache.get(t);if(n!==void 0)return this._cache.delete(t),this._cache.set(t,n),n}set(t,n){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,n)}remove(t){let n=this._cache.get(t);return n&&this._cache.delete(t),n}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let t=[];return this._cache.forEach(n=>t.push(n)),t}};c();function Ui(e,t){return e??t()}c();function wi(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],s=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=s(n)):(o==="call"||o==="optionalCall")&&(n=s((...i)=>n.call(t,...i)),t=void 0)}return n}c();function Ue(){return{traceId:T(),spanId:T().substring(16)}}c();var Ut=S;function Pi(){let e=Ut.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ut&&!!Ut.history.pushState&&!!Ut.history.replaceState;return!t&&n}c();c();function bo(e){let t=R(),n={sid:T(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Fi(n)};return e&&fe(n,e),n}function fe(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||R(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:T()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ro(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),fe(e,n)}function Fi(e){return x({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}c();var qn="_sentrySpan";function oe(e,t){t?v(e,qn,t):delete e[qn]}function de(e){return e[qn]}var Li=100,Xn=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ue()}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,oe(t,de(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&fe(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,o]=n instanceof G?[n.getScopeData(),n.getRequestSession()]:k(n)?[t,t.requestSession]:[],{tags:s,extra:i,user:a,contexts:u,level:p,fingerprint:d=[],propagationContext:f}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...i},this._contexts={...this._contexts,...u},a&&Object.keys(a).length&&(this._user=a),p&&(this._level=p),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,oe(this,void 0),this._attachments=[],this._propagationContext=Ue(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Li;if(r<=0)return this;let o={timestamp:re(),...t},s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:de(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:T();if(!this._client)return l.warn("No client configured on scope - will not capture exception!"),r;let o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){let o=r&&r.event_id?r.event_id:T();if(!this._client)return l.warn("No client configured on scope - will not capture message!"),o;let s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:o},this),o}captureEvent(t,n){let r=n&&n.event_id?n.event_id:T();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(l.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},G=Xn;c();c();c();function W(){return Xe(S),S}function Xe(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||z,t[z]=t[z]||{}}c();c();function Zn(){return ge("defaultCurrentScope",()=>new G)}function Qn(){return ge("defaultIsolationScope",()=>new G)}var er=class{constructor(t,n){let r;t?r=t:r=new G;let o;n?o=n:o=new G,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(o){throw this._popScope(),o}return Y(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function we(){let e=W(),t=Xe(e);return t.stack=t.stack||new er(Zn(),Qn())}function Bi(e){return we().withScope(e)}function $i(e,t){let n=we();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function No(e){return we().withScope(()=>e(we().getIsolationScope()))}function Co(){return{withIsolationScope:No,withScope:Bi,withSetScope:$i,withSetIsolationScope:(e,t)=>No(t),getCurrentScope:()=>we().getScope(),getIsolationScope:()=>we().getIsolationScope()}}function le(e){let t=Xe(e);return t.acs?t.acs:Co()}function y(){let e=W();return le(e).getCurrentScope()}function b(){let e=W();return le(e).getIsolationScope()}function tr(){return ge("globalScope",()=>new G)}function H(...e){let t=W(),n=le(t);if(e.length===2){let[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function Oo(...e){let t=W(),n=le(t);if(e.length===2){let[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function E(){return y().getClient()}c();var ye="sentry.source",Ze="sentry.sample_rate",_e="sentry.op",he="sentry.origin",wt="sentry.idle_span_finish_reason",Pt="sentry.measurement_unit",Ft="sentry.measurement_value",nr="sentry.profile_id",rr="sentry.exclusive_time",Gi="cache.hit",Hi="cache.key",ji="cache.item_size";c();function vo(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function or(e,t){e.setAttribute("http.response.status_code",t);let n=vo(t);n.message!=="unknown_error"&&e.setStatus(n)}c();c();var sr="_sentryMetrics";function Qe(e){let t=e[sr];if(!t)return;let n={};for(let[,[r,o]]of t)(n[r]||(n[r]=[])).push(x(o));return n}function Do(e,t,n,r,o,s,i){let u=e[sr]||(e[sr]=new Map),p=`${t}:${n}@${o}`,d=u.get(i);if(d){let[,f]=d;u.set(i,[p,{min:Math.min(f.min,r),max:Math.max(f.max,r),count:f.count+=1,sum:f.sum+=r,tags:f.tags}])}else u.set(i,[p,{min:r,max:r,count:1,sum:r,tags:s}])}var Lt=0,ar=1;function ko(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:s,status:i,origin:a}=A(e);return x({parent_span_id:s,span_id:t,trace_id:n,data:r,op:o,status:i,origin:a})}function et(e){let{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=A(e);return x({parent_span_id:r,span_id:t,trace_id:n})}function cr(e){let{traceId:t,spanId:n}=e.spanContext(),r=se(e);return qe(t,n,r)}function ee(e){return typeof e=="number"?Mo(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Mo(e.getTime()):R()}function Mo(e){return e>9999999999?e/1e3:e}function A(e){if(Ji(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(Ki(e)){let{attributes:r,startTime:o,name:s,endTime:i,parentSpanId:a,status:u}=e;return x({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:ee(o),timestamp:ee(i)||void 0,status:Bt(u),op:r[_e],origin:r[he],_metrics_summary:Qe(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Ki(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Ji(e){return typeof e.getSpanJSON=="function"}function se(e){let{traceFlags:t}=e.spanContext();return t===ar}function Bt(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var Ie="_sentryChildSpans",ir="_sentryRootSpan";function $t(e,t){let n=e[ir]||e;v(t,ir,n),e[Ie]?e[Ie].add(t):v(e,Ie,new Set([t]))}function Uo(e,t){e[Ie]&&e[Ie].delete(t)}function xe(e){let t=new Set;function n(r){if(!t.has(r)&&se(r)){t.add(r);let o=r[Ie]?Array.from(r[Ie]):[];for(let s of o)n(s)}}return n(e),Array.from(t)}function C(e){return e[ir]||e}function V(){let e=W(),t=le(e);return t.getActiveSpan?t.getActiveSpan():de(y())}function wo(e,t,n,r,o,s){let i=V();i&&Do(i,e,t,n,r,o,s)}c();c();var _=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Po=!1;function tt(){Po||(Po=!0,Tn(ur),yn(ur))}function ur(){let e=V(),t=e&&C(e);if(t){let n="internal_error";_&&l.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:2,message:n})}}ur.tag="sentry_tracingErrorCallback";c();function Wi(){tt()}c();c();var be="production";var Fo="_frozenDsc";function pr(e,t){v(e,Fo,t)}function Se(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o=x({environment:n.environment||be,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",o),o}function B(e){let t=E();if(!t)return{};let n=Se(A(e).trace_id||"",t),r=C(e),o=r[Fo];if(o)return o;let s=r.spanContext().traceState,i=s&&s.get("sentry.dsc"),a=i&&We(i);if(a)return a;let u=A(r),p=u.data||{},d=p[Ze];d!=null&&(n.sample_rate=`${d}`);let f=p[ye],g=u.description;return f!=="url"&&g&&(n.transaction=g),n.sampled=String(se(r)),t.emit("createDsc",n,r),n}function Vi(e){let t=B(e);return Ve(t)}c();function qi(e,t,n){let r=V(),o=r&&C(r);o&&o.addEvent(e,{[Ft]:t,[Pt]:n})}function Gt(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},o=r[Pt],s=r[Ft];typeof o=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:o})}),t}c();c();function nt(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return Xi(r,t,n)}function Xi(e,t,n){return Y(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}c();function ie(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||Zi();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}function Zi(){let e=E();return e&&e.getOptions()}c();function Lo(e){if(!_)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=A(e),{spanId:o}=e.spanContext(),s=se(e),i=C(e),a=i===e,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,p=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&p.push(`parent ID: ${r}`),!a){let{op:d,description:f}=A(i);p.push(`root ID: ${i.spanContext().spanId}`),d&&p.push(`root op: ${d}`),f&&p.push(`root description: ${f}`)}l.log(`${u}
  ${p.join(`
  `)}`)}function Bo(e){if(!_)return;let{description:t="< unknown name >",op:n="< unknown op >"}=A(e),{spanId:r}=e.spanContext(),s=C(e)===e,i=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;l.log(i)}c();c();function rt(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){_&&l.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function $o(e,t){if(!ie(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;let r=rt(n);return r===void 0?(_&&l.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(_&&l.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(_&&l.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r])}c();var j=class{constructor(t={}){this._traceId=t.traceId||T(),this._spanId=t.spanId||T().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Lt}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};c();c();function Qi(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Go(e,t,n,r){let o=Dt(n),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:L(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return w(s,[i])}function Ho(e,t,n,r){let o=Dt(n),s=e.type&&e.type!=="replay_event"?e.type:"event";Qi(e,n&&n.sdk);let i=Hn(e,o,r,t);return delete e.sdkProcessingMetadata,w(i,[[{type:s},e]])}function jo(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=B(e[0]),o=t&&t.getDsn(),s=t&&t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&o&&{dsn:L(o)}},a=t&&t.getOptions().beforeSendSpan,u=a?d=>a(A(d)):d=>A(d),p=[];for(let d of e){let f=u(d);f&&p.push($n(f))}return w(i,p)}c();var zo="_sentryScope",Yo="_sentryIsolationScope";function fr(e,t,n){e&&(v(e,Yo,n),v(e,zo,t))}function Ht(e){return{scope:e[zo],isolationScope:e[Yo]}}var Ko=1e3,Pe=class{constructor(t={}){this._traceId=t.traceId||T(),this._spanId=t.spanId||T().substring(16),this._startTime=t.startTimestamp||R(),this._attributes={},this.setAttributes({[he]:"manual",[_e]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?ar:Lt}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=ee(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=ee(t),Bo(this),this._onSpanEnded())}getSpanJSON(){return x({data:this._attributes,description:this._name,op:this._attributes[_e],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Bt(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[he],_metrics_summary:Qe(this),profile_id:this._attributes[nr],exclusive_time:this._attributes[rr],measurements:Gt(this._events),is_segment:this._isStandaloneSpan&&C(this)===this||void 0,segment_id:this._isStandaloneSpan?C(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){_&&l.log("[Tracing] Adding an event to span:",t);let o=Jo(n)?n:r||R(),s=Jo(n)?{}:n||{},i={name:t,time:ee(o),attributes:s};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=E();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===C(this)))return;if(this._isStandaloneSpan){this._sampled?ta(jo([this],t)):(_&&l.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Ht(this).scope||y()).captureEvent(r)}_convertSpanToTransaction(){if(!Wo(A(this)))return;this._name||(_&&l.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Ht(this),o=(t||y()).getClient()||E();if(this._sampled!==!0){_&&l.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),o&&o.recordDroppedEvent("sample_rate","transaction");return}let i=xe(this).filter(f=>f!==this&&!ea(f)).map(f=>A(f)).filter(Wo),a=this._attributes[ye],u={contexts:{trace:ko(this)},spans:i.length>Ko?i.sort((f,g)=>f.start_timestamp-g.start_timestamp).slice(0,Ko):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...x({dynamicSamplingContext:B(this)})},_metrics_summary:Qe(this),...a&&{transaction_info:{source:a}}},p=Gt(this._events);return p&&Object.keys(p).length&&(_&&l.log("[Measurements] Adding measurements to transaction event",JSON.stringify(p,void 0,2)),u.measurements=p),u}};function Jo(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Wo(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function ea(e){return e instanceof Pe&&e.isStandaloneSpan()}function ta(e){let t=E();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}let r=t.getTransport();r&&r.send(e).then(null,o=>{_&&l.error("Error while sending span:",o)})}var dr="__SENTRY_SUPPRESS_TRACING__";function na(e,t){let n=st();if(n.startSpan)return n.startSpan(e,t);let r=gr(e),{forceTransaction:o,parentSpan:s}=e;return H(e.scope,()=>qo(s)(()=>{let a=y(),u=_r(a),d=e.onlyIfParent&&!u?new j:mr({parentSpan:u,spanArguments:r,forceTransaction:o,scope:a});return oe(a,d),nt(()=>t(d),()=>{let{status:f}=A(d);d.isRecording()&&(!f||f==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>d.end())}))}function lr(e,t){let n=st();if(n.startSpanManual)return n.startSpanManual(e,t);let r=gr(e),{forceTransaction:o,parentSpan:s}=e;return H(e.scope,()=>qo(s)(()=>{let a=y(),u=_r(a),d=e.onlyIfParent&&!u?new j:mr({parentSpan:u,spanArguments:r,forceTransaction:o,scope:a});oe(a,d);function f(){d.end()}return nt(()=>t(d,f),()=>{let{status:g}=A(d);d.isRecording()&&(!g||g==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function ot(e){let t=st();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=gr(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?i=>H(e.scope,i):o!==void 0?i=>jt(o,i):i=>i())(()=>{let i=y(),a=_r(i);return e.onlyIfParent&&!a?new j:mr({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}var ra=({sentryTrace:e,baggage:t},n)=>H(r=>{let o=Fn(e,t);return r.setPropagationContext(o),n()});function jt(e,t){let n=st();return n.withActiveSpan?n.withActiveSpan(e,t):H(r=>(oe(r,e||void 0),t(r)))}function oa(e){let t=st();return t.suppressTracing?t.suppressTracing(e):H(n=>(n.setSDKProcessingMetadata({[dr]:!0}),e()))}function sa(e){return H(t=>(t.setPropagationContext(Ue()),_&&l.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),jt(null,e)))}function mr({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ie())return new j;let o=b(),s;if(e&&!n)s=ia(e,r,t),$t(e,s);else if(e){let i=B(e),{traceId:a,spanId:u}=e.spanContext(),p=se(e);s=Vo({traceId:a,parentSpanId:u,...t},r,p),pr(s,i)}else{let{traceId:i,dsc:a,parentSpanId:u,sampled:p}={...o.getPropagationContext(),...r.getPropagationContext()};s=Vo({traceId:i,parentSpanId:u,...t},r,p),a&&pr(s,a)}return Lo(s),fr(s,r,o),s}function gr(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=ee(e.startTime),delete r.startTime,r}return n}function st(){let e=W();return le(e)}function Vo(e,t,n){let r=E(),o=r&&r.getOptions()||{},{name:s="",attributes:i}=e,[a,u]=t.getScopeData().sdkProcessingMetadata[dr]?[!1]:$o(o,{name:s,parentSampled:n,attributes:i,transactionContext:{name:s,parentSampled:n}}),p=new Pe({...e,attributes:{[ye]:"custom",...e.attributes},sampled:a});return u!==void 0&&p.setAttribute(Ze,u),r&&r.emit("spanStart",p),p}function ia(e,t,n){let{spanId:r,traceId:o}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[dr]?!1:se(e),i=s?new Pe({...n,parentSpanId:r,traceId:o,sampled:s}):new j({traceId:o});$t(e,i);let a=E();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function _r(e){let t=de(e);if(!t)return;let n=E();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?C(t):t}function qo(e){return e!==void 0?t=>jt(e,t):t=>t()}c();c();c();function zt(e,t,n,r=0){return new Z((o,s)=>{let i=e[r];if(t===null||typeof i!="function")o(t);else{let a=i({...t},n);_&&i.id&&a===null&&l.log(`Event processor "${i.id}" dropped event`),Y(a)?a.then(u=>zt(e,u,n,r+1).then(o)).then(null,s):zt(e,a,n,r+1).then(o).then(null,s)}})}c();function Xo(e,t){let{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=t;aa(e,t),r&&pa(e,r),fa(e,n),ca(e,o),ua(e,s)}function hr(e,t){let{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:p,eventProcessors:d,attachments:f,propagationContext:g,transactionName:m,span:h}=t;it(e,"extra",n),it(e,"tags",r),it(e,"user",o),it(e,"contexts",s),it(e,"sdkProcessingMetadata",a),i&&(e.level=i),m&&(e.transactionName=m),h&&(e.span=h),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),p.length&&(e.fingerprint=[...e.fingerprint,...p]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...g}}function it(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function aa(e,t){let{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:a}=t,u=x(n);u&&Object.keys(u).length&&(e.extra={...u,...e.extra});let p=x(r);p&&Object.keys(p).length&&(e.tags={...p,...e.tags});let d=x(o);d&&Object.keys(d).length&&(e.user={...d,...e.user});let f=x(s);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function ca(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function ua(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function pa(e,t){e.contexts={trace:et(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:B(t),...e.sdkProcessingMetadata};let n=C(t),r=A(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function fa(e,t){e.fingerprint=e.fingerprint?Ke(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Sr(e,t,n,r,o,s){let{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,u={...t,event_id:t.event_id||n.event_id||T(),timestamp:t.timestamp||re()},p=n.integrations||e.integrations.map(O=>O.name);da(u,e),ga(u,p),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&la(u,e.stackParser);let d=ha(r,n.captureContext);n.mechanism&&Te(u,n.mechanism);let f=o?o.getEventProcessors():[],g=tr().getScopeData();if(s){let O=s.getScopeData();hr(g,O)}if(d){let O=d.getScopeData();hr(g,O)}let m=[...n.attachments||[],...g.attachments];m.length&&(n.attachments=m),Xo(u,g);let h=[...f,...g.eventProcessors];return zt(h,u,n).then(O=>(O&&ma(O),typeof i=="number"&&i>0?_a(O,i,a):O))}function da(e,t){let{environment:n,release:r,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:be),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&o!==void 0&&(e.dist=o),e.message&&(e.message=F(e.message,s));let i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=F(i.value,s));let a=e.request;a&&a.url&&(a.url=F(a.url,s))}var Zo=new WeakMap;function la(e,t){let n=S._sentryDebugIds;if(!n)return;let r,o=Zo.get(t);o?r=o:(r=new Map,Zo.set(t,r));let s=Object.entries(n).reduce((i,[a,u])=>{let p,d=r.get(a);d?p=d:(p=t(a),r.set(a,p));for(let f=p.length-1;f>=0;f--){let g=p[f];if(g.filename){i[g.filename]=u;break}}return i},{});try{e.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function ma(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function ga(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function _a(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:U(o.data,t,n)}}))},...e.user&&{user:U(e.user,t,n)},...e.contexts&&{contexts:U(e.contexts,t,n)},...e.extra&&{extra:U(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=U(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:U(o.data,t,n)}}))),r}function ha(e,t){if(!t)return e;let n=e?e.clone():new G;return n.update(t),n}function Qo(e){if(e)return Sa(e)?{captureContext:e}:Ta(e)?{captureContext:e}:e}function Sa(e){return e instanceof G||typeof e=="function"}var Ea=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Ta(e){return Object.keys(e).some(t=>Ea.includes(t))}function Er(e,t){return y().captureException(e,Qo(t))}function Yt(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return y().captureMessage(e,n,r)}function Tr(e,t){return y().captureEvent(e,t)}function yr(e,t){b().setContext(e,t)}function Ir(e){b().setExtras(e)}function xr(e,t){b().setExtra(e,t)}function Ar(e){b().setTags(e)}function br(e,t){b().setTag(e,t)}function Rr(e){b().setUser(e)}function ya(){return b().lastEventId()}async function Ia(e){let t=E();return t?t.flush(e):(_&&l.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function xa(e){let t=E();return t?t.close(e):(_&&l.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Aa(){return!!E()}function ba(e){b().addEventProcessor(e)}function Nr(e){let t=E(),n=b(),r=y(),{release:o,environment:s=be}=t&&t.getOptions()||{},{userAgent:i}=S.navigator||{},a=bo({release:o,environment:s,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),u=n.getSession();return u&&u.status==="ok"&&fe(u,{status:"exited"}),Fe(),n.setSession(a),r.setSession(a),a}function Fe(){let e=b(),t=y(),n=t.getSession()||e.getSession();n&&Ro(n),es(),e.setSession(),t.setSession()}function es(){let e=b(),t=y(),n=E(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function Ra(e=!1){if(e){Fe();return}es()}c();var ts=[];function Na(e){let t={};return e.forEach(n=>{let{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Ca(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Ke(n(t)):r=t;let o=Na(r),s=o.findIndex(i=>i.name==="Debug");if(s>-1){let[i]=o.splice(s,1);o.push(i)}return o}function ns(e,t){let n={};return t.forEach(r=>{r&&Or(e,r,n)}),n}function Cr(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Or(e,t,n){if(n[t.name]){_&&l.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,ts.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),ts.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>r(o,s,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),o=Object.assign((s,i)=>r(s,i,e),{id:t.name});e.addEventProcessor(o)}_&&l.log(`Integration installed: ${t.name}`)}function Oa(e){let t=E();if(!t){_&&l.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}c();function va(e,t){t.debug===!0&&(_?l.enable():ne(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),y().update(t.initialScope);let r=new e(t);return rs(r),r.init(),r}function rs(e){y().setClient(e)}c();var Da=64;function Ma(e,t,n=On(e.bufferSize||Da)){let r={},o=i=>n.drain(i);function s(i){let a=[];if(Q(i,(f,g)=>{let m=vt(g);if(zn(r,m)){let h=os(f,g);e.recordDroppedEvent("ratelimit_backoff",m,h)}else a.push(f)}),a.length===0)return J({});let u=w(i[0],a),p=f=>{Q(u,(g,m)=>{let h=os(g,m);e.recordDroppedEvent(f,vt(m),h)})},d=()=>t({body:Bn(u)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&_&&l.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=Yn(r,f),f),f=>{throw p("network_error"),f});return n.add(d).then(f=>f,f=>{if(f instanceof D)return _&&l.error("Skipped sending event because buffer is full."),p("queue_overflow"),J({});throw f})}return{send:s,flush:o}}function os(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}c();c();var ka="7";function ss(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ua(e){return`${ss(e)}${e.projectId}/envelope/`}function wa(e,t){return ln({sentry_key:e.publicKey,sentry_version:ka,...t&&{sentry_client:`${t.name}/${t.version}`}})}function at(e,t,n){return t||`${Ua(e)}?${wa(e,n)}`}function Pa(e,t){let n=He(e);if(!n)return"";let r=`${ss(n)}embed/error-page/`,o=`dsn=${L(n)}`;for(let s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){let i=t.user;if(!i)continue;i.name&&(o+=`&name=${encodeURIComponent(i.name)}`),i.email&&(o+=`&email=${encodeURIComponent(i.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${o}`}function is(e,t){let n;return Q(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Fa(e,t){return n=>{let r=e(n);return{...r,send:async o=>{let s=is(o,["event","transaction","profile","replay_event"]);return s&&(s.release=t),r.send(o)}}}}function La(e,t){return w(t?{...e[0],dsn:t}:e[0],e[1])}function Ba(e,t){return n=>{let r=e(n),o=new Map;function s(u,p){let d=p?`${u}:${p}`:u,f=o.get(d);if(!f){let g=ht(u);if(!g)return;let m=at(g,n.tunnel);f=p?Fa(e,p)({...n,url:m}):e({...n,url:m}),o.set(d,f)}return[u,f]}async function i(u){function p(m){let h=m&&m.length?m:["event"];return is(u,h)}let d=t({envelope:u,getEvent:p}).map(m=>typeof m=="string"?s(m,void 0):s(m.dsn,m.release)).filter(m=>!!m),f=d.length?d:[["",r]];return(await Promise.all(f.map(([m,h])=>h.send(La(u,m)))))[0]}async function a(u){let p=[...o.values(),r];return(await Promise.all(p.map(f=>f.flush(u)))).every(f=>f)}return{send:i,flush:a}}}c();function $a(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}c();var Ga=100;function vr(e,t){let n=E(),r=b();if(!n)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:s=Ga}=n.getOptions();if(s<=0)return;let a={timestamp:re(),...e},u=o?ne(()=>o(a,t)):a;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,t),r.addBreadcrumb(u,s))}c();var as,Ha="FunctionToString",cs=new WeakMap,ja=()=>({name:Ha,setupOnce(){as=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=dn(this),n=cs.has(E())&&t!==void 0?t:this;return as.apply(n,e)}}catch{}},setup(e){cs.set(e,!0)}}),za=ja;c();var Ya=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Ka="InboundFilters",Ja=(e={})=>({name:Ka,processEvent(t,n,r){let o=r.getOptions(),s=Va(e,o);return qa(t,s)?null:t}}),Wa=Ja;function Va(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Ya],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function qa(e,t){return t.ignoreInternal&&nc(e)?(_&&l.warn(`Event dropped due to being internal Sentry Error.
Event: ${ue(e)}`),!0):Xa(e,t.ignoreErrors)?(_&&l.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ue(e)}`),!0):oc(e)?(_&&l.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ue(e)}`),!0):Za(e,t.ignoreTransactions)?(_&&l.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ue(e)}`),!0):Qa(e,t.denyUrls)?(_&&l.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ue(e)}.
Url: ${Kt(e)}`),!0):ec(e,t.allowUrls)?!1:(_&&l.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ue(e)}.
Url: ${Kt(e)}`),!0)}function Xa(e,t){return e.type||!t||!t.length?!1:tc(e).some(n=>ve(n,t))}function Za(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?ve(n,t):!1}function Qa(e,t){if(!t||!t.length)return!1;let n=Kt(e);return n?ve(n,t):!1}function ec(e,t){if(!t||!t.length)return!0;let n=Kt(e);return n?ve(n,t):!0}function tc(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function nc(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function rc(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Kt(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?rc(t):null}catch{return _&&l.error(`Cannot extract url for event ${ue(e)}`),null}}function oc(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}c();c();var ps=new Map,us=new Set;function sc(e){if(S._sentryModuleMetadata)for(let t of Object.keys(S._sentryModuleMetadata)){let n=S._sentryModuleMetadata[t];if(us.has(t))continue;us.add(t);let r=e(t);for(let o of r.reverse())if(o.filename){ps.set(o.filename,n);break}}}function ic(e,t){return sc(e),ps.get(t)}function Jt(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let o=ic(e,r.filename);o&&(r.module_metadata=o)}})}catch{}}function Wt(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}var ac=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{Q(t,(n,r)=>{if(r==="event"){let o=Array.isArray(n)?n[1]:void 0;o&&(Wt(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Jt(n,t)})}});c();var cc="CaptureConsole",uc=(e={})=>{let t=e.levels||Ee;return{name:cc,setup(n){"console"in S&&_n(({args:r,level:o})=>{E()!==n||!t.includes(o)||fc(r,o)})}}},pc=uc;function fc(e,t){let n={level:wn(t),extra:{arguments:e}};H(r=>{if(r.addEventProcessor(i=>(i.logger="console",Te(i,{handled:!1,type:"console"}),i)),t==="assert"){if(!e[0]){let i=`Assertion failed: ${_t(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),Yt(i,n)}return}let o=e.find(i=>i instanceof Error);if(o){Er(o,n);return}let s=_t(e," ");Yt(s,n)})}c();var dc="Debug",lc=(e={})=>{let t={debugger:!1,stringify:!1,...e};return{name:dc,setup(n){n.on("beforeSendEvent",(r,o)=>{if(t.debugger)debugger;ne(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),o&&Object.keys(o).length&&console.log(JSON.stringify(o,null,2))):(console.log(r),o&&Object.keys(o).length&&console.log(o))})})}}},mc=lc;c();var gc="Dedupe",_c=()=>{let e;return{name:gc,processEvent(t){if(t.type)return t;try{if(Sc(t,e))return _&&l.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},hc=_c;function Sc(e,t){return t?!!(Ec(e,t)||Tc(e,t)):!1}function Ec(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ls(e,t)||!ds(e,t))}function Tc(e,t){let n=fs(t),r=fs(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ls(e,t)||!ds(e,t))}function ds(e,t){let n=ke(e),r=ke(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){let s=r[o],i=n[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function ls(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function fs(e){return e.exception&&e.exception.values&&e.exception.values[0]}c();var yc="ExtraErrorData",Ic=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:yc,processEvent(r,o,s){let{maxValueLength:i=250}=s.getOptions();return Ac(r,o,t,n,i)}}},xc=Ic;function Ac(e,t={},n,r,o){if(!t.originalException||!P(t.originalException))return e;let s=t.originalException.name||t.originalException.constructor.name,i=bc(t.originalException,r,o);if(i){let a={...e.contexts},u=U(i,n);return k(u)&&(v(u,"__sentry_skip_normalization__",!0),a[s]=u),{...e,contexts:a}}return e}function bc(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(let s of Object.keys(e)){if(r.indexOf(s)!==-1)continue;let i=e[s];o[s]=P(i)||typeof i=="string"?F(`${i}`,n):i}if(t&&e.cause!==void 0&&(o.cause=P(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let s=e.toJSON();for(let i of Object.keys(s)){let a=s[i];o[i]=P(a)?a.toString():a}}return o}catch(r){_&&l.error("Unable to extract extra data from the Error object:",r)}return null}c();var Rc="RewriteFrames",Nc=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in S&&S.window!==void 0,o=e.iteratee||Cc({isBrowser:r,root:t,prefix:n});function s(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(u=>({...u,...u.stacktrace&&{stacktrace:i(u.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a&&a.frames&&a.frames.map(u=>o(u))}}return{name:Rc,processEvent(a){let u=a;return a.exception&&Array.isArray(a.exception.values)&&(u=s(u)),u}}};function Cc({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){let i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(o||s){let i=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Nn(t,i):Cn(i);r.filename=`${n}${a}`}return r}}c();var Oc="SessionTiming",vc=()=>{let e=R()*1e3;return{name:Oc,processEvent(t){let n=R()*1e3;return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}},Dc=vc;c();var Mc=10,kc="ZodErrors";function Uc(e){return P(e)&&e.name==="ZodError"&&Array.isArray(e.errors)}function wc(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function Pc(e){let t=new Set;for(let r of e.issues)r.path&&r.path[0]&&t.add(r.path[0]);let n=Array.from(t);return`Failed to validate keys: ${F(n.join(", "),100)}`}function Fc(e,t,n){return!t.exception||!t.exception.values||!n||!n.originalException||!Uc(n.originalException)||n.originalException.issues.length===0?t:{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:Pc(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(wc)}}}var Lc=(e={})=>{let t=e.limit||Mc;return{name:kc,processEvent(n,r){return Fc(t,n,r)}}},Bc=Lc;c();var $c=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{Q(n,(r,o)=>{if(o==="event"){let s=Array.isArray(r)?r[1]:void 0;s&&(Wt(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Jt(r,n)})},processEvent(t){let n=Gc(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function Gc(e){let t=ke(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(ms)).map(r=>r.slice(ms.length)):[])}var ms="_sentryBundlerPluginAppKey:";c();function Hc(e,t={},n=y()){let{message:r,name:o,email:s,url:i,source:a,associatedEventId:u,tags:p}=e,d={contexts:{feedback:x({contact_email:s,name:o,message:r,url:i,source:a,associated_event_id:u})},type:"feedback",level:"info",tags:p},f=n&&n.getClient()||E();return f&&f.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}c();function gs(){return{bindClient(e){y().setClient(e)},withScope:H,getClient:()=>E(),getScope:y,getIsolationScope:b,captureException:(e,t)=>y().captureException(e,t),captureMessage:(e,t,n)=>y().captureMessage(e,t,n),captureEvent:Tr,addBreadcrumb:vr,setUser:Rr,setTags:Ar,setTag:br,setExtra:xr,setExtras:Ir,setContext:yr,getIntegration(e){let t=E();return t&&t.getIntegrationByName(e.id)||null},startSession:Nr,endSession:Fe,captureSession(e){if(e)return Fe();zc()}}}var jc=gs;function zc(){let e=y(),t=E(),n=e.getSession();t&&n&&t.captureSession(n)}c();c();var Vt={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Yc="heartbeatFailed",Kc="idleTimeout",Jc="finalTimeout",Wc="externalFinish";function Vc(e,t={}){let n=new Map,r=!1,o,s=Wc,i=!t.disableAutoFinish,a=[],{idleTimeout:u=Vt.idleTimeout,finalTimeout:p=Vt.finalTimeout,childSpanTimeout:d=Vt.childSpanTimeout,beforeSpanEnd:f}=t,g=E();if(!g||!ie())return new j;let m=y(),h=V(),I=qc(e);I.end=new Proxy(I.end,{apply(N,q,tn){f&&f(I);let[Hr,...pt]=tn,Be=Hr||R(),M=ee(Be),ft=xe(I).filter(me=>me!==I);if(!ft.length)return Gr(M),Reflect.apply(N,q,[M,...pt]);let dt=ft.map(me=>A(me).timestamp).filter(me=>!!me),lt=dt.length?Math.max(...dt):void 0,Ne=A(I).start_timestamp,mt=Math.min(Ne?Ne+p/1e3:1/0,Math.max(Ne||-1/0,Math.min(M,lt||1/0)));return Gr(mt),Reflect.apply(N,q,[mt,...pt])}});function O(){o&&(clearTimeout(o),o=void 0)}function Re(N){O(),o=setTimeout(()=>{!r&&n.size===0&&i&&(s=Kc,I.end(N))},u)}function ut(N){o=setTimeout(()=>{!r&&i&&(s=Yc,I.end(N))},d)}function Ms(N){O(),n.set(N,!0);let q=R();ut(q+d/1e3)}function ks(N){if(n.has(N)&&n.delete(N),n.size===0){let q=R();Re(q+u/1e3)}}function Gr(N){r=!0,n.clear(),a.forEach(M=>M()),oe(m,h);let q=A(I),{start_timestamp:tn}=q;if(!tn)return;(q.data||{})[wt]||I.setAttribute(wt,s),l.log(`[Tracing] Idle span "${q.op}" finished`);let pt=xe(I).filter(M=>M!==I),Be=0;pt.forEach(M=>{M.isRecording()&&(M.setStatus({code:2,message:"cancelled"}),M.end(N),_&&l.log("[Tracing] Cancelling span since span ended early",JSON.stringify(M,void 0,2)));let ft=A(M),{timestamp:dt=0,start_timestamp:lt=0}=ft,Ne=lt<=N,mt=(p+u)/1e3,me=dt-lt<=mt;if(_){let jr=JSON.stringify(M,void 0,2);Ne?me||l.log("[Tracing] Discarding span since it finished after idle span final timeout",jr):l.log("[Tracing] Discarding span since it happened after idle span was finished",jr)}(!me||!Ne)&&(Uo(I,M),Be++)}),Be>0&&I.setAttribute("sentry.idle_span_discarded_spans",Be)}return a.push(g.on("spanStart",N=>{if(r||N===I||A(N).timestamp)return;xe(I).includes(N)&&Ms(N.spanContext().spanId)})),a.push(g.on("spanEnd",N=>{r||ks(N.spanContext().spanId)})),a.push(g.on("idleSpanEnableAutoFinish",N=>{N===I&&(i=!0,Re(),n.size&&ut())})),t.disableAutoFinish||Re(),setTimeout(()=>{r||(I.setStatus({code:2,message:"deadline_exceeded"}),s=Jc,I.end())},p),I}function qc(e){let t=ot(e);return oe(y(),t),_&&l.log("[Tracing] Started span is an idle span"),t}c();var qt=class{constructor(t,n){this._client=t,this.flushTimeout=60,this._pendingAggregates=new Map,this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=n}flush(){let t=this.getSessionAggregates();t.aggregates.length!==0&&(this._pendingAggregates=new Map,this._client.sendSession(t))}getSessionAggregates(){let t=Array.from(this._pendingAggregates.values()),n={attrs:this._sessionAttrs,aggregates:t};return x(n)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let t=b(),n=t.getRequestSession();n&&n.status&&(this._incrementSessionStatusCount(n.status,new Date),t.setRequestSession(void 0))}_incrementSessionStatusCount(t,n){let r=new Date(n).setSeconds(0,0),o=this._pendingAggregates.get(r);switch(o||(o={started:new Date(r).toISOString()},this._pendingAggregates.set(r,o)),t){case"errored":return o.errored=(o.errored||0)+1,o.errored;case"ok":return o.exited=(o.exited||0)+1,o.exited;default:return o.crashed=(o.crashed||0)+1,o.crashed}}};c();var _s="Not capturing exception because it's already been captured.",ct=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=He(t.dsn):_&&l.warn("No DSN provided, client will not send events."),this._dsn){let n=at(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){let o=T();if(bt(t))return _&&l.log(_s),o;let s={event_id:o,...n};return this._process(this.eventFromException(t,s).then(i=>this._captureEvent(i,s,r))),s.event_id}captureMessage(t,n,r,o){let s={event_id:T(),...r},i=Oe(t)?t:String(t),a=gt(t)?this.eventFromMessage(i,n,s):this.eventFromException(t,s);return this._process(a.then(u=>this._captureEvent(u,s,o))),s.event_id}captureEvent(t,n,r){let o=T();if(n&&n.originalException&&bt(n.originalException))return _&&l.log(_s),o;let s={event_id:o,...n},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||r)),s.event_id}captureSession(t){typeof t.release!="string"?_&&l.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),fe(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):J(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Or(this,t,this._integrations),n||Cr(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Ho(t,this._dsn,this._options._metadata,this._options.tunnel);for(let s of n.attachments||[])r=Ln(r,Gn(s));let o=this.sendEnvelope(r);o&&o.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){let n=Go(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let o=`${t}:${n}`;_&&l.log(`Adding outcome: "${o}"`),this._outcomes[o]=(this._outcomes[o]||0)+1}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(_&&l.error("Error while sending event:",n),n)):(_&&l.error("Transport disabled"),J({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=ns(this,t),Cr(this,t)}_updateSessionFromEvent(t,n){let r=!1,o=!1,s=n.exception&&n.exception.values;if(s){o=!0;for(let u of s){let p=u.mechanism;if(p&&p.handled===!1){r=!0;break}}}let i=t.status==="ok";(i&&t.errors===0||i&&r)&&(fe(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Z(n=>{let r=0,o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=o,t&&r>=t&&(clearInterval(s),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o=b()){let s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),Sr(s,t,n,r,this,o).then(a=>{if(a===null)return a;let u={...o.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&u){let{traceId:d,spanId:f,parentSpanId:g,dsc:m}=u;a.contexts={trace:x({trace_id:d,span_id:f,parent_span_id:g}),...a.contexts};let h=m||Se(d,this);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(o=>o.event_id,o=>{if(_){let s=o;s.logLevel==="log"?l.log(s.message):l.warn(s)}})}_processEvent(t,n,r){let o=this.getOptions(),{sampleRate:s}=o,i=Dr(t),a=hs(t),u=t.type||"error",p=`before send for type \`${u}\``,d=typeof s>"u"?void 0:rt(s);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Je(new D(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let f=u==="replay_event"?"replay":u,m=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,m).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",f,t),new D("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;let O=Zc(this,o,h,n);return Xc(O,p)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",f,t),Dr(t)){let ut=1+(t.spans||[]).length;this._outcomes.span=(this._outcomes.span||0)+ut}throw new D(`${p} returned \`null\`, will not send event.`,"log")}let I=r&&r.getSession();!i&&I&&this._updateSessionFromEvent(I,h);let O=h.transaction_info;if(i&&O&&h.transaction!==t.transaction){let Re="custom";h.transaction_info={...O,source:Re}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof D?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new D(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[o,s]=n.split(":");return{reason:o,category:s,quantity:r}})}_flushOutcomes(){_&&l.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){_&&l.log("No outcomes to send");return}if(!this._dsn){_&&l.log("No dsn provided, will not send outcomes");return}_&&l.log("Sending outcomes:",t);let n=jn(t,this._options.tunnel&&L(this._dsn));this.sendEnvelope(n)}};function Xc(e,t){let n=`${t} must return \`null\` or a valid event.`;if(Y(e))return e.then(r=>{if(!k(r)&&r!==null)throw new D(n);return r},r=>{throw new D(`${t} rejected with ${r}`)});if(!k(e)&&e!==null)throw new D(n);return e}function Zc(e,t,n,r){let{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;if(hs(n)&&o)return o(n,r);if(Dr(n)){if(n.spans&&i){let a=[];for(let u of n.spans){let p=i(u);p?a.push(p):e.recordDroppedEvent("before_send","span")}n.spans=a}if(s)return s(n,r)}return n}function hs(e){return e.type===void 0}function Dr(e){return e.type==="transaction"}c();c();function Ss(e,t,n,r,o){let s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&o&&(s.dsn=L(o)),t&&(s.trace=x(t));let i=Qc(e);return w(s,[i])}function Qc(e){return[{type:"check_in"},e]}var Mr=class extends ct{constructor(t){tt(),super(t)}eventFromException(t,n){return J(Jn(this,this._options.stackParser,t,n))}eventFromMessage(t,n="info",r){return J(Wn(this._options.stackParser,t,n,r,this._options.attachStacktrace))}captureException(t,n,r){if(this._options.autoSessionTracking&&this._sessionFlusher){let o=b().getRequestSession();o&&o.status==="ok"&&(o.status="errored")}return super.captureException(t,n,r)}captureEvent(t,n,r){if(this._options.autoSessionTracking&&this._sessionFlusher&&(t.type||"exception")==="exception"&&t.exception&&t.exception.values&&t.exception.values.length>0){let i=b().getRequestSession();i&&i.status==="ok"&&(i.status="errored")}return super.captureEvent(t,n,r)}close(t){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(t)}initSessionFlusher(){let{release:t,environment:n}=this._options;t?this._sessionFlusher=new qt(this,{release:t,environment:n}):_&&l.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(t,n,r){let o="checkInId"in t&&t.checkInId?t.checkInId:T();if(!this._isEnabled())return _&&l.warn("SDK not enabled, will not capture checkin."),o;let s=this.getOptions(),{release:i,environment:a,tunnel:u}=s,p={check_in_id:o,monitor_slug:t.monitorSlug,status:t.status,release:i,environment:a};"duration"in t&&(p.duration=t.duration),n&&(p.monitor_config={schedule:n.schedule,checkin_margin:n.checkinMargin,max_runtime:n.maxRuntime,timezone:n.timezone,failure_issue_threshold:n.failureIssueThreshold,recovery_threshold:n.recoveryThreshold});let[d,f]=this._getTraceInfoFromScope(r);f&&(p.contexts={trace:f});let g=Ss(p,d,this.getSdkMetadata(),u,this.getDsn());return _&&l.info("Sending checkin:",t.monitorSlug,t.status),this.sendEnvelope(g),o}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():_&&l.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(t,n,r,o){return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:(t.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,n,r,o)}_getTraceInfoFromScope(t){if(!t)return[void 0,void 0];let n=de(t);if(n){let u=C(n);return[B(u),et(u)]}let{traceId:r,spanId:o,parentSpanId:s,dsc:i}=t.getPropagationContext(),a={trace_id:r,span_id:o,parent_span_id:s};return i?[i,a]:[Se(r,this),a]}};c();var Es=100,Ts=5e3,eu=36e5;function tu(e){function t(...n){_&&l.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let o=n.createStore(n),s=Ts,i;function a(f,g,m){return Ot(f,["client_report"])?!1:n.shouldStore?n.shouldStore(f,g,m):!0}function u(f){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;let g=await o.shift();g&&(t("Attempting to send previously queued event"),g[0].sent_at=new Date().toISOString(),d(g,!0).catch(m=>{t("Failed to retry sending",m)}))},f),typeof i!="number"&&i.unref&&i.unref()}function p(){i||(u(s),s=Math.min(s*2,eu))}async function d(f,g=!1){if(!g&&Ot(f,["replay_event","replay_recording"]))return await o.push(f),u(Es),{};try{let m=await r.send(f),h=Es;if(m){if(m.headers&&m.headers["retry-after"])h=Mt(m.headers["retry-after"]);else if(m.headers&&m.headers["x-sentry-rate-limits"])h=6e4;else if((m.statusCode||0)>=400)return m}return u(h),s=Ts,m}catch(m){if(await a(f,m,s))return g?await o.unshift(f):await o.push(f),p(),t("Error sending. Event queued.",m),{};throw m}}return n.flushAtStartup&&p(),{send:d,flush:f=>r.flush(f)}}}c();function nu(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return ou(e,n)||ru(e,r)}function ru(e,t){return t?ys(e)===ys(t):!1}function ou(e,t){return t?e.includes(t.host):!1}function ys(e){return e[e.length-1]==="/"?e.slice(0,-1):e}c();function su(e,t,n=[t],r="npm"){let o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:z})),version:z}),e._metadata=o}c();var iu="cause",au=5,cu="LinkedErrors",uu=(e={})=>{let t=e.limit||au,n=e.key||iu;return{name:cu,preprocessEvent(r,o,s){let i=s.getOptions();un(kt,i.stackParser,i.maxValueLength,n,t,r,o)}}},pu=uu;c();var kr={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},fu="RequestData",du=(e={})=>{let t={...kr,...e,include:{...kr.include,...e.include,user:e.include&&typeof e.include.user=="boolean"?e.include.user:{...kr.include.user,...(e.include||{}).user}}};return{name:fu,processEvent(n){let{sdkProcessingMetadata:r={}}=n,o=r.request;if(!o)return n;let s=mu(t);return Un(n,o,s)}}},lu=du;function mu(e){let{transactionNamingScheme:t,include:{ip:n,user:r,...o}}=e,s=["method"];for(let[a,u]of Object.entries(o))u&&s.push(a);let i;if(r===void 0)i=!0;else if(typeof r=="boolean")i=r;else{let a=[];for(let[u,p]of Object.entries(r))p&&a.push(u);i=a}return{include:{ip:n,user:i,request:s.length!==0?s:void 0,transaction:t}}}c();c();var Xt="c",Zt="g",Le="s",Qt="d";function Is(e,t){let n=ge("globalMetricsAggregators",()=>new WeakMap),r=n.get(e);if(r)return r;let o=new t(e);return e.on("flush",()=>o.flush()),e.on("close",()=>o.close()),n.set(e,o),o}function en(e,t,n,r,o={}){let s=o.client||E();if(!s)return;let i=V(),a=i?C(i):void 0,u=a&&A(a).description,{unit:p,tags:d,timestamp:f}=o,{release:g,environment:m}=s.getOptions(),h={};g&&(h.release=g),m&&(h.environment=m),u&&(h.transaction=u),_&&l.log(`Adding value of ${r} to ${t} metric ${n}`),Is(s,e).add(t,n,r,p,{...h,...d},f)}function gu(e,t,n=1,r){en(e,Xt,t,wr(n),r)}function Ur(e,t,n,r){en(e,Qt,t,wr(n),r)}function _u(e,t,n,r="second",o){if(typeof n=="function"){let s=R();return lr({op:"metrics.timing",name:t,startTime:s,onlyIfParent:!0},i=>nt(()=>n(),()=>{},()=>{let a=R(),u=a-s;Ur(e,t,u,{...o,unit:"second"}),i.end(a)}))}Ur(e,t,n,{...o,unit:r})}function hu(e,t,n,r){en(e,Le,t,n,r)}function Su(e,t,n,r){en(e,Zt,t,wr(n),r)}var Eu={increment:gu,distribution:Ur,set:hu,gauge:Su,timing:_u,getMetricsAggregatorForClient:Is};function wr(e){return typeof e=="string"?parseInt(e):e}c();c();function xs(e,t,n,r){let o=Object.entries(x(r)).sort((s,i)=>s[0].localeCompare(i[0]));return`${e}${t}${n}${o}`}function As(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function bs(e){let t="";for(let n of e){let r=Object.entries(n.tags),o=r.length>0?`|#${r.map(([s,i])=>`${s}:${i}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}
`}return t}function Rs(e){return e.replace(/[^\w]+/gi,"_")}function Ns(e){return e.replace(/[^\w\-.]+/gi,"_")}function Tu(e){return e.replace(/[^\w\-./]+/gi,"")}var yu=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Iu(e){for(let[t,n]of yu)if(e===t)return n;return e}function xu(e){return[...e].reduce((t,n)=>t+Iu(n),"")}function Cs(e){let t={};for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=Tu(n);t[r]=xu(String(e[n]))}return t}function Os(e,t){l.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);let n=e.getDsn(),r=e.getSdkMetadata(),o=e.getOptions().tunnel,s=Au(t,n,r,o);e.sendEnvelope(s)}function Au(e,t,n,r){let o={sent_at:new Date().toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=L(t));let s=bu(e);return w(o,[s])}function bu(e){let t=bs(e);return[{type:"statsd",length:t.length},t]}c();var Pr=class{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}},Fr=class{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},Lr=class{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}},Br=class{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?As(t):t).join(":")}},vs={[Xt]:Pr,[Zt]:Fr,[Qt]:Lr,[Le]:Br};c();var $r=class{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),5e3)}add(t,n,r,o="none",s={},i=R()){let a=Math.floor(i),u=Ns(n),p=Cs(s),d=Rs(o),f=xs(t,u,d,p),g=this._buckets.get(f),m=g&&t===Le?g.metric.weight:0;g?(g.metric.add(r),g.timestamp<a&&(g.timestamp=a)):(g={metric:new vs[t](r),timestamp:a,metricType:t,name:u,unit:d,tags:p},this._buckets.set(f,g));let h=typeof r=="string"?g.metric.weight-m:r;wo(t,u,h,d,s,f)}flush(){if(this._buckets.size===0)return;let t=Array.from(this._buckets.values());Os(this._client,t),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}};c();function Nu(e,t,n,r,o="auto.http.browser"){if(!e.fetchData)return;let s=ie()&&t(e.fetchData.url);if(e.endTimestamp&&s){let h=e.fetchData.__span;if(!h)return;let I=r[h];I&&(Ou(I,e),delete r[h]);return}let i=y(),a=E(),{method:u,url:p}=e.fetchData,d=Cu(p),f=d?vn(d).host:void 0,g=!!V(),m=s&&g?ot({name:`${u} ${p}`,attributes:{url:p,type:"fetch","http.method":u,"http.url":d,"server.address":f,[he]:o,[_e]:"http.client"}}):new j;if(e.fetchData.__span=m.spanContext().spanId,r[m.spanContext().spanId]=m,n(e.fetchData.url)&&a){let h=e.args[0];e.args[1]=e.args[1]||{};let I=e.args[1];I.headers=Ds(h,a,i,I,ie()&&g?m:void 0)}return m}function Ds(e,t,n,r,o){let s=b(),{traceId:i,spanId:a,sampled:u,dsc:p}={...s.getPropagationContext(),...n.getPropagationContext()},d=o?cr(o):qe(i,a,u),f=Ve(p||(o?B(o):Se(i,t))),g=r.headers||(typeof Request<"u"&&$(e,Request)?e.headers:void 0);if(g)if(typeof Headers<"u"&&$(g,Headers)){let m=new Headers(g);return m.append("sentry-trace",d),f&&m.append(Nt,f),m}else if(Array.isArray(g)){let m=[...g,["sentry-trace",d]];return f&&m.push([Nt,f]),m}else{let m="baggage"in g?g.baggage:void 0,h=[];return Array.isArray(m)?h.push(...m):m&&h.push(m),f&&h.push(f),{...g,"sentry-trace":d,baggage:h.length>0?h.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}function Cu(e){try{return new URL(e).href}catch{return}}function Ou(e,t){if(t.response){or(e,t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}export{P as a,nn as b,Us as c,ws as d,te as e,Oe as f,gt as g,k as h,rn as i,F as j,Ge as k,_t as l,ve as m,un as n,Fs as o,z as p,S as q,pn as r,$s as s,Gs as t,Hs as u,ne as v,l as w,L as x,je as y,v as z,Xr as A,dn as B,mn as C,x as D,Tt as E,eo as F,Vs as G,ze as H,ae as I,ce as J,X as K,_n as L,ro as M,hn as N,Sn as O,Xs as P,R as Q,Qs as R,ei as S,Tn as T,yn as U,si as V,ii as W,T as X,ue as Y,An as Z,Te as _,ui as $,pi as aa,U as ba,Rt as ca,hi as da,J as ea,Je as fa,vn as ga,Dn as ha,Si as ia,wn as ja,Ai as ka,Nt as la,We as ma,Ve as na,Fn as oa,qe as pa,w as qa,Q as ra,Bn as sa,Ci as ta,Dt as ua,Hn as va,zn as wa,Yn as xa,Vn as ya,Ui as za,wi as Aa,Ue as Ba,Pi as Ca,G as Da,Qn as Ea,y as Fa,b as Ga,tr as Ha,H as Ia,Oo as Ja,E as Ka,ye as La,Ze as Ma,_e as Na,he as Oa,wt as Pa,Pt as Qa,Ft as Ra,rr as Sa,Gi as Ta,Hi as Ua,ji as Va,vo as Wa,or as Xa,cr as Ya,A as Za,se as _a,xe as $a,C as ab,V as bb,tt as cb,fr as db,Ht as eb,Wi as fb,ie as gb,j as hb,be as ib,Se as jb,B as kb,Vi as lb,rt as mb,qi as nb,na as ob,lr as pb,ot as qb,ra as rb,jt as sb,oa as tb,sa as ub,Vt as vb,Vc as wb,Sr as xb,Er as yb,Yt as zb,Tr as Ab,yr as Bb,Ir as Cb,xr as Db,Ar as Eb,br as Fb,Rr as Gb,ya as Hb,Ia as Ib,xa as Jb,Aa as Kb,ba as Lb,Nr as Mb,Fe as Nb,Ra as Ob,Pa as Pb,Ca as Qb,Oa as Rb,ct as Sb,Mr as Tb,va as Ub,rs as Vb,Ma as Wb,tu as Xb,Ba as Yb,nu as Zb,$a as _b,su as $b,vr as ac,za as bc,Wa as cc,pu as dc,ac as ec,lu as fc,pc as gc,mc as hc,hc as ic,xc as jc,Nc as kc,Dc as lc,Bc as mc,$c as nc,Eu as oc,$r as pc,Nu as qc,Hc as rc,jc as sc};
//# sourceMappingURL=chunk-CJ3JTOGS.js.map