import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{a as b,b as _,e as a,f as h}from"./chunk-YCUOSGLG.js";import{f as w,i as s}from"./chunk-SKH2TXDX.js";import"./chunk-Q6WPLZZC.js";import{b as d}from"./chunk-XBIKRRQN.js";import"./chunk-6TDWVLRD.js";import{a as v}from"./chunk-Z6MBXKB5.js";import{d as n}from"./chunk-34HYWOQN.js";import"./chunk-CCZ55TG3.js";import{a as l}from"./chunk-ULZRRJS5.js";import"./chunk-XOWZQRGH.js";import"./chunk-QC5Y7QKP.js";import"./chunk-QKI65SFV.js";import{b as p}from"./chunk-SHTCM5ZT.js";import"./chunk-SPXP6KD4.js";import"./chunk-CNRVJIPG.js";import"./chunk-SYHT5LTW.js";import"./chunk-K656WQZA.js";import"./chunk-TVMTOQUC.js";import"./chunk-F67LDVCV.js";import"./chunk-ZBJRW65P.js";import"./chunk-J3IJS26Z.js";import"./chunk-CJ3JTOGS.js";import{i as c}from"./chunk-NUQ6G6J3.js";import"./chunk-3VDYJ2A2.js";import"./chunk-NWTFQJ5S.js";import"./chunk-CU4HXYD6.js";import{e as C,i as t}from"./chunk-UO4ZAUJK.js";t();t();import{cwd as x,exit as D}from"node:process";var f=C(b(),1);async function I({biLogger:u,errorReporter:g},m){let r=await n(x()),y=await v({metaSiteId:r.metaSiteId,biLogger:u,errorReporter:g}),S=l(),e=d({t:S}),i=await _(o=>p(c(r.projectFolder),o)),P=(m.source?{value:m.source}:await(0,f.default)({type:"select",name:"value",message:e.t("preview_command.prompt_what_to_preview"),choices:[{title:i?e.t("preview_command.prompt_what_to_preview_choice_latest",{branchName:i}):e.t("preview_command.prompt_what_to_preview_choice_latest_fallback"),value:"remote"},{title:e.t("preview_command.prompt_what_to_preview_choice_local"),value:"local"}]},{onCancel:()=>{e.logAborting(),D(130)}})).value==="local"?a.local():a.remote({});e.logCreatingPreview();try{let o=await h({model:r,operation:w.RC,source:P,authState:y});e.logPreviewCreated(o.deploymentShortUrl??o.deploymentUrl)}catch(o){if(s(o))e.logPreviewUnsupported();else throw o}}export{I as preview};
//# sourceMappingURL=preview-47HHGDUS.js.map