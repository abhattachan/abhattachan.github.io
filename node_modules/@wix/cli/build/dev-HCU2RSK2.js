import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{a as fx,b as Yf}from"./chunk-K2P7OT6H.js";import{a as jf,b as Hf,d as Kf,e as Wf,h as Oc,j as Gf}from"./chunk-SKH2TXDX.js";import{a as es,b as zf}from"./chunk-XBIKRRQN.js";import"./chunk-6TDWVLRD.js";import{a as $f}from"./chunk-Z6MBXKB5.js";import{d as Vf,e as qf}from"./chunk-34HYWOQN.js";import"./chunk-CCZ55TG3.js";import{a as Ff}from"./chunk-ULZRRJS5.js";import"./chunk-XOWZQRGH.js";import"./chunk-QC5Y7QKP.js";import"./chunk-2U7VPZZN.js";import"./chunk-U37RKZCU.js";import{a as kf,d as Bf,f as Nc,h as Of,n as Bc}from"./chunk-QKI65SFV.js";import{a as Rf,b as Ws,c as If}from"./chunk-SHTCM5ZT.js";import{a as px,r as Af}from"./chunk-SPXP6KD4.js";import{b as Ue,f as Lf,g as Pf,h as Df,i as Uf,j as Mf}from"./chunk-CNRVJIPG.js";import"./chunk-SYHT5LTW.js";import"./chunk-K656WQZA.js";import"./chunk-TVMTOQUC.js";import"./chunk-F67LDVCV.js";import"./chunk-ZBJRW65P.js";import"./chunk-J3IJS26Z.js";import"./chunk-CJ3JTOGS.js";import{a as Cf,b as wa,c as wf,i as Ks}from"./chunk-NUQ6G6J3.js";import{c as Ta,d as Nf}from"./chunk-3VDYJ2A2.js";import{b as Tf}from"./chunk-NWTFQJ5S.js";import{c as rr,e as ir}from"./chunk-CU4HXYD6.js";import{a as Y,b as lx,c as Q,d as Sf,e as Ve,f as ux,g as __dirname,i as U}from"./chunk-UO4ZAUJK.js";var Uc=Q((_N,Zf)=>{"use strict";U();var Lc=class i extends Error{constructor(e){super(i._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,i)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}},dx=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],Pc=Symbol(".toJSON called"),hx=i=>{i[Pc]=!0;let e=i.toJSON();return delete i[Pc],e},Dc=({from:i,seen:e,to_:t,forceEnumerable:r,maxDepth:s,depth:n})=>{let a=t||(Array.isArray(i)?[]:{});if(e.push(i),n>=s)return a;if(typeof i.toJSON=="function"&&i[Pc]!==!0)return hx(i);for(let[c,l]of Object.entries(i)){if(typeof Buffer=="function"&&Buffer.isBuffer(l)){a[c]="[object Buffer]";continue}if(typeof l!="function"){if(!l||typeof l!="object"){a[c]=l;continue}if(!e.includes(i[c])){n++,a[c]=Dc({from:i[c],seen:e.slice(),forceEnumerable:r,maxDepth:s,depth:n});continue}a[c]="[Circular]"}}for(let{property:c,enumerable:l}of dx)typeof i[c]=="string"&&Object.defineProperty(a,c,{value:i[c],enumerable:r?!0:l,configurable:!0,writable:!0});return a},mx=(i,e={})=>{let{maxDepth:t=Number.POSITIVE_INFINITY}=e;return typeof i=="object"&&i!==null?Dc({from:i,seen:[],forceEnumerable:!0,maxDepth:t,depth:0}):typeof i=="function"?`[Function: ${i.name||"anonymous"}]`:i},gx=(i,e={})=>{let{maxDepth:t=Number.POSITIVE_INFINITY}=e;if(i instanceof Error)return i;if(typeof i=="object"&&i!==null&&!Array.isArray(i)){let r=new Error;return Dc({from:i,seen:[],to_:r,maxDepth:t,depth:0}),r}return new Lc(i)};Zf.exports={serializeError:mx,deserializeError:gx}});var Qf=Q((bN,vx)=>{vx.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Jf=Q((EN,Xf)=>{"use strict";U();Xf.exports=Qf()});var rd=Q(Mt=>{"use strict";U();var Aa=Jf(),yx=Y("path").extname,ed=/^\s*([^;\s]*)(?:;|\s|$)/,_x=/^text\//i;Mt.charset=td;Mt.charsets={lookup:td};Mt.contentType=xx;Mt.extension=bx;Mt.extensions=Object.create(null);Mt.lookup=Ex;Mt.types=Object.create(null);Sx(Mt.extensions,Mt.types);function td(i){if(!i||typeof i!="string")return!1;var e=ed.exec(i),t=e&&Aa[e[1].toLowerCase()];return t&&t.charset?t.charset:e&&_x.test(e[1])?"UTF-8":!1}function xx(i){if(!i||typeof i!="string")return!1;var e=i.indexOf("/")===-1?Mt.lookup(i):i;if(!e)return!1;if(e.indexOf("charset")===-1){var t=Mt.charset(e);t&&(e+="; charset="+t.toLowerCase())}return e}function bx(i){if(!i||typeof i!="string")return!1;var e=ed.exec(i),t=e&&Mt.extensions[e[1].toLowerCase()];return!t||!t.length?!1:t[0]}function Ex(i){if(!i||typeof i!="string")return!1;var e=yx("x."+i).toLowerCase().substr(1);return e&&Mt.types[e]||!1}function Sx(i,e){var t=["nginx","apache",void 0,"iana"];Object.keys(Aa).forEach(function(s){var n=Aa[s],a=n.extensions;if(!(!a||!a.length)){i[s]=a;for(var c=0;c<a.length;c++){var l=a[c];if(e[l]){var o=t.indexOf(Aa[e[l]].source),d=t.indexOf(n.source);if(e[l]!=="application/octet-stream"&&(o>d||o===d&&e[l].substr(0,12)==="application/"))continue}e[l]=s}}})}});var ka=Q((TN,id)=>{"use strict";U();var Cx=fx(),wx=rd();id.exports=Gt;function Gt(i){if(!(this instanceof Gt))return new Gt(i);this.headers=i.headers,this.negotiator=new Cx(i)}Gt.prototype.type=Gt.prototype.types=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}if(!e||e.length===0)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var r=e.map(Tx),s=this.negotiator.mediaTypes(r.filter(Ax)),n=s[0];return n?e[r.indexOf(n)]:!1};Gt.prototype.encoding=Gt.prototype.encodings=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.encodings():this.negotiator.encodings(e)[0]||!1};Gt.prototype.charset=Gt.prototype.charsets=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.charsets():this.negotiator.charsets(e)[0]||!1};Gt.prototype.lang=Gt.prototype.langs=Gt.prototype.language=Gt.prototype.languages=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.languages():this.negotiator.languages(e)[0]||!1};function Tx(i){return i.indexOf("/")===-1?wx.lookup(i):i}function Ax(i){return typeof i=="string"}});var Fc=Q((sd,nd)=>{"use strict";U();var Gs=Y("crypto"),Mc=function(){};Mc.prototype.getRandomBytes=function(i){var e=4096,t=this;if(i=i||12,i>e)return Gs.randomBytes(i);var r=parseInt(e/i),s=parseInt(r*.85);if(!s||(this.bytesBufferIndex==null&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==r&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(this.bytesBufferIndex==-1||this.bytesBufferIndex>s)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,Gs.randomBytes(e,function(a,c){t.bytesBuffer=c,t.bytesBufferIndex=0,t.isGeneratingBytes=!1})),this.bytesBufferIndex==-1)))return Gs.randomBytes(i);var n=this.bytesBuffer.slice(i*this.bytesBufferIndex,i*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,n};Mc.prototype.generateId=function(){var i=Buffer.alloc(15);return i.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,i.writeInt32BE(this.sequenceNumber,11),Gs.randomBytes?this.getRandomBytes(12).copy(i):[0,4,8].forEach(function(e){i.writeInt32BE(Math.random()*Math.pow(2,32)|0,e)}),i.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()};sd=nd.exports=new Mc});var Ra=Q(oi=>{"use strict";U();Object.defineProperty(oi,"__esModule",{value:!0});oi.ERROR_PACKET=oi.PACKET_TYPES_REVERSE=oi.PACKET_TYPES=void 0;var Tr=Object.create(null);oi.PACKET_TYPES=Tr;Tr.open="0";Tr.close="1";Tr.ping="2";Tr.pong="3";Tr.message="4";Tr.upgrade="5";Tr.noop="6";var ad=Object.create(null);oi.PACKET_TYPES_REVERSE=ad;Object.keys(Tr).forEach(i=>{ad[Tr[i]]=i});var kx={type:"error",data:"parser error"};oi.ERROR_PACKET=kx});var cd=Q(Ri=>{"use strict";U();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.encodePacketToBinary=Ri.encodePacket=void 0;var Rx=Ra(),Ix=({type:i,data:e},t,r)=>e instanceof ArrayBuffer||ArrayBuffer.isView(e)?r(t?e:"b"+od(e,!0).toString("base64")):r(Rx.PACKET_TYPES[i]+(e||""));Ri.encodePacket=Ix;var od=(i,e)=>Buffer.isBuffer(i)||i instanceof Uint8Array&&!e?i:i instanceof ArrayBuffer?Buffer.from(i):Buffer.from(i.buffer,i.byteOffset,i.byteLength),Vc;function Nx(i,e){if(i.data instanceof ArrayBuffer||ArrayBuffer.isView(i.data))return e(od(i.data,!1));(0,Ri.encodePacket)(i,!0,t=>{Vc||(Vc=new TextEncoder),e(Vc.encode(t))})}Ri.encodePacketToBinary=Nx});var ud=Q(Na=>{"use strict";U();Object.defineProperty(Na,"__esModule",{value:!0});Na.decodePacket=void 0;var Ia=Ra(),Bx=(i,e)=>{if(typeof i!="string")return{type:"message",data:ld(i,e)};let t=i.charAt(0);if(t==="b"){let r=Buffer.from(i.substring(1),"base64");return{type:"message",data:ld(r,e)}}return Ia.PACKET_TYPES_REVERSE[t]?i.length>1?{type:Ia.PACKET_TYPES_REVERSE[t],data:i.substring(1)}:{type:Ia.PACKET_TYPES_REVERSE[t]}:Ia.ERROR_PACKET};Na.decodePacket=Bx;var ld=(i,e)=>{switch(e){case"arraybuffer":return i instanceof ArrayBuffer?i:Buffer.isBuffer(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i.buffer;case"nodebuffer":default:return Buffer.isBuffer(i)?i:Buffer.from(i)}}});var zs=Q(Rt=>{"use strict";U();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.decodePayload=Rt.decodePacket=Rt.encodePayload=Rt.encodePacket=Rt.protocol=Rt.createPacketDecoderStream=Rt.createPacketEncoderStream=void 0;var jc=cd();Object.defineProperty(Rt,"encodePacket",{enumerable:!0,get:function(){return jc.encodePacket}});var Hc=ud();Object.defineProperty(Rt,"decodePacket",{enumerable:!0,get:function(){return Hc.decodePacket}});var pd=Ra(),fd="",Ox=(i,e)=>{let t=i.length,r=new Array(t),s=0;i.forEach((n,a)=>{(0,jc.encodePacket)(n,!1,c=>{r[a]=c,++s===t&&e(r.join(fd))})})};Rt.encodePayload=Ox;var Lx=(i,e)=>{let t=i.split(fd),r=[];for(let s=0;s<t.length;s++){let n=(0,Hc.decodePacket)(t[s],e);if(r.push(n),n.type==="error")break}return r};Rt.decodePayload=Lx;function Px(){return new TransformStream({transform(i,e){(0,jc.encodePacketToBinary)(i,t=>{let r=t.length,s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);let n=new DataView(s.buffer);n.setUint8(0,126),n.setUint16(1,r)}else{s=new Uint8Array(9);let n=new DataView(s.buffer);n.setUint8(0,127),n.setBigUint64(1,BigInt(r))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}Rt.createPacketEncoderStream=Px;var qc;function Ba(i){return i.reduce((e,t)=>e+t.length,0)}function Oa(i,e){if(i[0].length===e)return i.shift();let t=new Uint8Array(e),r=0;for(let s=0;s<e;s++)t[s]=i[0][r++],r===i[0].length&&(i.shift(),r=0);return i.length&&r<i[0].length&&(i[0]=i[0].slice(r)),t}function Dx(i,e){qc||(qc=new TextDecoder);let t=[],r=0,s=-1,n=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(r===0){if(Ba(t)<1)break;let l=Oa(t,1);n=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ba(t)<2)break;let l=Oa(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Ba(t)<8)break;let l=Oa(t,8),o=new DataView(l.buffer,l.byteOffset,l.length),d=o.getUint32(0);if(d>Math.pow(2,21)-1){c.enqueue(pd.ERROR_PACKET);break}s=d*Math.pow(2,32)+o.getUint32(4),r=3}else{if(Ba(t)<s)break;let l=Oa(t,s);c.enqueue((0,Hc.decodePacket)(n?l:qc.decode(l),e)),r=0}if(s===0||s>i){c.enqueue(pd.ERROR_PACKET);break}}}})}Rt.createPacketDecoderStream=Dx;Rt.protocol=4});var gd=Q((UN,md)=>{"use strict";U();var ci=String.fromCharCode;function dd(i){for(var e=[],t=0,r=i.length,s,n;t<r;)s=i.charCodeAt(t++),s>=55296&&s<=56319&&t<r?(n=i.charCodeAt(t++),(n&64512)==56320?e.push(((s&1023)<<10)+(n&1023)+65536):(e.push(s),t--)):e.push(s);return e}function Ux(i){for(var e=i.length,t=-1,r,s="";++t<e;)r=i[t],r>65535&&(r-=65536,s+=ci(r>>>10&1023|55296),r=56320|r&1023),s+=ci(r);return s}function hd(i,e){if(i>=55296&&i<=57343){if(e)throw Error("Lone surrogate U+"+i.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Kc(i,e){return ci(i>>e&63|128)}function Mx(i,e){if(!(i&4294967168))return ci(i);var t="";return i&4294965248?i&4294901760?i&4292870144||(t=ci(i>>18&7|240),t+=Kc(i,12),t+=Kc(i,6)):(hd(i,e)||(i=65533),t=ci(i>>12&15|224),t+=Kc(i,6)):t=ci(i>>6&31|192),t+=ci(i&63|128),t}function Fx(i,e){e=e||{};for(var t=e.strict!==!1,r=dd(i),s=r.length,n=-1,a,c="";++n<s;)a=r[n],c+=Mx(a,t);return c}function ts(){if(li>=Pa)throw Error("Invalid byte index");var i=La[li]&255;if(li++,(i&192)==128)return i&63;throw Error("Invalid continuation byte")}function Vx(i){var e,t,r,s,n;if(li>Pa)throw Error("Invalid byte index");if(li==Pa)return!1;if(e=La[li]&255,li++,!(e&128))return e;if((e&224)==192){if(t=ts(),n=(e&31)<<6|t,n>=128)return n;throw Error("Invalid continuation byte")}if((e&240)==224){if(t=ts(),r=ts(),n=(e&15)<<12|t<<6|r,n>=2048)return hd(n,i)?n:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(t=ts(),r=ts(),s=ts(),n=(e&7)<<18|t<<12|r<<6|s,n>=65536&&n<=1114111))return n;throw Error("Invalid UTF-8 detected")}var La,Pa,li;function qx(i,e){e=e||{};var t=e.strict!==!1;La=dd(i),Pa=La.length,li=0;for(var r=[],s;(s=Vx(t))!==!1;)r.push(s);return Ux(r)}md.exports={version:"2.1.2",encode:Fx,decode:qx}});var Cd=Q(Me=>{"use strict";U();Object.defineProperty(Me,"__esModule",{value:!0});Me.decodePayloadAsBinary=Me.encodePayloadAsBinary=Me.decodePayload=Me.encodePayload=Me.decodeBase64Packet=Me.decodePacket=Me.encodeBase64Packet=Me.encodePacket=Me.packets=Me.protocol=void 0;var yd=gd();Me.protocol=3;var jx=i=>{for(let e of i)if(e.data instanceof ArrayBuffer||ArrayBuffer.isView(e.data))return!0;return!1};Me.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var rs=Object.keys(Me.packets),fr={type:"error",data:"parser error"},Hx=Buffer.concat([]);function Wc(i,e,t,r){if(typeof e=="function"&&(r=e,e=null),typeof t=="function"&&(r=t,t=null),Buffer.isBuffer(i.data))return vd(i,e,r);if(i.data&&(i.data.buffer||i.data)instanceof ArrayBuffer)return vd({type:i.type,data:zc(i.data)},e,r);var s=Me.packets[i.type];return i.data!==void 0&&(s+=t?yd.encode(String(i.data),{strict:!1}):String(i.data)),r(""+s)}Me.encodePacket=Wc;function vd(i,e,t){if(!e)return _d(i,t);var r=i.data,s=Buffer.allocUnsafe(1);return s[0]=Me.packets[i.type],t(Buffer.concat([s,r]))}function _d(i,e){var t=Buffer.isBuffer(i.data)?i.data:zc(i.data),r="b"+Me.packets[i.type];return r+=t.toString("base64"),e(r)}Me.encodeBase64Packet=_d;function Gc(i,e,t){if(i===void 0)return fr;var r;if(typeof i=="string")return r=i.charAt(0),r==="b"?xd(i.slice(1),e):t&&(i=Kx(i),i===!1)||Number(r)!=r||!rs[r]?fr:i.length>1?{type:rs[r],data:i.slice(1)}:{type:rs[r]};if(e==="arraybuffer"){var s=new Uint8Array(i);return r=s[0],{type:rs[r],data:s.buffer.slice(1)}}return i instanceof ArrayBuffer&&(i=zc(i)),r=i[0],{type:rs[r],data:i.slice(1)}}Me.decodePacket=Gc;function Kx(i){try{i=yd.decode(i,{strict:!1})}catch{return!1}return i}function xd(i,e){var t=rs[i.charAt(0)],r=Buffer.from(i.slice(1),"base64");if(e==="arraybuffer"){for(var s=new Uint8Array(r.length),n=0;n<s.length;n++)s[n]=r[n];r=s.buffer}return{type:t,data:r}}Me.decodeBase64Packet=xd;function Wx(i,e,t){if(typeof e=="function"&&(t=e,e=null),e&&jx(i))return Ed(i,t);if(!i.length)return t("0:");function r(s,n){Wc(s,e,!1,function(a){n(null,Gx(a))})}bd(i,r,function(s,n){return t(n.join(""))})}Me.encodePayload=Wx;function Gx(i){return i.length+":"+i}function bd(i,e,t){let r=new Array(i.length),s=0;for(let n=0;n<i.length;n++)e(i[n],(a,c)=>{r[n]=c,++s===i.length&&t(null,r)})}function zx(i,e,t){if(typeof i!="string")return Sd(i,e,t);if(typeof e=="function"&&(t=e,e=null),i==="")return t(fr,0,1);for(var r="",s,n,a,c=0,l=i.length;c<l;c++){var o=i.charAt(c);if(o!==":"){r+=o;continue}if(r===""||r!=(s=Number(r))||(n=i.slice(c+1,c+1+s),r!=n.length))return t(fr,0,1);if(n.length){if(a=Gc(n,e,!1),fr.type===a.type&&fr.data===a.data)return t(fr,0,1);var d=t(a,c+s,l);if(d===!1)return}c+=s,r=""}if(r!=="")return t(fr,0,1)}Me.decodePayload=zx;function $x(i){for(var e="",t=0,r=i.length;t<r;t++)e+=String.fromCharCode(i[t]);return e}function Yx(i){for(var e=Buffer.allocUnsafe(i.length),t=0,r=i.length;t<r;t++)e.writeUInt8(i.charCodeAt(t),t);return e}function zc(i){var e=i.byteLength||i.length,t=i.byteOffset||0;return Buffer.from(i.buffer||i,t,e)}function Ed(i,e){if(!i.length)return e(Hx);bd(i,Zx,function(t,r){return e(Buffer.concat(r))})}Me.encodePayloadAsBinary=Ed;function Zx(i,e){function t(r){var s=""+r.length,n;if(typeof r=="string"){n=Buffer.allocUnsafe(s.length+2),n[0]=0;for(var a=0;a<s.length;a++)n[a+1]=parseInt(s[a],10);return n[n.length-1]=255,e(null,Buffer.concat([n,Yx(r)]))}n=Buffer.allocUnsafe(s.length+2),n[0]=1;for(var a=0;a<s.length;a++)n[a+1]=parseInt(s[a],10);n[n.length-1]=255,e(null,Buffer.concat([n,r]))}Wc(i,!0,!0,t)}function Sd(i,e,t){typeof e=="function"&&(t=e,e=null);for(var r=i,s=[],n;r.length>0;){var a="",c=r[0]===0;for(n=1;r[n]!==255;n++){if(a.length>310)return t(fr,0,1);a+=""+r[n]}r=r.slice(a.length+1);var l=parseInt(a,10),o=r.slice(1,l+1);c&&(o=$x(o)),s.push(o),r=r.slice(l+1)}var d=s.length;for(n=0;n<d;n++){var u=s[n];t(Gc(u,e,!0),n,d)}}Me.decodePayloadAsBinary=Sd});var Ii=Q(Da=>{"use strict";U();Object.defineProperty(Da,"__esModule",{value:!0});Da.Transport=void 0;var Qx=Y("events"),Xx=zs(),Jx=Cd(),eb=Ue(),$c=(0,eb.default)("engine:transport");function tb(){}var Yc=class extends Qx.EventEmitter{constructor(e){super(),this.readyState="open",this.discarded=!1,this.protocol=e._query.EIO==="4"?4:3,this.parser=this.protocol===4?Xx:Jx}get readyState(){return this._readyState}set readyState(e){$c("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}discard(){this.discarded=!0}onRequest(e){$c("setting request"),this.req=e}close(e){this.readyState==="closed"||this.readyState==="closing"||(this.readyState="closing",this.doClose(e||tb))}onError(e,t){if(this.listeners("error").length){let r=new Error(e);r.type="TransportError",r.description=t,this.emit("error",r)}else $c("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}};Da.Transport=Yc});var Qc=Q(Ua=>{"use strict";U();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.Polling=void 0;var rb=Ii(),wd=Y("zlib"),ib=ka(),sb=Ue(),zt=(0,sb.default)("engine:polling"),nb={gzip:wd.createGzip,deflate:wd.createDeflate},Zc=class extends rb.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){let t=e.res;e.method==="GET"?this.onPollRequest(e,t):e.method==="POST"?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req){zt("request overlap"),this.onError("overlap from client"),t.writeHead(400),t.end();return}zt("setting request"),this.req=e,this.res=t;let r=()=>{this.onError("poll connection closed prematurely")},s=()=>{e.removeListener("close",r),this.req=this.res=null};e.cleanup=s,e.on("close",r),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(zt("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq){this.onError("data request overlap from client"),t.writeHead(400),t.end();return}let r=e.headers["content-type"]==="application/octet-stream";if(r&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let s=r?Buffer.concat([]):"",n=()=>{e.removeListener("data",c),e.removeListener("end",l),e.removeListener("close",a),this.dataReq=this.dataRes=s=null},a=()=>{n(),this.onError("data request connection closed prematurely")},c=o=>{let d;r?(s=Buffer.concat([s,o]),d=s.length):(s+=o,d=Buffer.byteLength(s)),d>this.maxHttpBufferSize&&(t.writeHead(413).end(),n())},l=()=>{this.onData(s);let o={"Content-Type":"text/html","Content-Length":2};t.writeHead(200,this.headers(e,o)),t.end("ok"),n()};e.on("close",a),r||e.setEncoding("utf8"),e.on("data",c),e.on("end",l)}onData(e){zt('received "%s"',e);let t=r=>{if(r.type==="close")return zt("got xhr close packet"),this.onClose(),!1;this.onPacket(r)};this.protocol===3?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(zt("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);let t=r=>{let s=e.some(n=>n.options&&n.options.compress);this.write(r,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){zt('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup()})}doWrite(e,t,r){let s=typeof e=="string",a={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},c=d=>{a["Content-Length"]=typeof d=="string"?Buffer.byteLength(d):d.length,this.res.writeHead(200,this.headers(this.req,a)),this.res.end(d),r()};if(!this.httpCompression||!t.compress){c(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){c(e);return}let o=ib(this.req).encodings(["gzip","deflate"]);if(!o){c(e);return}this.compress(e,o,(d,u)=>{if(d){this.res.writeHead(500),this.res.end(),r(d);return}a["Content-Encoding"]=o,c(u)})}compress(e,t,r){zt("compressing");let s=[],n=0;nb[t](this.httpCompression).on("error",r).on("data",function(a){s.push(a),n+=a.length}).on("end",function(){r(null,Buffer.concat(s,n))}).end(e)}doClose(e){zt("closing");let t;this.dataReq&&(zt("aborting ongoing data request"),this.dataReq.destroy());let r=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(zt("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(zt("transport discarded - closing right away"),r()):(zt("transport not writable - buffering orderly close"),this.shouldClose=r,t=setTimeout(r,this.closeTimeout))}headers(e,t){t=t||{};let r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}};Ua.Polling=Zc});var Td=Q(Ma=>{"use strict";U();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.JSONP=void 0;var ab=Qc(),ob=Y("querystring"),cb=/\\\\n/g,lb=/(\\)?\\n/g,Xc=class extends ab.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){e=ob.parse(e).d,typeof e=="string"&&(e=e.replace(lb,function(t,r){return r?t:`
`}),super.onData(e.replace(cb,"\\n")))}doWrite(e,t,r){let s=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+s+this.foot,super.doWrite(e,t,r)}};Ma.JSONP=Xc});var Ad=Q(Fa=>{"use strict";U();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.WebSocket=void 0;var ub=Ii(),pb=Ue(),Jc=(0,pb.default)("engine:ws"),el=class extends ub.Transport{constructor(e){super(e),this.socket=e.websocket,this.socket.on("message",(t,r)=>{let s=r?t:t.toString();Jc('received "%s"',s),super.onData(s)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t+1===e.length,n={};r.options&&(n.compress=r.options.compress);let a=l=>{if(l)return this.onError("write error",l.stack);s&&(this.writable=!0,this.emit("drain"))},c=l=>{this.perMessageDeflate&&(typeof l=="string"?Buffer.byteLength(l):l.length)<this.perMessageDeflate.threshold&&(n.compress=!1),Jc('writing "%s"',l),this.socket.send(l,n,a)};r.options&&typeof r.options.wsPreEncoded=="string"?c(r.options.wsPreEncoded):this._canSendPreEncodedFrame(r)?this.socket._sender.sendFrame(r.options.wsPreEncodedFrame,a):this.parser.encodePacket(r,this.supportsBinary,c)}}_canSendPreEncodedFrame(e){var t,r,s;return!this.perMessageDeflate&&typeof((r=(t=this.socket)===null||t===void 0?void 0:t._sender)===null||r===void 0?void 0:r.sendFrame)=="function"&&((s=e.options)===null||s===void 0?void 0:s.wsPreEncodedFrame)!==void 0}doClose(e){Jc("closing"),this.socket.close(),e&&e()}};Fa.WebSocket=el});var rl=Q(Va=>{"use strict";U();Object.defineProperty(Va,"__esModule",{value:!0});Va.WebTransport=void 0;var fb=Ii(),db=Ue(),hb=zs(),$s=(0,db.default)("engine:webtransport"),tl=class extends fb.Transport{constructor(e,t,r){super({_query:{EIO:"4"}}),this.session=e;let s=(0,hb.createPacketEncoderStream)();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter(),(async()=>{try{for(;;){let{value:n,done:a}=await r.read();if(a){$s("session is closed");break}$s("received chunk: %o",n),this.onPacket(n)}}catch(n){$s("error while reading: %s",n.message)}})(),e.closed.then(()=>this.onClose()),this.writable=!0}get name(){return"webtransport"}get supportsFraming(){return!0}async send(e){this.writable=!1;try{for(let t=0;t<e.length;t++){let r=e[t];await this.writer.write(r)}}catch(t){$s("error while writing: %s",t.message)}this.writable=!0,this.emit("drain")}doClose(e){$s("closing WebTransport session"),this.session.close(),e&&e()}};Va.WebTransport=tl});var sl=Q(il=>{"use strict";U();Object.defineProperty(il,"__esModule",{value:!0});var mb=Qc(),gb=Td(),vb=Ad(),yb=rl();il.default={polling:kd,websocket:vb.WebSocket,webtransport:yb.WebTransport};function kd(i){return typeof i._query.j=="string"?new gb.JSONP(i):new mb.Polling(i)}kd.upgradesTo=["websocket","webtransport"]});var al=Q(qa=>{"use strict";U();Object.defineProperty(qa,"__esModule",{value:!0});qa.Socket=void 0;var _b=Y("events"),xb=Ue(),Ur=Y("timers"),ze=(0,xb.default)("engine:socket"),nl=class extends _b.EventEmitter{constructor(e,t,r,s,n){super(),this.id=e,this.server=t,this.upgrading=!1,this.upgraded=!1,this.readyState="opening",this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.request=s,this.protocol=n,s&&(s.websocket&&s.websocket._socket?this.remoteAddress=s.websocket._socket.remoteAddress:this.remoteAddress=s.connection.remoteAddress),this.checkIntervalTimer=null,this.upgradeTimeoutTimer=null,this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(r),this.onOpen()}get readyState(){return this._readyState}set readyState(e){ze("readyState updated from %s to %s",this._readyState,e),this._readyState=e}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.protocol===3?this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout):this.schedulePing()}onPacket(e){if(this.readyState!=="open")return ze("packet received with closed socket");switch(ze(`received packet ${e.type}`),this.emit("packet",e),this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout),e.type){case"ping":if(this.transport.protocol!==3){this.onError("invalid heartbeat direction");return}ze("got ping"),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(this.transport.protocol===3){this.onError("invalid heartbeat direction");return}ze("got pong"),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}}onError(e){ze("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,Ur.setTimeout)(()=>{ze("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout(this.server.opts.pingTimeout)},this.server.opts.pingInterval)}resetPingTimeout(e){(0,Ur.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,Ur.setTimeout)(()=>{this.readyState!=="closed"&&this.onClose("ping timeout")},e)}setTransport(e){let t=this.onError.bind(this),r=this.onPacket.bind(this),s=this.flush.bind(this),n=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("packet",r),this.transport.on("drain",s),this.transport.once("close",n),this.setupSendCallback(),this.cleanupFn.push(function(){e.removeListener("error",t),e.removeListener("packet",r),e.removeListener("drain",s),e.removeListener("close",n)})}maybeUpgrade(e){ze('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0,this.upgradeTimeoutTimer=(0,Ur.setTimeout)(()=>{ze("client did not complete upgrade - closing transport"),s(),e.readyState==="open"&&e.close()},this.server.opts.upgradeTimeout);let t=l=>{l.type==="ping"&&l.data==="probe"?(ze("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=setInterval(r,100)):l.type==="upgrade"&&this.readyState!=="closed"?(ze("got upgrade packet - upgrading"),s(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),this.readyState==="closing"&&e.close(()=>{this.onClose("forced close")})):(s(),e.close())},r=()=>{this.transport.name==="polling"&&this.transport.writable&&(ze("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},s=()=>{this.upgrading=!1,clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,(0,Ur.clearTimeout)(this.upgradeTimeoutTimer),this.upgradeTimeoutTimer=null,e.removeListener("packet",t),e.removeListener("close",a),e.removeListener("error",n),this.removeListener("close",c)},n=l=>{ze("client did not complete upgrade - %s",l),s(),e.close(),e=null},a=()=>{n("transport closed")},c=()=>{n("socket closed")};e.on("packet",t),e.once("close",a),e.once("error",n),this.once("close",c)}clearTransport(){let e,t=this.cleanupFn.length;for(let r=0;r<t;r++)e=this.cleanupFn.shift(),e();this.transport.on("error",function(){ze("error triggered by discarded transport")}),this.transport.close(),(0,Ur.clearTimeout)(this.pingTimeoutTimer)}onClose(e,t){this.readyState!=="closed"&&(this.readyState="closed",(0,Ur.clearTimeout)(this.pingIntervalTimer),(0,Ur.clearTimeout)(this.pingTimeoutTimer),clearInterval(this.checkIntervalTimer),this.checkIntervalTimer=null,(0,Ur.clearTimeout)(this.upgradeTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t))}setupSendCallback(){let e=()=>{if(this.sentCallbackFn.length>0){let t=this.sentCallbackFn.splice(0,1)[0];if(typeof t=="function")ze("executing send callback"),t(this.transport);else if(Array.isArray(t)){ze("executing batch send callback");let r=t.length,s=0;for(;s<r;s++)typeof t[s]=="function"&&t[s](this.transport)}}};this.transport.on("drain",e),this.cleanupFn.push(()=>{this.transport.removeListener("drain",e)})}send(e,t,r){return this.sendPacket("message",e,t,r),this}write(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r={},s){if(typeof r=="function"&&(s=r,r={}),this.readyState!=="closing"&&this.readyState!=="closed"){ze('sending packet "%s" (%s)',e,t),r.compress=r.compress!==!1;let n={type:e,options:r};t&&(n.data=t),this.emit("packetCreate",n),this.writeBuffer.push(n),s&&this.packetsFn.push(s),this.flush()}}flush(){if(this.readyState!=="closed"&&this.transport.writable&&this.writeBuffer.length){ze("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);let e=this.writeBuffer;this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){let e=[],t=this.server.upgrades(this.transport.name),r=0,s=t.length;for(;r<s;++r){let n=t[r];this.server.opts.transports.indexOf(n)!==-1&&e.push(n)}return e}close(e){if(this.readyState==="open"){if(this.readyState="closing",this.writeBuffer.length){ze("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{ze("all packets have been sent, closing the transport"),this.closeTransport(e)});return}ze("the buffer is empty, closing the transport right away",e),this.closeTransport(e)}}closeTransport(e){ze("closing the transport (discard? %s)",e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}};qa.Socket=nl});var Rd=Q(ol=>{"use strict";U();ol.parse=Sb;ol.serialize=Cb;var bb=decodeURIComponent,Eb=encodeURIComponent,ja=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Sb(i,e){if(typeof i!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},s=i.split(";"),n=r.decode||bb,a=0;a<s.length;a++){var c=s[a],l=c.indexOf("=");if(!(l<0)){var o=c.substring(0,l).trim();if(t[o]==null){var d=c.substring(l+1,c.length).trim();d[0]==='"'&&(d=d.slice(1,-1)),t[o]=wb(d,n)}}}return t}function Cb(i,e,t){var r=t||{},s=r.encode||Eb;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!ja.test(i))throw new TypeError("argument name is invalid");var n=s(e);if(n&&!ja.test(n))throw new TypeError("argument val is invalid");var a=i+"="+n;if(r.maxAge!=null){var c=r.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(r.domain){if(!ja.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!ja.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function wb(i,e){try{return e(i)}catch{return i}}});var ui=Q((iB,Id)=>{"use strict";U();Id.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Ys=Q((nB,Ha)=>{"use strict";U();var{EMPTY_BUFFER:Tb}=ui();function Ab(i,e){if(i.length===0)return Tb;if(i.length===1)return i[0];let t=Buffer.allocUnsafe(e),r=0;for(let s=0;s<i.length;s++){let n=i[s];t.set(n,r),r+=n.length}return r<e?t.slice(0,r):t}function Nd(i,e,t,r,s){for(let n=0;n<s;n++)t[r+n]=i[n]^e[n&3]}function Bd(i,e){for(let t=0;t<i.length;t++)i[t]^=e[t&3]}function kb(i){return i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}function cl(i){if(cl.readOnly=!0,Buffer.isBuffer(i))return i;let e;return i instanceof ArrayBuffer?e=Buffer.from(i):ArrayBuffer.isView(i)?e=Buffer.from(i.buffer,i.byteOffset,i.byteLength):(e=Buffer.from(i),cl.readOnly=!1),e}Ha.exports={concat:Ab,mask:Nd,toArrayBuffer:kb,toBuffer:cl,unmask:Bd};if(!process.env.WS_NO_BUFFER_UTIL)try{let i=Y("bufferutil");Ha.exports.mask=function(e,t,r,s,n){n<48?Nd(e,t,r,s,n):i.mask(e,t,r,s,n)},Ha.exports.unmask=function(e,t){e.length<32?Bd(e,t):i.unmask(e,t)}}catch{}});var Pd=Q((oB,Ld)=>{"use strict";U();var Od=Symbol("kDone"),ll=Symbol("kRun"),ul=class{constructor(e){this[Od]=()=>{this.pending--,this[ll]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[ll]()}[ll](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Od])}}};Ld.exports=ul});var Xs=Q((lB,Fd)=>{"use strict";U();var Zs=Y("zlib"),Dd=Ys(),Rb=Pd(),{kStatusCode:Ud}=ui(),Ib=Buffer.from([0,0,255,255]),Ga=Symbol("permessage-deflate"),Mr=Symbol("total-length"),Qs=Symbol("callback"),pi=Symbol("buffers"),Wa=Symbol("error"),Ka,pl=class{constructor(e,t,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Ka){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ka=new Rb(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Qs];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(s=>!(t.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>s.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(r.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?r.client_max_window_bits=t.clientMaxWindowBits:(r.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(r=>{let s=t[r];if(s.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(s=s[0],r==="client_max_window_bits"){if(s!==!0){let n=+s;if(!Number.isInteger(n)||n<8||n>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=n}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else if(r==="server_max_window_bits"){let n=+s;if(!Number.isInteger(n)||n<8||n>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=n}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else throw new Error(`Unknown parameter "${r}"`);t[r]=s})}),e}decompress(e,t,r){Ka.add(s=>{this._decompress(e,t,(n,a)=>{s(),r(n,a)})})}compress(e,t,r){Ka.add(s=>{this._compress(e,t,(n,a)=>{s(),r(n,a)})})}_decompress(e,t,r){let s=this._isServer?"client":"server";if(!this._inflate){let n=`${s}_max_window_bits`,a=typeof this.params[n]!="number"?Zs.Z_DEFAULT_WINDOWBITS:this.params[n];this._inflate=Zs.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Ga]=this,this._inflate[Mr]=0,this._inflate[pi]=[],this._inflate.on("error",Bb),this._inflate.on("data",Md)}this._inflate[Qs]=r,this._inflate.write(e),t&&this._inflate.write(Ib),this._inflate.flush(()=>{let n=this._inflate[Wa];if(n){this._inflate.close(),this._inflate=null,r(n);return}let a=Dd.concat(this._inflate[pi],this._inflate[Mr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Mr]=0,this._inflate[pi]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,a)})}_compress(e,t,r){let s=this._isServer?"server":"client";if(!this._deflate){let n=`${s}_max_window_bits`,a=typeof this.params[n]!="number"?Zs.Z_DEFAULT_WINDOWBITS:this.params[n];this._deflate=Zs.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[Mr]=0,this._deflate[pi]=[],this._deflate.on("data",Nb)}this._deflate[Qs]=r,this._deflate.write(e),this._deflate.flush(Zs.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let n=Dd.concat(this._deflate[pi],this._deflate[Mr]);t&&(n=n.slice(0,n.length-4)),this._deflate[Qs]=null,this._deflate[Mr]=0,this._deflate[pi]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,n)})}};Fd.exports=pl;function Nb(i){this[pi].push(i),this[Mr]+=i.length}function Md(i){if(this[Mr]+=i.length,this[Ga]._maxPayload<1||this[Mr]<=this[Ga]._maxPayload){this[pi].push(i);return}this[Wa]=new RangeError("Max payload size exceeded"),this[Wa].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Wa][Ud]=1009,this.removeListener("data",Md),this.reset()}function Bb(i){this[Ga]._inflate=null,i[Ud]=1007,this[Qs](i)}});var Js=Q((pB,fl)=>{"use strict";U();var Ob=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Lb(i){return i>=1e3&&i<=1014&&i!==1004&&i!==1005&&i!==1006||i>=3e3&&i<=4999}function Vd(i){let e=i.length,t=0;for(;t<e;)if(!(i[t]&128))t++;else if((i[t]&224)===192){if(t+1===e||(i[t+1]&192)!==128||(i[t]&254)===192)return!1;t+=2}else if((i[t]&240)===224){if(t+2>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||i[t]===224&&(i[t+1]&224)===128||i[t]===237&&(i[t+1]&224)===160)return!1;t+=3}else if((i[t]&248)===240){if(t+3>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||(i[t+3]&192)!==128||i[t]===240&&(i[t+1]&240)===128||i[t]===244&&i[t+1]>143||i[t]>244)return!1;t+=4}else return!1;return!0}fl.exports={isValidStatusCode:Lb,isValidUTF8:Vd,tokenChars:Ob};if(!process.env.WS_NO_UTF_8_VALIDATE)try{let i=Y("utf-8-validate");fl.exports.isValidUTF8=function(e){return e.length<150?Vd(e):i(e)}}catch{}});var gl=Q((dB,zd)=>{"use strict";U();var{Writable:Pb}=Y("stream"),qd=Xs(),{BINARY_TYPES:Db,EMPTY_BUFFER:jd,kStatusCode:Ub,kWebSocket:Mb}=ui(),{concat:dl,toArrayBuffer:Fb,unmask:Vb}=Ys(),{isValidStatusCode:qb,isValidUTF8:Hd}=Js(),en=0,Kd=1,Wd=2,Gd=3,hl=4,jb=5,ml=class extends Pb{constructor(e={}){super(),this._binaryType=e.binaryType||Db[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Mb]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=en,this._loop=!1}_write(e,t,r){if(this._opcode===8&&this._state==en)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=r.slice(e),r.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],s=t.length-e;e>=r.length?t.set(this._buffers.shift(),s):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),s),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case en:t=this.getInfo();break;case Kd:t=this.getPayloadLength16();break;case Wd:t=this.getPayloadLength64();break;case Gd:this.getMask();break;case hl:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,it(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(e[0]&64)===64;if(t&&!this._extensions[qd.extensionName])return this._loop=!1,it(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(t)return this._loop=!1,it(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,it(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,it(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,it(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,it(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,it(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,it(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,it(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,it(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Kd;else if(this._payloadLength===127)this._state=Wd;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,it(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,it(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Gd:this._state=hl}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=hl}getData(e){let t=jd;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Vb(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=jb,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[qd.extensionName].decompress(e,this._fin,(s,n)=>{if(s)return t(s);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(it(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(n)}let a=this.dataMessage();if(a)return t(a);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=dl(t,e):this._binaryType==="arraybuffer"?r=Fb(dl(t,e)):r=t,this.emit("message",r,!0)}else{let r=dl(t,e);if(!this._skipUTF8Validation&&!Hd(r))return this._loop=!1,it(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=en}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,jd),this.end();else{if(e.length===1)return it(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let t=e.readUInt16BE(0);if(!qb(t))return it(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!this._skipUTF8Validation&&!Hd(r))return it(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=en}};zd.exports=ml;function it(i,e,t,r,s){let n=new i(t?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(n,it),n.code=s,n[Ub]=r,n}});var yl=Q((vB,Zd)=>{"use strict";U();var mB=Y("net"),gB=Y("tls"),{randomFillSync:Hb}=Y("crypto"),$d=Xs(),{EMPTY_BUFFER:Kb}=ui(),{isValidStatusCode:Wb}=Js(),{mask:Yd,toBuffer:is}=Ys(),dr=Symbol("kByteLength"),Gb=Buffer.alloc(4),vl=class i{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,s=!1,n=2,a=!1;t.mask&&(r=t.maskBuffer||Gb,t.generateMask?t.generateMask(r):Hb(r,0,4),a=(r[0]|r[1]|r[2]|r[3])===0,n=6);let c;typeof e=="string"?(!t.mask||a)&&t[dr]!==void 0?c=t[dr]:(e=Buffer.from(e),c=e.length):(c=e.length,s=t.mask&&t.readOnly&&!a);let l=c;c>=65536?(n+=8,l=127):c>125&&(n+=2,l=126);let o=Buffer.allocUnsafe(s?c+n:n);return o[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(o[0]|=64),o[1]=l,l===126?o.writeUInt16BE(c,2):l===127&&(o[2]=o[3]=0,o.writeUIntBE(c,4,6)),t.mask?(o[1]|=128,o[n-4]=r[0],o[n-3]=r[1],o[n-2]=r[2],o[n-1]=r[3],a?[o,e]:s?(Yd(e,r,o,n,c),[o]):(Yd(e,r,e,0,c),[o,e])):[o,e]}close(e,t,r,s){let n;if(e===void 0)n=Kb;else{if(typeof e!="number"||!Wb(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)n=Buffer.allocUnsafe(2),n.writeUInt16BE(e,0);else{let c=Buffer.byteLength(t);if(c>123)throw new RangeError("The message must not be greater than 123 bytes");n=Buffer.allocUnsafe(2+c),n.writeUInt16BE(e,0),typeof t=="string"?n.write(t,2):n.set(t,2)}}let a={[dr]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,n,!1,a,s]):this.sendFrame(i.frame(n,a),s)}ping(e,t,r){let s,n;if(typeof e=="string"?(s=Buffer.byteLength(e),n=!1):(e=is(e),s=e.length,n=is.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[dr]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(i.frame(e,a),r)}pong(e,t,r){let s,n;if(typeof e=="string"?(s=Buffer.byteLength(e),n=!1):(e=is(e),s=e.length,n=is.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[dr]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(i.frame(e,a),r)}send(e,t,r){let s=this._extensions[$d.extensionName],n=t.binary?2:1,a=t.compress,c,l;if(typeof e=="string"?(c=Buffer.byteLength(e),l=!1):(e=is(e),c=e.length,l=is.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=c>=s._threshold),this._compress=a):(a=!1,n=0),t.fin&&(this._firstFragment=!0),s){let o={[dr]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:n,readOnly:l,rsv1:a};this._deflating?this.enqueue([this.dispatch,e,this._compress,o,r]):this.dispatch(e,this._compress,o,r)}else this.sendFrame(i.frame(e,{[dr]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:n,readOnly:l,rsv1:!1}),r)}dispatch(e,t,r,s){if(!t){this.sendFrame(i.frame(e,r),s);return}let n=this._extensions[$d.extensionName];this._bufferedBytes+=r[dr],this._deflating=!0,n.compress(e,r.fin,(a,c)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(l);for(let o=0;o<this._queue.length;o++){let d=this._queue[o],u=d[d.length-1];typeof u=="function"&&u(l)}return}this._bufferedBytes-=r[dr],this._deflating=!1,r.readOnly=!1,this.sendFrame(i.frame(c,r),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][dr],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][dr],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};Zd.exports=vl});var nh=Q((_B,sh)=>{"use strict";U();var{kForOnEventAttribute:tn,kListener:_l}=ui(),Qd=Symbol("kCode"),Xd=Symbol("kData"),Jd=Symbol("kError"),eh=Symbol("kMessage"),th=Symbol("kReason"),ss=Symbol("kTarget"),rh=Symbol("kType"),ih=Symbol("kWasClean"),Fr=class{constructor(e){this[ss]=null,this[rh]=e}get target(){return this[ss]}get type(){return this[rh]}};Object.defineProperty(Fr.prototype,"target",{enumerable:!0});Object.defineProperty(Fr.prototype,"type",{enumerable:!0});var Ni=class extends Fr{constructor(e,t={}){super(e),this[Qd]=t.code===void 0?0:t.code,this[th]=t.reason===void 0?"":t.reason,this[ih]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[Qd]}get reason(){return this[th]}get wasClean(){return this[ih]}};Object.defineProperty(Ni.prototype,"code",{enumerable:!0});Object.defineProperty(Ni.prototype,"reason",{enumerable:!0});Object.defineProperty(Ni.prototype,"wasClean",{enumerable:!0});var ns=class extends Fr{constructor(e,t={}){super(e),this[Jd]=t.error===void 0?null:t.error,this[eh]=t.message===void 0?"":t.message}get error(){return this[Jd]}get message(){return this[eh]}};Object.defineProperty(ns.prototype,"error",{enumerable:!0});Object.defineProperty(ns.prototype,"message",{enumerable:!0});var rn=class extends Fr{constructor(e,t={}){super(e),this[Xd]=t.data===void 0?null:t.data}get data(){return this[Xd]}};Object.defineProperty(rn.prototype,"data",{enumerable:!0});var zb={addEventListener(i,e,t={}){for(let s of this.listeners(i))if(!t[tn]&&s[_l]===e&&!s[tn])return;let r;if(i==="message")r=function(n,a){let c=new rn("message",{data:a?n:n.toString()});c[ss]=this,za(e,this,c)};else if(i==="close")r=function(n,a){let c=new Ni("close",{code:n,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});c[ss]=this,za(e,this,c)};else if(i==="error")r=function(n){let a=new ns("error",{error:n,message:n.message});a[ss]=this,za(e,this,a)};else if(i==="open")r=function(){let n=new Fr("open");n[ss]=this,za(e,this,n)};else return;r[tn]=!!t[tn],r[_l]=e,t.once?this.once(i,r):this.on(i,r)},removeEventListener(i,e){for(let t of this.listeners(i))if(t[_l]===e&&!t[tn]){this.removeListener(i,t);break}}};sh.exports={CloseEvent:Ni,ErrorEvent:ns,Event:Fr,EventTarget:zb,MessageEvent:rn};function za(i,e,t){typeof i=="object"&&i.handleEvent?i.handleEvent.call(i,t):i.call(e,t)}});var xl=Q((bB,ah)=>{"use strict";U();var{tokenChars:sn}=Js();function Ar(i,e,t){i[e]===void 0?i[e]=[t]:i[e].push(t)}function $b(i){let e=Object.create(null),t=Object.create(null),r=!1,s=!1,n=!1,a,c,l=-1,o=-1,d=-1,u=0;for(;u<i.length;u++)if(o=i.charCodeAt(u),a===void 0)if(d===-1&&sn[o]===1)l===-1&&(l=u);else if(u!==0&&(o===32||o===9))d===-1&&l!==-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let A=i.slice(l,d);o===44?(Ar(e,A,t),t=Object.create(null)):a=A,l=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);else if(c===void 0)if(d===-1&&sn[o]===1)l===-1&&(l=u);else if(o===32||o===9)d===-1&&l!==-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u),Ar(t,i.slice(l,d),!0),o===44&&(Ar(e,a,t),t=Object.create(null),a=void 0),l=d=-1}else if(o===61&&l!==-1&&d===-1)c=i.slice(l,u),l=d=-1;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(s){if(sn[o]!==1)throw new SyntaxError(`Unexpected character at index ${u}`);l===-1?l=u:r||(r=!0),s=!1}else if(n)if(sn[o]===1)l===-1&&(l=u);else if(o===34&&l!==-1)n=!1,d=u;else if(o===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(o===34&&i.charCodeAt(u-1)===61)n=!0;else if(d===-1&&sn[o]===1)l===-1&&(l=u);else if(l!==-1&&(o===32||o===9))d===-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let A=i.slice(l,d);r&&(A=A.replace(/\\/g,""),r=!1),Ar(t,c,A),o===44&&(Ar(e,a,t),t=Object.create(null),a=void 0),c=void 0,l=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);if(l===-1||n||o===32||o===9)throw new SyntaxError("Unexpected end of input");d===-1&&(d=u);let v=i.slice(l,d);return a===void 0?Ar(e,v,t):(c===void 0?Ar(t,v,!0):r?Ar(t,c,v.replace(/\\/g,"")):Ar(t,c,v),Ar(e,a,t)),e}function Yb(i){return Object.keys(i).map(e=>{let t=i[e];return Array.isArray(t)||(t=[t]),t.map(r=>[e].concat(Object.keys(r).map(s=>{let n=r[s];return Array.isArray(n)||(n=[n]),n.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}ah.exports={format:Yb,parse:$b}});var wl=Q((CB,vh)=>{"use strict";U();var Zb=Y("events"),Qb=Y("https"),Xb=Y("http"),lh=Y("net"),Jb=Y("tls"),{randomBytes:eE,createHash:tE}=Y("crypto"),{Readable:SB}=Y("stream"),{URL:bl}=Y("url"),fi=Xs(),rE=gl(),iE=yl(),{BINARY_TYPES:oh,EMPTY_BUFFER:$a,GUID:sE,kForOnEventAttribute:El,kListener:nE,kStatusCode:aE,kWebSocket:It,NOOP:uh}=ui(),{EventTarget:{addEventListener:oE,removeEventListener:cE}}=nh(),{format:lE,parse:uE}=xl(),{toBuffer:pE}=Ys(),fE=30*1e3,ph=Symbol("kAborted"),Sl=[8,13],Vr=["CONNECTING","OPEN","CLOSING","CLOSED"],dE=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ze=class i extends Zb{constructor(e,t,r){super(),this._binaryType=oh[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=$a,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(r=t,t=[]):t=[t]),fh(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){oh.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let s=new rE({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new iE(e,this._extensions,r.generateMask),this._receiver=s,this._socket=e,s[It]=this,e[It]=this,s.on("conclude",gE),s.on("drain",vE),s.on("error",yE),s.on("message",_E),s.on("ping",xE),s.on("pong",bE),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",hh),e.on("data",Za),e.on("end",mh),e.on("error",gh),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[fi.extensionName]&&this._extensions[fi.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return $t(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(e,t,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),fE)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){Cl(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||$a,t,r)}pong(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){Cl(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||$a,t,r)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(r=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){Cl(this,e,r);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[fi.extensionName]||(s.compress=!1),this._sender.send(e||$a,s,r)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return $t(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ze,"CONNECTING",{enumerable:!0,value:Vr.indexOf("CONNECTING")});Object.defineProperty(Ze.prototype,"CONNECTING",{enumerable:!0,value:Vr.indexOf("CONNECTING")});Object.defineProperty(Ze,"OPEN",{enumerable:!0,value:Vr.indexOf("OPEN")});Object.defineProperty(Ze.prototype,"OPEN",{enumerable:!0,value:Vr.indexOf("OPEN")});Object.defineProperty(Ze,"CLOSING",{enumerable:!0,value:Vr.indexOf("CLOSING")});Object.defineProperty(Ze.prototype,"CLOSING",{enumerable:!0,value:Vr.indexOf("CLOSING")});Object.defineProperty(Ze,"CLOSED",{enumerable:!0,value:Vr.indexOf("CLOSED")});Object.defineProperty(Ze.prototype,"CLOSED",{enumerable:!0,value:Vr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(i=>{Object.defineProperty(Ze.prototype,i,{enumerable:!0})});["open","error","close","message"].forEach(i=>{Object.defineProperty(Ze.prototype,`on${i}`,{enumerable:!0,get(){for(let e of this.listeners(i))if(e[El])return e[nE];return null},set(e){for(let t of this.listeners(i))if(t[El]){this.removeListener(i,t);break}typeof e=="function"&&this.addEventListener(i,e,{[El]:!0})}})});Ze.prototype.addEventListener=oE;Ze.prototype.removeEventListener=cE;vh.exports=Ze;function fh(i,e,t,r){let s={protocolVersion:Sl[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!Sl.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Sl.join(", ")})`);let n;if(e instanceof bl)n=e,i._url=e.href;else{try{n=new bl(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i._url=e}let a=n.protocol==="wss:",c=n.protocol==="ws+unix:",l;if(n.protocol!=="ws:"&&!a&&!c?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:c&&!n.pathname?l="The URL's pathname is empty":n.hash&&(l="The URL contains a fragment identifier"),l){let h=new SyntaxError(l);if(i._redirects===0)throw h;Ya(i,h);return}let o=a?443:80,d=eE(16).toString("base64"),u=a?Qb.request:Xb.request,v=new Set,A;if(s.createConnection=a?mE:hE,s.defaultPort=s.defaultPort||o,s.port=n.port||o,s.host=n.hostname.startsWith("[")?n.hostname.slice(1,-1):n.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":d,Connection:"Upgrade",Upgrade:"websocket"},s.path=n.pathname+n.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(A=new fi(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=lE({[fi.extensionName]:A.offer()})),t.length){for(let h of t){if(typeof h!="string"||!dE.test(h)||v.has(h))throw new SyntaxError("An invalid or duplicated subprotocol was specified");v.add(h)}s.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(n.username||n.password)&&(s.auth=`${n.username}:${n.password}`),c){let h=s.path.split(":");s.socketPath=h[0],s.path=h[1]}let _;if(s.followRedirects){if(i._redirects===0){i._originalIpc=c,i._originalSecure=a,i._originalHostOrSocketPath=c?s.socketPath:n.host;let h=r&&r.headers;if(r={...r,headers:{}},h)for(let[E,w]of Object.entries(h))r.headers[E.toLowerCase()]=w}else if(i.listenerCount("redirect")===0){let h=c?i._originalIpc?s.socketPath===i._originalHostOrSocketPath:!1:i._originalIpc?!1:n.host===i._originalHostOrSocketPath;(!h||i._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,h||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),_=i._req=u(s),i._redirects&&i.emit("redirect",i.url,_)}else _=i._req=u(s);s.timeout&&_.on("timeout",()=>{$t(i,_,"Opening handshake has timed out")}),_.on("error",h=>{_===null||_[ph]||(_=i._req=null,Ya(i,h))}),_.on("response",h=>{let E=h.headers.location,w=h.statusCode;if(E&&s.followRedirects&&w>=300&&w<400){if(++i._redirects>s.maxRedirects){$t(i,_,"Maximum redirects exceeded");return}_.abort();let S;try{S=new bl(E,e)}catch{let b=new SyntaxError(`Invalid URL: ${E}`);Ya(i,b);return}fh(i,S,t,r)}else i.emit("unexpected-response",_,h)||$t(i,_,`Unexpected server response: ${h.statusCode}`)}),_.on("upgrade",(h,E,w)=>{if(i.emit("upgrade",h),i.readyState!==Ze.CONNECTING)return;if(_=i._req=null,h.headers.upgrade.toLowerCase()!=="websocket"){$t(i,E,"Invalid Upgrade header");return}let S=tE("sha1").update(d+sE).digest("base64");if(h.headers["sec-websocket-accept"]!==S){$t(i,E,"Invalid Sec-WebSocket-Accept header");return}let p=h.headers["sec-websocket-protocol"],b;if(p!==void 0?v.size?v.has(p)||(b="Server sent an invalid subprotocol"):b="Server sent a subprotocol but none was requested":v.size&&(b="Server sent no subprotocol"),b){$t(i,E,b);return}p&&(i._protocol=p);let C=h.headers["sec-websocket-extensions"];if(C!==void 0){if(!A){$t(i,E,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let k;try{k=uE(C)}catch{$t(i,E,"Invalid Sec-WebSocket-Extensions header");return}let B=Object.keys(k);if(B.length!==1||B[0]!==fi.extensionName){$t(i,E,"Server indicated an extension that was not requested");return}try{A.accept(k[fi.extensionName])}catch{$t(i,E,"Invalid Sec-WebSocket-Extensions header");return}i._extensions[fi.extensionName]=A}i.setSocket(E,w,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),_.end()}function Ya(i,e){i._readyState=Ze.CLOSING,i.emit("error",e),i.emitClose()}function hE(i){return i.path=i.socketPath,lh.connect(i)}function mE(i){return i.path=void 0,!i.servername&&i.servername!==""&&(i.servername=lh.isIP(i.host)?"":i.host),Jb.connect(i)}function $t(i,e,t){i._readyState=Ze.CLOSING;let r=new Error(t);Error.captureStackTrace(r,$t),e.setHeader?(e[ph]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Ya,i,r)):(e.destroy(r),e.once("error",i.emit.bind(i,"error")),e.once("close",i.emitClose.bind(i)))}function Cl(i,e,t){if(e){let r=pE(e).length;i._socket?i._sender._bufferedBytes+=r:i._bufferedAmount+=r}if(t){let r=new Error(`WebSocket is not open: readyState ${i.readyState} (${Vr[i.readyState]})`);t(r)}}function gE(i,e){let t=this[It];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=i,t._socket[It]!==void 0&&(t._socket.removeListener("data",Za),process.nextTick(dh,t._socket),i===1005?t.close():t.close(i,e))}function vE(){let i=this[It];i.isPaused||i._socket.resume()}function yE(i){let e=this[It];e._socket[It]!==void 0&&(e._socket.removeListener("data",Za),process.nextTick(dh,e._socket),e.close(i[aE])),e.emit("error",i)}function ch(){this[It].emitClose()}function _E(i,e){this[It].emit("message",i,e)}function xE(i){let e=this[It];e.pong(i,!e._isServer,uh),e.emit("ping",i)}function bE(i){this[It].emit("pong",i)}function dh(i){i.resume()}function hh(){let i=this[It];this.removeListener("close",hh),this.removeListener("data",Za),this.removeListener("end",mh),i._readyState=Ze.CLOSING;let e;!this._readableState.endEmitted&&!i._closeFrameReceived&&!i._receiver._writableState.errorEmitted&&(e=i._socket.read())!==null&&i._receiver.write(e),i._receiver.end(),this[It]=void 0,clearTimeout(i._closeTimer),i._receiver._writableState.finished||i._receiver._writableState.errorEmitted?i.emitClose():(i._receiver.on("error",ch),i._receiver.on("finish",ch))}function Za(i){this[It]._receiver.write(i)||this.pause()}function mh(){let i=this[It];i._readyState=Ze.CLOSING,i._receiver.end(),this.end()}function gh(){let i=this[It];this.removeListener("error",gh),this.on("error",uh),i&&(i._readyState=Ze.CLOSING,this.destroy())}});var bh=Q((TB,xh)=>{"use strict";U();var{Duplex:EE}=Y("stream");function yh(i){i.emit("close")}function SE(){!this.destroyed&&this._writableState.finished&&this.destroy()}function _h(i){this.removeListener("error",_h),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}function CE(i,e){let t=!0,r=new EE({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(n,a){let c=!a&&r._readableState.objectMode?n.toString():n;r.push(c)||i.pause()}),i.once("error",function(n){r.destroyed||(t=!1,r.destroy(n))}),i.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(s,n){if(i.readyState===i.CLOSED){n(s),process.nextTick(yh,r);return}let a=!1;i.once("error",function(l){a=!0,n(l)}),i.once("close",function(){a||n(s),process.nextTick(yh,r)}),t&&i.terminate()},r._final=function(s){if(i.readyState===i.CONNECTING){i.once("open",function(){r._final(s)});return}i._socket!==null&&(i._socket._writableState.finished?(s(),r._readableState.endEmitted&&r.destroy()):(i._socket.once("finish",function(){s()}),i.close()))},r._read=function(){i.isPaused&&i.resume()},r._write=function(s,n,a){if(i.readyState===i.CONNECTING){i.once("open",function(){r._write(s,n,a)});return}i.send(s,a)},r.on("end",SE),r.on("error",_h),r}xh.exports=CE});var Sh=Q((kB,Eh)=>{"use strict";U();var{tokenChars:wE}=Js();function TE(i){let e=new Set,t=-1,r=-1,s=0;for(s;s<i.length;s++){let a=i.charCodeAt(s);if(r===-1&&wE[a]===1)t===-1&&(t=s);else if(s!==0&&(a===32||a===9))r===-1&&t!==-1&&(r=s);else if(a===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${s}`);r===-1&&(r=s);let c=i.slice(t,r);if(e.has(c))throw new SyntaxError(`The "${c}" subprotocol is duplicated`);e.add(c),t=r=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(t===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let n=i.slice(t,s);if(e.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);return e.add(n),e}Eh.exports={parse:TE}});var Ih=Q((OB,Rh)=>{"use strict";U();var AE=Y("events"),Qa=Y("http"),IB=Y("https"),NB=Y("net"),BB=Y("tls"),{createHash:kE}=Y("crypto"),Ch=xl(),Bi=Xs(),RE=Sh(),IE=wl(),{GUID:NE,kWebSocket:BE}=ui(),OE=/^[+/0-9A-Za-z]{22}==$/,wh=0,Th=1,kh=2,Tl=class extends AE{constructor(e,t){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:IE,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Qa.createServer((r,s)=>{let n=Qa.STATUS_CODES[426];s.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),s.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=LE(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,n,a)=>{this.handleUpgrade(s,n,a,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=wh}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===kh){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(nn,this);return}if(e&&this.once("close",e),this._state!==Th)if(this._state=Th,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(nn,this):process.nextTick(nn,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{nn(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,s){t.on("error",Ah);let n=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Oi(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){Oi(this,e,t,400,"Invalid Upgrade header");return}if(!n||!OE.test(n)){Oi(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){Oi(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){an(t,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=RE.parse(c)}catch{Oi(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let o=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&o!==void 0){let u=new Bi(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let v=Ch.parse(o);v[Bi.extensionName]&&(u.accept(v[Bi.extensionName]),d[Bi.extensionName]=u)}catch{Oi(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let u={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(u,(v,A,_,h)=>{if(!v)return an(t,A||401,_,h);this.completeUpgrade(d,n,l,e,t,r,s)});return}if(!this.options.verifyClient(u))return an(t,401)}this.completeUpgrade(d,n,l,e,t,r,s)}completeUpgrade(e,t,r,s,n,a,c){if(!n.readable||!n.writable)return n.destroy();if(n[BE])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>wh)return an(n,503);let o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${kE("sha1").update(t+NE).digest("base64")}`],d=new this.options.WebSocket(null);if(r.size){let u=this.options.handleProtocols?this.options.handleProtocols(r,s):r.values().next().value;u&&(o.push(`Sec-WebSocket-Protocol: ${u}`),d._protocol=u)}if(e[Bi.extensionName]){let u=e[Bi.extensionName].params,v=Ch.format({[Bi.extensionName]:[u]});o.push(`Sec-WebSocket-Extensions: ${v}`),d._extensions=e}this.emit("headers",o,s),n.write(o.concat(`\r
`).join(`\r
`)),n.removeListener("error",Ah),d.setSocket(n,a,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(d),d.on("close",()=>{this.clients.delete(d),this._shouldEmitClose&&!this.clients.size&&process.nextTick(nn,this)})),c(d,s)}};Rh.exports=Tl;function LE(i,e){for(let t of Object.keys(e))i.on(t,e[t]);return function(){for(let r of Object.keys(e))i.removeListener(r,e[r])}}function nn(i){i._state=kh,i.emit("close")}function Ah(){this.destroy()}function an(i,e,t,r){t=t||Qa.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...r},i.once("finish",i.destroy),i.end(`HTTP/1.1 ${e} ${Qa.STATUS_CODES[e]}\r
`+Object.keys(r).map(s=>`${s}: ${r[s]}`).join(`\r
`)+`\r
\r
`+t)}function Oi(i,e,t,r,s){if(i.listenerCount("wsClientError")){let n=new Error(s);Error.captureStackTrace(n,Oi),i.emit("wsClientError",n,t,e)}else an(t,r,s)}});var Bh=Q((PB,Nh)=>{"use strict";U();var qr=wl();qr.createWebSocketStream=bh();qr.Server=Ih();qr.Receiver=gl();qr.Sender=yl();qr.WebSocket=qr;qr.WebSocketServer=qr.Server;Nh.exports=qr});var Ph=Q((UB,Lh)=>{"use strict";U();var Oh=Object.getOwnPropertySymbols,PE=Object.prototype.hasOwnProperty,DE=Object.prototype.propertyIsEnumerable;function UE(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function ME(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(n){return e[n]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(n){s[n]=n}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Lh.exports=ME()?Object.assign:function(i,e){for(var t,r=UE(i),s,n=1;n<arguments.length;n++){t=Object(arguments[n]);for(var a in t)PE.call(t,a)&&(r[a]=t[a]);if(Oh){s=Oh(t);for(var c=0;c<s.length;c++)DE.call(t,s[c])&&(r[s[c]]=t[s[c]])}}return r}});var Mh=Q((FB,Al)=>{"use strict";U();Al.exports=VE;Al.exports.append=Uh;var FE=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function Uh(i,e){if(typeof i!="string")throw new TypeError("header argument is required");if(!e)throw new TypeError("field argument is required");for(var t=Array.isArray(e)?e:Dh(String(e)),r=0;r<t.length;r++)if(!FE.test(t[r]))throw new TypeError("field argument contains an invalid header name");if(i==="*")return i;var s=i,n=Dh(i.toLowerCase());if(t.indexOf("*")!==-1||n.indexOf("*")!==-1)return"*";for(var a=0;a<t.length;a++){var c=t[a].toLowerCase();n.indexOf(c)===-1&&(n.push(c),s=s?s+", "+t[a]:t[a])}return s}function Dh(i){for(var e=0,t=[],r=0,s=0,n=i.length;s<n;s++)switch(i.charCodeAt(s)){case 32:r===e&&(r=e=s+1);break;case 44:t.push(i.substring(r,e)),r=e=s+1;break;default:e=s+1;break}return t.push(i.substring(r,e)),t}function VE(i,e){if(!i||!i.getHeader||!i.setHeader)throw new TypeError("res argument is required");var t=i.getHeader("Vary")||"",r=Array.isArray(t)?t.join(", "):String(t);(t=Uh(r,e))&&i.setHeader("Vary",t)}});var kl=Q((qB,Fh)=>{"use strict";U();(function(){"use strict";var i=Ph(),e=Mh(),t={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function r(_){return typeof _=="string"||_ instanceof String}function s(_,h){if(Array.isArray(h)){for(var E=0;E<h.length;++E)if(s(_,h[E]))return!0;return!1}else return r(h)?_===h:h instanceof RegExp?h.test(_):!!h}function n(_,h){var E=h.headers.origin,w=[],S;return!_.origin||_.origin==="*"?w.push([{key:"Access-Control-Allow-Origin",value:"*"}]):r(_.origin)?(w.push([{key:"Access-Control-Allow-Origin",value:_.origin}]),w.push([{key:"Vary",value:"Origin"}])):(S=s(E,_.origin),w.push([{key:"Access-Control-Allow-Origin",value:S?E:!1}]),w.push([{key:"Vary",value:"Origin"}])),w}function a(_){var h=_.methods;return h.join&&(h=_.methods.join(",")),{key:"Access-Control-Allow-Methods",value:h}}function c(_){return _.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function l(_,h){var E=_.allowedHeaders||_.headers,w=[];return E?E.join&&(E=E.join(",")):(E=h.headers["access-control-request-headers"],w.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),E&&E.length&&w.push([{key:"Access-Control-Allow-Headers",value:E}]),w}function o(_){var h=_.exposedHeaders;if(h)h.join&&(h=h.join(","));else return null;return h&&h.length?{key:"Access-Control-Expose-Headers",value:h}:null}function d(_){var h=(typeof _.maxAge=="number"||_.maxAge)&&_.maxAge.toString();return h&&h.length?{key:"Access-Control-Max-Age",value:h}:null}function u(_,h){for(var E=0,w=_.length;E<w;E++){var S=_[E];S&&(Array.isArray(S)?u(S,h):S.key==="Vary"&&S.value?e(h,S.value):S.value&&h.setHeader(S.key,S.value))}}function v(_,h,E,w){var S=[],p=h.method&&h.method.toUpperCase&&h.method.toUpperCase();p==="OPTIONS"?(S.push(n(_,h)),S.push(c(_,h)),S.push(a(_,h)),S.push(l(_,h)),S.push(d(_,h)),S.push(o(_,h)),u(S,E),_.preflightContinue?w():(E.statusCode=_.optionsSuccessStatus,E.setHeader("Content-Length","0"),E.end())):(S.push(n(_,h)),S.push(c(_,h)),S.push(o(_,h)),u(S,E),w())}function A(_){var h=null;return typeof _=="function"?h=_:h=function(E,w){w(null,_)},function(w,S,p){h(w,function(b,C){if(b)p(b);else{var k=i({},t,C),B=null;k.origin&&typeof k.origin=="function"?B=k.origin:k.origin&&(B=function(x,m){m(null,k.origin)}),B?B(w.headers.origin,function(x,m){x||!m?p(x):(k.origin=m,v(k,w,S,p))}):p()}})}}Fh.exports=A})()});var Il=Q(cs=>{"use strict";U();Object.defineProperty(cs,"__esModule",{value:!0});cs.Server=cs.BaseServer=void 0;var qE=Y("querystring"),jE=Y("url"),Vh=Fc(),Xa=sl(),HE=Y("events"),qh=al(),KE=Ue(),WE=Rd(),GE=Bh(),jh=rl(),zE=zs(),we=(0,KE.default)("engine"),as=Symbol("responseHeaders");function $E(i){try{let e=JSON.parse(i);if(typeof e.sid=="string")return e.sid}catch{}}var os=class extends HE.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:GE.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:e.cookie.path!==!1,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(kl()(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let t=(e.path||"/engine.io").replace(/\/$/,"");return e.addTrailingSlash!==!1&&(t+="/"),t}upgrades(e){return this.opts.allowUpgrades?Xa.default[e].upgradesTo||[]:[]}verify(e,t,r){let s=e._query.transport;if(!~this.opts.transports.indexOf(s)||s==="webtransport")return we('unknown transport "%s"',s),r(Fe.errors.UNKNOWN_TRANSPORT,{transport:s});if(YE(e.headers.origin)){let c=e.headers.origin;return e.headers.origin=null,we("origin header invalid"),r(Fe.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:c})}let a=e._query.sid;if(a){if(!this.clients.hasOwnProperty(a))return we('unknown sid "%s"',a),r(Fe.errors.UNKNOWN_SID,{sid:a});let c=this.clients[a].transport.name;if(!t&&c!==s)return we("bad request: unexpected transport without upgrade"),r(Fe.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:s,previousTransport:c})}else return e.method!=="GET"?r(Fe.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):s==="websocket"&&!t?(we("invalid transport upgrade"),r(Fe.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):this.opts.allowRequest?this.opts.allowRequest(e,(c,l)=>{if(!l)return r(Fe.errors.FORBIDDEN,{message:c});r()}):r();r()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,t,r){if(this.middlewares.length===0)return we("no middleware to apply, skipping"),r();let s=n=>{we("applying middleware n\xB0%d",n+1),this.middlewares[n](e,t,a=>{if(a)return r(a);n+1<this.middlewares.length?s(n+1):r()})};s(0)}close(){we("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return Vh.generateId()}async handshake(e,t,r){let s=t._query.EIO==="4"?4:3;if(s===3&&!this.opts.allowEIO3){we("unsupported protocol version"),this.emit("connection_error",{req:t,code:Fe.errors.UNSUPPORTED_PROTOCOL_VERSION,message:Fe.errorMessages[Fe.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:s}}),r(Fe.errors.UNSUPPORTED_PROTOCOL_VERSION);return}let n;try{n=await this.generateId(t)}catch(l){we("error while generating an id"),this.emit("connection_error",{req:t,code:Fe.errors.BAD_REQUEST,message:Fe.errorMessages[Fe.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:l}}),r(Fe.errors.BAD_REQUEST);return}we('handshaking client "%s"',n);try{var a=this.createTransport(e,t);e==="polling"?(a.maxHttpBufferSize=this.opts.maxHttpBufferSize,a.httpCompression=this.opts.httpCompression):e==="websocket"&&(a.perMessageDeflate=this.opts.perMessageDeflate),t._query&&t._query.b64?a.supportsBinary=!1:a.supportsBinary=!0}catch(l){we('error handshaking to transport "%s"',e),this.emit("connection_error",{req:t,code:Fe.errors.BAD_REQUEST,message:Fe.errorMessages[Fe.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:l}}),r(Fe.errors.BAD_REQUEST);return}let c=new qh.Socket(n,this,a,t,s);return a.on("headers",(l,o)=>{!o._query.sid&&(this.opts.cookie&&(l["Set-Cookie"]=[(0,WE.serialize)(this.opts.cookie.name,n,this.opts.cookie)]),this.emit("initial_headers",l,o)),this.emit("headers",l,o)}),a.onRequest(t),this.clients[n]=c,this.clientsCount++,c.once("close",()=>{delete this.clients[n],this.clientsCount--}),this.emit("connection",c),a}async onWebTransportSession(e){let t=setTimeout(()=>{we("the client failed to establish a bidirectional stream in the given period"),e.close()},this.opts.upgradeTimeout),s=await e.incomingBidirectionalStreams.getReader().read();if(s.done){we("session is closed");return}let n=s.value,a=(0,zE.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),c=n.readable.pipeThrough(a).getReader(),{value:l,done:o}=await c.read();if(o){we("stream is closed");return}if(clearTimeout(t),l.type!=="open")return we("invalid WebTransport handshake"),e.close();if(l.data===void 0){let v=new jh.WebTransport(e,n,c),A=Vh.generateId();we('handshaking client "%s" (WebTransport)',A);let _=new qh.Socket(A,this,v,null,4);this.clients[A]=_,this.clientsCount++,_.once("close",()=>{delete this.clients[A],this.clientsCount--}),this.emit("connection",_);return}let d=$E(l.data);if(!d)return we("invalid WebTransport handshake"),e.close();let u=this.clients[d];if(!u)we("upgrade attempt for closed client"),e.close();else if(u.upgrading)we("transport has already been trying to upgrade"),e.close();else if(u.upgraded)we("transport had already been upgraded"),e.close();else{we("upgrading existing transport");let v=new jh.WebTransport(e,n,c);u.maybeUpgrade(v)}}};cs.BaseServer=os;os.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5};os.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};var Rl=class{constructor(e,t){this.req=e,this.socket=t,e[as]={}}setHeader(e,t){this.req[as][e]=t}getHeader(e){return this.req[as][e]}removeHeader(e){delete this.req[as][e]}write(){}writeHead(){}end(){this.socket.destroy()}},Fe=class i extends os{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),typeof this.ws.on=="function"&&this.ws.on("headers",(e,t)=>{let r=t[as]||{};delete t[as],!t._query.sid&&this.emit("initial_headers",r,t),this.emit("headers",r,t),we("writing headers: %j",r),Object.keys(r).forEach(n=>{e.push(`${n}: ${r[n]}`)})}))}cleanup(){this.ws&&(we("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?qE.parse((0,jE.parse)(e.url).query):{})}createTransport(e,t){return new Xa.default[e](t)}handleRequest(e,t){we('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=t;let r=(s,n)=>{if(s!==void 0){this.emit("connection_error",{req:e,code:s,message:i.errorMessages[s],context:n}),Hh(t,s,n);return}if(e._query.sid)we("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{let a=(c,l)=>Hh(t,c,l);this.handshake(e._query.transport,e,a)}};this._applyMiddlewares(e,t,s=>{s?r(i.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,r)})}handleUpgrade(e,t,r){this.prepare(e);let s=new Rl(e,t),n=(a,c)=>{if(a!==void 0){this.emit("connection_error",{req:e,code:a,message:i.errorMessages[a],context:c}),Kh(t,a,c);return}let l=Buffer.from(r);r=null,s.writeHead(),this.ws.handleUpgrade(e,t,l,o=>{this.onWebSocket(e,t,o)})};this._applyMiddlewares(e,s,a=>{a?n(i.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,n)})}onWebSocket(e,t,r){if(r.on("error",n),Xa.default[e._query.transport]!==void 0&&!Xa.default[e._query.transport].prototype.handlesUpgrades){we("transport doesnt handle upgraded requests"),r.close();return}let s=e._query.sid;if(e.websocket=r,s){let a=this.clients[s];if(!a)we("upgrade attempt for closed client"),r.close();else if(a.upgrading)we("transport has already been trying to upgrade"),r.close();else if(a.upgraded)we("transport had already been upgraded"),r.close();else{we("upgrading existing transport"),r.removeListener("error",n);let c=this.createTransport(e._query.transport,e);e._query&&e._query.b64?c.supportsBinary=!1:c.supportsBinary=!0,c.perMessageDeflate=this.opts.perMessageDeflate,a.maybeUpgrade(c)}}else{let a=(c,l)=>Kh(t,c,l);this.handshake(e._query.transport,e,a)}function n(){we("websocket error before upgrade")}}attach(e,t={}){let r=this._computePath(t),s=t.destroyUpgradeTimeout||1e3;function n(c){return r===c.url.slice(0,r.length)}let a=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",(c,l)=>{if(n(c))we('intercepting request for path "%s"',r),this.handleRequest(c,l);else{let o=0,d=a.length;for(;o<d;o++)a[o].call(e,c,l)}}),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",(c,l,o)=>{n(c)?this.handleUpgrade(c,l,o):t.destroyUpgrade!==!1&&setTimeout(function(){if(l.writable&&l.bytesWritten<=0)return l.on("error",d=>{we("error while destroying upgrade: %s",d.message)}),l.end()},s)})}};cs.Server=Fe;function Hh(i,e,t){let r=e===Fe.errors.FORBIDDEN?403:400,s=t&&t.message?t.message:Fe.errorMessages[e];i.writeHead(r,{"Content-Type":"application/json"}),i.end(JSON.stringify({code:e,message:s}))}function Kh(i,e,t={}){if(i.on("error",()=>{we("ignoring error from closed connection")}),i.writable){let r=t.message||Fe.errorMessages[e],s=Buffer.byteLength(r);i.write(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-type: text/html\r
Content-Length: `+s+`\r
\r
`+r)}i.destroy()}var on=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function YE(i){if(i+="",i.length<1)return!1;if(!on[i.charCodeAt(0)])return we('invalid header, index 0, char "%s"',i.charCodeAt(0)),!0;if(i.length<2)return!1;if(!on[i.charCodeAt(1)])return we('invalid header, index 1, char "%s"',i.charCodeAt(1)),!0;if(i.length<3)return!1;if(!on[i.charCodeAt(2)])return we('invalid header, index 2, char "%s"',i.charCodeAt(2)),!0;if(i.length<4)return!1;if(!on[i.charCodeAt(3)])return we('invalid header, index 3, char "%s"',i.charCodeAt(3)),!0;for(let e=4;e<i.length;++e)if(!on[i.charCodeAt(e)])return we('invalid header, index "%i", char "%s"',e,i.charCodeAt(e)),!0;return!1}});var Gh=Q(Ja=>{"use strict";U();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.Polling=void 0;var ZE=Ii(),Wh=Y("zlib"),QE=ka(),XE=Ue(),sr=(0,XE.default)("engine:polling"),JE={gzip:Wh.createGzip,deflate:Wh.createDeflate},Nl=class extends ZE.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){let t=e.res;e.getMethod()==="get"?this.onPollRequest(e,t):e.getMethod()==="post"?this.onDataRequest(e,t):(t.writeStatus("500 Internal Server Error"),t.end())}onPollRequest(e,t){if(this.req){sr("request overlap"),this.onError("overlap from client"),t.writeStatus("500 Internal Server Error"),t.end();return}sr("setting request"),this.req=e,this.res=t;let r=()=>{this.writable=!1,this.onError("poll connection closed prematurely")},s=()=>{this.req=this.res=null};e.cleanup=s,t.onAborted(r),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(sr("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq){this.onError("data request overlap from client"),t.writeStatus("500 Internal Server Error"),t.end();return}let r=Number(e.headers["content-length"]);if(!r){this.onError("content-length header required"),t.writeStatus("411 Length Required").end();return}if(r>this.maxHttpBufferSize){this.onError("payload too large"),t.writeStatus("413 Payload Too Large").end();return}if(e.headers["content-type"]==="application/octet-stream"&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let n,a=0,c={"Content-Type":"text/html"};this.headers(e,c);for(let o in c)t.writeHeader(o,String(c[o]));let l=o=>{this.onData(o.toString()),this.onDataRequestCleanup(),t.cork(()=>{t.end("ok")})};t.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),t.onData((o,d)=>{let u=a+o.byteLength;if(u>r){this.onError("content-length mismatch"),t.close();return}if(!n){if(d){l(Buffer.from(o));return}n=Buffer.allocUnsafe(r)}if(Buffer.from(o).copy(n,a),d){if(u!=r){this.onError("content-length mismatch"),t.writeStatus("400 Content-Length Mismatch").end(),this.onDataRequestCleanup();return}l(n);return}a=u})}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){sr('received "%s"',e);let t=r=>{if(r.type==="close")return sr("got xhr close packet"),this.onClose(),!1;this.onPacket(r)};this.protocol===3?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(sr("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);let t=r=>{let s=e.some(n=>n.options&&n.options.compress);this.write(r,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){sr('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup()})}doWrite(e,t,r){let s=typeof e=="string",a={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},c=d=>{this.headers(this.req,a),this.res.cork(()=>{Object.keys(a).forEach(u=>{this.res.writeHeader(u,String(a[u]))}),this.res.end(d)}),r()};if(!this.httpCompression||!t.compress){c(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){c(e);return}let o=QE(this.req).encodings(["gzip","deflate"]);if(!o){c(e);return}this.compress(e,o,(d,u)=>{if(d){this.res.writeStatus("500 Internal Server Error"),this.res.end(),r(d);return}a["Content-Encoding"]=o,c(u)})}compress(e,t,r){sr("compressing");let s=[],n=0;JE[t](this.httpCompression).on("error",r).on("data",function(a){s.push(a),n+=a.length}).on("end",function(){r(null,Buffer.concat(s,n))}).end(e)}doClose(e){sr("closing");let t,r=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(sr("transport writable - closing right away"),this.send([{type:"close"}]),r()):this.discarded?(sr("transport discarded - closing right away"),r()):(sr("transport not writable - buffering orderly close"),this.shouldClose=r,t=setTimeout(r,this.closeTimeout))}headers(e,t){t=t||{};let r=e.headers["user-agent"];return r&&(~r.indexOf(";MSIE")||~r.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),this.emit("headers",t,e),t}};Ja.Polling=Nl});var $h=Q(eo=>{"use strict";U();Object.defineProperty(eo,"__esModule",{value:!0});eo.WebSocket=void 0;var eS=Ii(),tS=Ue(),zh=(0,tS.default)("engine:ws"),Bl=class extends eS.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t+1===e.length,n=a=>{let c=typeof a!="string",l=this.perMessageDeflate&&Buffer.byteLength(a)>this.perMessageDeflate.threshold;zh('writing "%s"',a),this.socket.send(a,c,l),s&&(this.writable=!0,this.emit("drain"))};r.options&&typeof r.options.wsPreEncoded=="string"?n(r.options.wsPreEncoded):this.parser.encodePacket(r,this.supportsBinary,n)}}doClose(e){zh("closing"),e&&e(),this.socket.end()}};eo.WebSocket=Bl});var Yh=Q(Ol=>{"use strict";U();Object.defineProperty(Ol,"__esModule",{value:!0});var rS=Gh(),iS=$h();Ol.default={polling:rS.Polling,websocket:iS.WebSocket}});var Zh=Q(to=>{"use strict";U();Object.defineProperty(to,"__esModule",{value:!0});to.uServer=void 0;var sS=Ue(),Li=Il(),nS=Yh(),di=(0,sS.default)("engine:uws"),Ll=class extends Li.BaseServer{init(){}cleanup(){}prepare(e,t){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();let r=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(r.entries()),e.headers={},e.forEach((s,n)=>{e.headers[s]=n}),e.connection={remoteAddress:Buffer.from(t.getRemoteAddressAsText()).toString()},t.onAborted(()=>{di("response has been aborted")})}createTransport(e,t){return new nS.default[e](t)}attach(e,t={}){let r=this._computePath(t);e.any(r,this.handleRequest.bind(this)).ws(r,{compression:t.compression,idleTimeout:t.idleTimeout,maxBackpressure:t.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:s=>{let n=s.getUserData().transport;n.socket=s,n.writable=!0,n.emit("drain")},message:(s,n,a)=>{s.getUserData().transport.onData(a?n:Buffer.from(n).toString())},close:(s,n,a)=>{s.getUserData().transport.onClose(n,a)}})}_applyMiddlewares(e,t,r){if(this.middlewares.length===0)return r();e.res=new Pl(t),super._applyMiddlewares(e,e.res,s=>{e.res.writeHead(),r(s)})}handleRequest(e,t){di('handling "%s" http request "%s"',t.getMethod(),t.getUrl()),this.prepare(t,e),t.res=e;let r=(s,n)=>{if(s!==void 0){this.emit("connection_error",{req:t,code:s,message:Li.Server.errorMessages[s],context:n}),this.abortRequest(t.res,s,n);return}if(t._query.sid)di("setting new request for existing client"),this.clients[t._query.sid].transport.onRequest(t);else{let a=(c,l)=>this.abortRequest(e,c,l);this.handshake(t._query.transport,t,a)}};this._applyMiddlewares(t,e,s=>{s?r(Li.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!1,r)})}handleUpgrade(e,t,r){di("on upgrade"),this.prepare(t,e),t.res=e;let s=async(n,a)=>{if(n!==void 0){this.emit("connection_error",{req:t,code:n,message:Li.Server.errorMessages[n],context:a}),this.abortRequest(e,n,a);return}let c=t._query.sid,l;if(c){let o=this.clients[c];o?o.upgrading?(di("transport has already been trying to upgrade"),e.close()):o.upgraded?(di("transport had already been upgraded"),e.close()):(di("upgrading existing transport"),l=this.createTransport(t._query.transport,t),o.maybeUpgrade(l)):(di("upgrade attempt for closed client"),e.close())}else if(l=await this.handshake(t._query.transport,t,(o,d)=>this.abortRequest(e,o,d)),!l)return;t.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:l},t.getHeader("sec-websocket-key"),t.getHeader("sec-websocket-protocol"),t.getHeader("sec-websocket-extensions"),r)};this._applyMiddlewares(t,e,n=>{n?s(Li.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!0,s)})}abortRequest(e,t,r){let s=t===Li.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",n=r&&r.message?r.message:Li.Server.errorMessages[t];e.writeStatus(s),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:t,message:n}))}};to.uServer=Ll;var Pl=class{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(e===200?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,t){Array.isArray(t)?t.forEach(r=>{this.writeHeader(e,r)}):this.writeHeader(e,t)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,t){this.isAborted||e!=="Content-Length"&&(this.statusWritten?this.res.writeHeader(e,t):this.headers.push([e,t]))}writeBufferedHeaders(){this.headers.forEach(([e,t])=>{this.res.writeHeader(e,t)})}end(e){this.isAborted||this.res.cork(()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)})}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted(()=>{this.isAborted=!0,e()})}cork(e){this.isAborted||this.res.cork(e)}}});var em=Q(tt=>{"use strict";U();Object.defineProperty(tt,"__esModule",{value:!0});tt.protocol=tt.Transport=tt.Socket=tt.uServer=tt.parser=tt.attach=tt.listen=tt.transports=tt.Server=void 0;var aS=Y("http"),Qh=Il();Object.defineProperty(tt,"Server",{enumerable:!0,get:function(){return Qh.Server}});var oS=sl();tt.transports=oS.default;var Xh=zs();tt.parser=Xh;var cS=Zh();Object.defineProperty(tt,"uServer",{enumerable:!0,get:function(){return cS.uServer}});var lS=al();Object.defineProperty(tt,"Socket",{enumerable:!0,get:function(){return lS.Socket}});var uS=Ii();Object.defineProperty(tt,"Transport",{enumerable:!0,get:function(){return uS.Transport}});tt.protocol=Xh.protocol;function pS(i,e,t){typeof e=="function"&&(t=e,e={});let r=(0,aS.createServer)(function(n,a){a.writeHead(501),a.end("Not Implemented")}),s=Jh(r,e);return s.httpServer=r,r.listen(i,t),s}tt.listen=pS;function Jh(i,e){let t=new Qh.Server(e);return t.attach(i,e),t}tt.attach=Jh});var tm={};Sf(tm,{Emitter:()=>De});function De(i){if(i)return fS(i)}function fS(i){for(var e in De.prototype)i[e]=De.prototype[e];return i}var hi=lx(()=>{"use strict";U();De.prototype.on=De.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};De.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var r,s=0;s<t.length;s++)if(r=t[s],r===e||r.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+i],this};De.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,s=t.length;r<s;++r)t[r].apply(this,e)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};De.prototype.hasListeners=function(i){return!!this.listeners(i).length}});var Dl=Q(ls=>{"use strict";U();Object.defineProperty(ls,"__esModule",{value:!0});ls.hasBinary=ls.isBinary=void 0;var dS=typeof ArrayBuffer=="function",hS=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,rm=Object.prototype.toString,mS=typeof Blob=="function"||typeof Blob<"u"&&rm.call(Blob)==="[object BlobConstructor]",gS=typeof File=="function"||typeof File<"u"&&rm.call(File)==="[object FileConstructor]";function im(i){return dS&&(i instanceof ArrayBuffer||hS(i))||mS&&i instanceof Blob||gS&&i instanceof File}ls.isBinary=im;function ro(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,r=i.length;t<r;t++)if(ro(i[t]))return!0;return!1}if(im(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return ro(i.toJSON(),!0);for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&ro(i[t]))return!0;return!1}ls.hasBinary=ro});var sm=Q(us=>{"use strict";U();Object.defineProperty(us,"__esModule",{value:!0});us.reconstructPacket=us.deconstructPacket=void 0;var vS=Dl();function yS(i){let e=[],t=i.data,r=i;return r.data=Ul(t,e),r.attachments=e.length,{packet:r,buffers:e}}us.deconstructPacket=yS;function Ul(i,e){if(!i)return i;if((0,vS.isBinary)(i)){let t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){let t=new Array(i.length);for(let r=0;r<i.length;r++)t[r]=Ul(i[r],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){let t={};for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=Ul(i[r],e));return t}return i}function _S(i,e){return i.data=Ml(i.data,e),delete i.attachments,i}us.reconstructPacket=_S;function Ml(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=Ml(i[t],e);else if(typeof i=="object")for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=Ml(i[t],e));return i}});var cn=Q(hr=>{"use strict";U();Object.defineProperty(hr,"__esModule",{value:!0});hr.Decoder=hr.Encoder=hr.PacketType=hr.protocol=void 0;var xS=(hi(),ux(tm)),am=sm(),om=Dl(),bS=Ue(),Fl=(0,bS.default)("socket.io-parser"),ES=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];hr.protocol=5;var $e;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})($e=hr.PacketType||(hr.PacketType={}));var Vl=class{constructor(e){this.replacer=e}encode(e){return Fl("encoding packet %j",e),(e.type===$e.EVENT||e.type===$e.ACK)&&(0,om.hasBinary)(e)?this.encodeAsBinary({type:e.type===$e.EVENT?$e.BINARY_EVENT:$e.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===$e.BINARY_EVENT||e.type===$e.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),Fl("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=(0,am.deconstructPacket)(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}};hr.Encoder=Vl;function nm(i){return Object.prototype.toString.call(i)==="[object Object]"}var ql=class i extends xS.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===$e.BINARY_EVENT;r||t.type===$e.BINARY_ACK?(t.type=r?$e.EVENT:$e.ACK,this.reconstructor=new jl(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if((0,om.isBinary)(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if($e[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===$e.BINARY_EVENT||r.type===$e.BINARY_ACK){let n=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let a=e.substring(n,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(t+1)==="/"){let n=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(n,t)}else r.nsp="/";let s=e.charAt(t+1);if(s!==""&&Number(s)==s){let n=t+1;for(;++t;){let a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){let n=this.tryParse(e.substr(t));if(i.isPayloadValid(r.type,n))r.data=n;else throw new Error("invalid payload")}return Fl("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case $e.CONNECT:return nm(t);case $e.DISCONNECT:return t===void 0;case $e.CONNECT_ERROR:return typeof t=="string"||nm(t);case $e.EVENT:case $e.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&ES.indexOf(t[0])===-1);case $e.ACK:case $e.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};hr.Decoder=ql;var jl=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=(0,am.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var cm=Q(so=>{"use strict";U();Object.defineProperty(so,"__esModule",{value:!0});so.Client=void 0;var io=cn(),SS=Ue(),CS=Y("url"),mr=SS("socket.io:client"),Hl=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{this.nsps.size===0?(mr("no namespace joined yet, close the client"),this.close()):mr("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(e,t={}){if(this.server._nsps.has(e))return mr("connecting to namespace %s",e),this.doConnect(e,t);this.server._checkNamespace(e,t,r=>{r?this.doConnect(e,t):(mr("creation of namespace %s was denied",e),this._packet({type:io.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))})}doConnect(e,t){let r=this.server.of(e);r._add(this,t,s=>{this.sockets.set(s.id,s),this.nsps.set(r.name,s),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(let e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){let t=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(t)}else mr("ignoring remove for %s",e.id)}close(){this.conn.readyState==="open"&&(mr("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t={}){if(this.conn.readyState!=="open"){mr("ignoring packet write %j",e);return}let r=t.preEncoded?e:this.encoder.encode(e);this.writeToEngine(r,t)}writeToEngine(e,t){if(t.volatile&&!this.conn.transport.writable){mr("volatile packet is discarded since the transport is not currently writable");return}let r=Array.isArray(e)?e:[e];for(let s of r)this.conn.write(s,t)}ondata(e){try{this.decoder.add(e)}catch(t){mr("invalid packet format"),this.onerror(t)}}ondecoded(e){let t,r;if(this.conn.protocol===3){let n=CS.parse(e.nsp,!0);t=n.pathname,r=n.query}else t=e.nsp,r=e.data;let s=this.nsps.get(t);!s&&e.type===io.PacketType.CONNECT?this.connect(t,r):s&&e.type!==io.PacketType.CONNECT&&e.type!==io.PacketType.CONNECT_ERROR?process.nextTick(function(){s._onpacket(e)}):(mr("invalid state (packet type: %s)",e.type),this.close())}onerror(e){for(let t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e,t){mr("client close with reason %s",e),this.destroy();for(let r of this.sockets.values())r._onclose(e,t);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}};so.Client=Hl});var ao=Q(no=>{"use strict";U();Object.defineProperty(no,"__esModule",{value:!0});no.StrictEventEmitter=void 0;var wS=Y("events"),Kl=class extends wS.EventEmitter{on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}emit(e,...t){return super.emit(e,...t)}emitReserved(e,...t){return super.emit(e,...t)}emitUntyped(e,...t){return super.emit(e,...t)}listeners(e){return super.listeners(e)}};no.StrictEventEmitter=Kl});var Wl=Q(ps=>{"use strict";U();Object.defineProperty(ps,"__esModule",{value:!0});ps.RemoteSocket=ps.BroadcastOperator=void 0;var lm=ln(),TS=cn(),oo=class i{constructor(e,t=new Set,r=new Set,s={}){this.adapter=e,this.rooms=t,this.exceptRooms=r,this.flags=s}to(e){let t=new Set(this.rooms);return Array.isArray(e)?e.forEach(r=>t.add(r)):t.add(e),new i(this.adapter,t,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){let t=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(r=>t.add(r)):t.add(e),new i(this.adapter,this.rooms,t,this.flags)}compress(e){let t=Object.assign({},this.flags,{compress:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}get volatile(){let e=Object.assign({},this.flags,{volatile:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}get local(){let e=Object.assign({},this.flags,{local:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){let t=Object.assign({},this.flags,{timeout:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}emit(e,...t){if(lm.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);let r=[e,...t],s={type:TS.PacketType.EVENT,data:r};if(!(typeof r[r.length-1]=="function"))return this.adapter.broadcast(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;let a=r.pop(),c=!1,l=[],o=setTimeout(()=>{c=!0,a.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:l])},this.flags.timeout),d=-1,u=0,v=0,A=()=>{!c&&d===u&&l.length===v&&(clearTimeout(o),a.apply(this,[null,this.flags.expectSingleResponse?l[0]:l]))};return this.adapter.broadcastWithAck(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},_=>{v+=_,u++,A()},_=>{l.push(_),A()}),this.adapter.serverCount().then(_=>{d=_,A()}),!0}emitWithAck(e,...t){return new Promise((r,s)=>{t.push((n,a)=>n?(n.responses=a,s(n)):r(a)),this.emit(e,...t)})}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(t=>t instanceof lm.Socket?t:new co(this.adapter,t)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}};ps.BroadcastOperator=oo;var co=class{constructor(e,t){this.id=t.id,this.handshake=t.handshake,this.rooms=new Set(t.rooms),this.data=t.data,this.operator=new oo(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...t){return this.operator.emit(e,...t)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}};ps.RemoteSocket=co});var ln=Q(jr=>{"use strict";U();var fm=jr&&jr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jr,"__esModule",{value:!0});jr.Socket=jr.RESERVED_EVENTS=void 0;var nr=cn(),AS=fm(Ue()),kS=ao(),um=fm(Fc()),RS=Wl(),Nt=(0,AS.default)("socket.io:socket"),IS=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);jr.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);function pm(){}var Gl=class extends kS.StrictEventEmitter{constructor(e,t,r,s){super(),this.nsp=e,this.client=t,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,s?(this.id=s.sid,this.pid=s.pid,s.rooms.forEach(n=>this.join(n)),this.data=s.data,s.missedPackets.forEach(n=>{this.packet({type:nr.PacketType.EVENT,data:n})}),this.recovered=!0):(t.conn.protocol===3?this.id=e.name!=="/"?e.name+"#"+t.id:t.id:this.id=um.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=um.default.generateId())),this.handshake=this.buildHandshake(r),this.on("error",pm)}buildHandshake(e){var t,r,s,n;return{headers:((t=this.request)===null||t===void 0?void 0:t.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(!((r=this.request)===null||r===void 0)&&r.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:(s=this.request)===null||s===void 0?void 0:s.url,query:((n=this.request)===null||n===void 0?void 0:n._query)||{},auth:e}}emit(e,...t){if(jr.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);let r=[e,...t],s={type:nr.PacketType.EVENT,data:r};if(typeof r[r.length-1]=="function"){let a=this.nsp._ids++;Nt("emitting packet with ack id %d",a),this.registerAckCallback(a,r.pop()),s.id=a}let n=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(s,{rooms:new Set([this.id]),except:new Set,flags:n}):(this.notifyOutgoingListeners(s),this.packet(s,n)),!0}emitWithAck(e,...t){let r=this.flags.timeout!==void 0;return new Promise((s,n)=>{t.push((a,c)=>r?a?n(a):s(c):s(a)),this.emit(e,...t)})}registerAckCallback(e,t){let r=this.flags.timeout;if(r===void 0){this.acks.set(e,t);return}let s=setTimeout(()=>{Nt("event with ack id %d has timed out after %d ms",e,r),this.acks.delete(e),t.call(this,new Error("operation has timed out"))},r);this.acks.set(e,(...n)=>{clearTimeout(s),t.apply(this,[null,...n])})}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=t.compress!==!1,this.client._packet(e,t)}join(e){return Nt("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return Nt("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){Nt("socket connected - writing packet"),this.connected=!0,this.join(this.id),this.conn.protocol===3?this.packet({type:nr.PacketType.CONNECT}):this.packet({type:nr.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(Nt("got packet %j",e),e.type){case nr.PacketType.EVENT:this.onevent(e);break;case nr.PacketType.BINARY_EVENT:this.onevent(e);break;case nr.PacketType.ACK:this.onack(e);break;case nr.PacketType.BINARY_ACK:this.onack(e);break;case nr.PacketType.DISCONNECT:this.ondisconnect();break}}onevent(e){let t=e.data||[];if(Nt("emitting event %j",t),e.id!=null&&(Nt("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let s of r)s.apply(this,t)}this.dispatch(t)}ack(e){let t=this,r=!1;return function(){if(r)return;let s=Array.prototype.slice.call(arguments);Nt("sending ack %j",s),t.packet({id:e,type:nr.PacketType.ACK,data:s}),r=!0}}onack(e){let t=this.acks.get(e.id);typeof t=="function"?(Nt("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):Nt("bad ack %s",e.id)}ondisconnect(){Nt("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,t){if(!this.connected)return this;Nt("closing socket - reason %s",e),this.emitReserved("disconnecting",e,t),this.server._opts.connectionStateRecovery&&IS.has(e)&&(Nt("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,t)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=pm}_error(e){this.packet({type:nr.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:nr.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){Nt("dispatching an event %j",e),this.run(e,t=>{process.nextTick(()=>{if(t)return this._onerror(t);this.connected?super.emitUntyped.apply(this,e):Nt("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,t){let r=this.fns.slice(0);if(!r.length)return t(null);function s(n){r[n](e,function(a){if(a)return t(a);if(!r[n+1])return t(null);s(n+1)})}s(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}newBroadcastOperator(){let e=Object.assign({},this.flags);return this.flags={},new RS.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}};jr.Socket=Gl});var $l=Q(Hr=>{"use strict";U();var NS=Hr&&Hr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.Namespace=Hr.RESERVED_EVENTS=void 0;var dm=ln(),BS=ao(),OS=NS(Ue()),Yt=Wl(),fs=(0,OS.default)("socket.io:namespace");Hr.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);var zl=class extends BS.StrictEventEmitter{constructor(e,t){super(),this.sockets=new Map,this._fns=[],this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,t){let r=this._fns.slice(0);if(!r.length)return t(null);function s(n){r[n](e,function(a){if(a)return t(a);if(!r[n+1])return t(null);s(n+1)})}s(0)}to(e){return new Yt.BroadcastOperator(this.adapter).to(e)}in(e){return new Yt.BroadcastOperator(this.adapter).in(e)}except(e){return new Yt.BroadcastOperator(this.adapter).except(e)}async _add(e,t,r){var s;fs("adding socket to nsp %s",this.name);let n=await this._createSocket(e,t);if(!((s=this.server.opts.connectionStateRecovery)===null||s===void 0)&&s.skipMiddlewares&&n.recovered&&e.conn.readyState==="open")return this._doConnect(n,r);this.run(n,a=>{process.nextTick(()=>{if(e.conn.readyState!=="open"){fs("next called after client was closed - ignoring socket"),n._cleanup();return}if(a)return fs("middleware error, sending CONNECT_ERROR packet to the client"),n._cleanup(),e.conn.protocol===3?n._error(a.data||a.message):n._error({message:a.message,data:a.data});this._doConnect(n,r)})})}async _createSocket(e,t){let r=t.pid,s=t.offset;if(this.server.opts.connectionStateRecovery&&typeof r=="string"&&typeof s=="string"){let n;try{n=await this.adapter.restoreSession(r,s)}catch(a){fs("error while restoring session: %s",a)}if(n)return fs("connection state recovered for sid %s",n.sid),new dm.Socket(this,e,t,n)}return new dm.Socket(this,e,t)}_doConnect(e,t){this.sockets.set(e.id,e),e._onconnect(),t&&t(e),this.emitReserved("connect",e),this.emitReserved("connection",e)}_remove(e){this.sockets.has(e.id)?this.sockets.delete(e.id):fs("ignoring remove for %s",e.id)}emit(e,...t){return new Yt.BroadcastOperator(this.adapter).emit(e,...t)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}serverSideEmit(e,...t){if(Hr.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);return t.unshift(e),this.adapter.serverSideEmit(t),!0}serverSideEmitWithAck(e,...t){return new Promise((r,s)=>{t.push((n,a)=>n?(n.responses=a,s(n)):r(a)),this.serverSideEmit(e,...t)})}_onServerSideEmit(e){super.emitUntyped.apply(this,e)}allSockets(){return new Yt.BroadcastOperator(this.adapter).allSockets()}compress(e){return new Yt.BroadcastOperator(this.adapter).compress(e)}get volatile(){return new Yt.BroadcastOperator(this.adapter).volatile}get local(){return new Yt.BroadcastOperator(this.adapter).local}timeout(e){return new Yt.BroadcastOperator(this.adapter).timeout(e)}fetchSockets(){return new Yt.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(e){return new Yt.BroadcastOperator(this.adapter).socketsJoin(e)}socketsLeave(e){return new Yt.BroadcastOperator(this.adapter).socketsLeave(e)}disconnectSockets(e=!1){return new Yt.BroadcastOperator(this.adapter).disconnectSockets(e)}};Hr.Namespace=zl});var ym=Q(gi=>{"use strict";U();Object.defineProperty(gi,"__esModule",{value:!0});gi.yeast=gi.decode=gi.encode=void 0;var gm="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),lo=64,vm={},hm=0,mi=0,mm;function Yl(i){let e="";do e=gm[i%lo]+e,i=Math.floor(i/lo);while(i>0);return e}gi.encode=Yl;function LS(i){let e=0;for(mi=0;mi<i.length;mi++)e=e*lo+vm[i.charAt(mi)];return e}gi.decode=LS;function PS(){let i=Yl(+new Date);return i!==mm?(hm=0,mm=i):i+"."+Yl(hm++)}gi.yeast=PS;for(;mi<lo;mi++)vm[gm[mi]]=mi});var vi=Q((x3,_m)=>{"use strict";U();_m.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var un=Q((E3,uo)=>{"use strict";U();var{EMPTY_BUFFER:DS}=vi();function US(i,e){if(i.length===0)return DS;if(i.length===1)return i[0];let t=Buffer.allocUnsafe(e),r=0;for(let s=0;s<i.length;s++){let n=i[s];t.set(n,r),r+=n.length}return r<e?t.slice(0,r):t}function xm(i,e,t,r,s){for(let n=0;n<s;n++)t[r+n]=i[n]^e[n&3]}function bm(i,e){for(let t=0;t<i.length;t++)i[t]^=e[t&3]}function MS(i){return i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}function Zl(i){if(Zl.readOnly=!0,Buffer.isBuffer(i))return i;let e;return i instanceof ArrayBuffer?e=Buffer.from(i):ArrayBuffer.isView(i)?e=Buffer.from(i.buffer,i.byteOffset,i.byteLength):(e=Buffer.from(i),Zl.readOnly=!1),e}uo.exports={concat:US,mask:xm,toArrayBuffer:MS,toBuffer:Zl,unmask:bm};if(!process.env.WS_NO_BUFFER_UTIL)try{let i=Y("bufferutil");uo.exports.mask=function(e,t,r,s,n){n<48?xm(e,t,r,s,n):i.mask(e,t,r,s,n)},uo.exports.unmask=function(e,t){e.length<32?bm(e,t):i.unmask(e,t)}}catch{}});var Cm=Q((C3,Sm)=>{"use strict";U();var Em=Symbol("kDone"),Ql=Symbol("kRun"),Xl=class{constructor(e){this[Em]=()=>{this.pending--,this[Ql]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Ql]()}[Ql](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Em])}}};Sm.exports=Xl});var dn=Q((T3,km)=>{"use strict";U();var pn=Y("zlib"),wm=un(),FS=Cm(),{kStatusCode:Tm}=vi(),VS=Buffer.from([0,0,255,255]),ho=Symbol("permessage-deflate"),Kr=Symbol("total-length"),fn=Symbol("callback"),yi=Symbol("buffers"),fo=Symbol("error"),po,Jl=class{constructor(e,t,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!po){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;po=new FS(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[fn];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(s=>!(t.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>s.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(r.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?r.client_max_window_bits=t.clientMaxWindowBits:(r.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(r=>{let s=t[r];if(s.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(s=s[0],r==="client_max_window_bits"){if(s!==!0){let n=+s;if(!Number.isInteger(n)||n<8||n>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=n}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else if(r==="server_max_window_bits"){let n=+s;if(!Number.isInteger(n)||n<8||n>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=n}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else throw new Error(`Unknown parameter "${r}"`);t[r]=s})}),e}decompress(e,t,r){po.add(s=>{this._decompress(e,t,(n,a)=>{s(),r(n,a)})})}compress(e,t,r){po.add(s=>{this._compress(e,t,(n,a)=>{s(),r(n,a)})})}_decompress(e,t,r){let s=this._isServer?"client":"server";if(!this._inflate){let n=`${s}_max_window_bits`,a=typeof this.params[n]!="number"?pn.Z_DEFAULT_WINDOWBITS:this.params[n];this._inflate=pn.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[ho]=this,this._inflate[Kr]=0,this._inflate[yi]=[],this._inflate.on("error",jS),this._inflate.on("data",Am)}this._inflate[fn]=r,this._inflate.write(e),t&&this._inflate.write(VS),this._inflate.flush(()=>{let n=this._inflate[fo];if(n){this._inflate.close(),this._inflate=null,r(n);return}let a=wm.concat(this._inflate[yi],this._inflate[Kr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Kr]=0,this._inflate[yi]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,a)})}_compress(e,t,r){let s=this._isServer?"server":"client";if(!this._deflate){let n=`${s}_max_window_bits`,a=typeof this.params[n]!="number"?pn.Z_DEFAULT_WINDOWBITS:this.params[n];this._deflate=pn.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[Kr]=0,this._deflate[yi]=[],this._deflate.on("data",qS)}this._deflate[fn]=r,this._deflate.write(e),this._deflate.flush(pn.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let n=wm.concat(this._deflate[yi],this._deflate[Kr]);t&&(n=n.slice(0,n.length-4)),this._deflate[fn]=null,this._deflate[Kr]=0,this._deflate[yi]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,n)})}};km.exports=Jl;function qS(i){this[yi].push(i),this[Kr]+=i.length}function Am(i){if(this[Kr]+=i.length,this[ho]._maxPayload<1||this[Kr]<=this[ho]._maxPayload){this[yi].push(i);return}this[fo]=new RangeError("Max payload size exceeded"),this[fo].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[fo][Tm]=1009,this.removeListener("data",Am),this.reset()}function jS(i){this[ho]._inflate=null,i[Tm]=1007,this[fn](i)}});var hn=Q((k3,eu)=>{"use strict";U();var HS=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function KS(i){return i>=1e3&&i<=1014&&i!==1004&&i!==1005&&i!==1006||i>=3e3&&i<=4999}function Rm(i){let e=i.length,t=0;for(;t<e;)if(!(i[t]&128))t++;else if((i[t]&224)===192){if(t+1===e||(i[t+1]&192)!==128||(i[t]&254)===192)return!1;t+=2}else if((i[t]&240)===224){if(t+2>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||i[t]===224&&(i[t+1]&224)===128||i[t]===237&&(i[t+1]&224)===160)return!1;t+=3}else if((i[t]&248)===240){if(t+3>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||(i[t+3]&192)!==128||i[t]===240&&(i[t+1]&240)===128||i[t]===244&&i[t+1]>143||i[t]>244)return!1;t+=4}else return!1;return!0}eu.exports={isValidStatusCode:KS,isValidUTF8:Rm,tokenChars:HS};if(!process.env.WS_NO_UTF_8_VALIDATE)try{let i=Y("utf-8-validate");eu.exports.isValidUTF8=function(e){return e.length<150?Rm(e):i(e)}}catch{}});var su=Q((I3,Dm)=>{"use strict";U();var{Writable:WS}=Y("stream"),Im=dn(),{BINARY_TYPES:GS,EMPTY_BUFFER:Nm,kStatusCode:zS,kWebSocket:$S}=vi(),{concat:tu,toArrayBuffer:YS,unmask:ZS}=un(),{isValidStatusCode:QS,isValidUTF8:Bm}=hn(),mn=0,Om=1,Lm=2,Pm=3,ru=4,XS=5,iu=class extends WS{constructor(e={}){super(),this._binaryType=e.binaryType||GS[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[$S]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=mn,this._loop=!1}_write(e,t,r){if(this._opcode===8&&this._state==mn)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=r.slice(e),r.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],s=t.length-e;e>=r.length?t.set(this._buffers.shift(),s):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),s),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case mn:t=this.getInfo();break;case Om:t=this.getPayloadLength16();break;case Lm:t=this.getPayloadLength64();break;case Pm:this.getMask();break;case ru:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,st(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(e[0]&64)===64;if(t&&!this._extensions[Im.extensionName])return this._loop=!1,st(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(t)return this._loop=!1,st(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,st(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,st(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,st(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,st(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,st(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,st(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,st(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,st(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Om;else if(this._payloadLength===127)this._state=Lm;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,st(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,st(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Pm:this._state=ru}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=ru}getData(e){let t=Nm;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&ZS(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=XS,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[Im.extensionName].decompress(e,this._fin,(s,n)=>{if(s)return t(s);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(st(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(n)}let a=this.dataMessage();if(a)return t(a);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=tu(t,e):this._binaryType==="arraybuffer"?r=YS(tu(t,e)):r=t,this.emit("message",r,!0)}else{let r=tu(t,e);if(!this._skipUTF8Validation&&!Bm(r))return this._loop=!1,st(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=mn}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Nm),this.end();else{if(e.length===1)return st(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let t=e.readUInt16BE(0);if(!QS(t))return st(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!this._skipUTF8Validation&&!Bm(r))return st(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=mn}};Dm.exports=iu;function st(i,e,t,r,s){let n=new i(t?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(n,st),n.code=s,n[zS]=r,n}});var au=Q((L3,Fm)=>{"use strict";U();var B3=Y("net"),O3=Y("tls"),{randomFillSync:JS}=Y("crypto"),Um=dn(),{EMPTY_BUFFER:eC}=vi(),{isValidStatusCode:tC}=hn(),{mask:Mm,toBuffer:ds}=un(),gr=Symbol("kByteLength"),rC=Buffer.alloc(4),nu=class i{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,s=!1,n=2,a=!1;t.mask&&(r=t.maskBuffer||rC,t.generateMask?t.generateMask(r):JS(r,0,4),a=(r[0]|r[1]|r[2]|r[3])===0,n=6);let c;typeof e=="string"?(!t.mask||a)&&t[gr]!==void 0?c=t[gr]:(e=Buffer.from(e),c=e.length):(c=e.length,s=t.mask&&t.readOnly&&!a);let l=c;c>=65536?(n+=8,l=127):c>125&&(n+=2,l=126);let o=Buffer.allocUnsafe(s?c+n:n);return o[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(o[0]|=64),o[1]=l,l===126?o.writeUInt16BE(c,2):l===127&&(o[2]=o[3]=0,o.writeUIntBE(c,4,6)),t.mask?(o[1]|=128,o[n-4]=r[0],o[n-3]=r[1],o[n-2]=r[2],o[n-1]=r[3],a?[o,e]:s?(Mm(e,r,o,n,c),[o]):(Mm(e,r,e,0,c),[o,e])):[o,e]}close(e,t,r,s){let n;if(e===void 0)n=eC;else{if(typeof e!="number"||!tC(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)n=Buffer.allocUnsafe(2),n.writeUInt16BE(e,0);else{let c=Buffer.byteLength(t);if(c>123)throw new RangeError("The message must not be greater than 123 bytes");n=Buffer.allocUnsafe(2+c),n.writeUInt16BE(e,0),typeof t=="string"?n.write(t,2):n.set(t,2)}}let a={[gr]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,n,!1,a,s]):this.sendFrame(i.frame(n,a),s)}ping(e,t,r){let s,n;if(typeof e=="string"?(s=Buffer.byteLength(e),n=!1):(e=ds(e),s=e.length,n=ds.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[gr]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(i.frame(e,a),r)}pong(e,t,r){let s,n;if(typeof e=="string"?(s=Buffer.byteLength(e),n=!1):(e=ds(e),s=e.length,n=ds.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[gr]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(i.frame(e,a),r)}send(e,t,r){let s=this._extensions[Um.extensionName],n=t.binary?2:1,a=t.compress,c,l;if(typeof e=="string"?(c=Buffer.byteLength(e),l=!1):(e=ds(e),c=e.length,l=ds.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=c>=s._threshold),this._compress=a):(a=!1,n=0),t.fin&&(this._firstFragment=!0),s){let o={[gr]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:n,readOnly:l,rsv1:a};this._deflating?this.enqueue([this.dispatch,e,this._compress,o,r]):this.dispatch(e,this._compress,o,r)}else this.sendFrame(i.frame(e,{[gr]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:n,readOnly:l,rsv1:!1}),r)}dispatch(e,t,r,s){if(!t){this.sendFrame(i.frame(e,r),s);return}let n=this._extensions[Um.extensionName];this._bufferedBytes+=r[gr],this._deflating=!0,n.compress(e,r.fin,(a,c)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(l);for(let o=0;o<this._queue.length;o++){let d=this._queue[o],u=d[d.length-1];typeof u=="function"&&u(l)}return}this._bufferedBytes-=r[gr],this._deflating=!1,r.readOnly=!1,this.sendFrame(i.frame(c,r),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][gr],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][gr],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};Fm.exports=nu});var $m=Q((D3,zm)=>{"use strict";U();var{kForOnEventAttribute:gn,kListener:ou}=vi(),Vm=Symbol("kCode"),qm=Symbol("kData"),jm=Symbol("kError"),Hm=Symbol("kMessage"),Km=Symbol("kReason"),hs=Symbol("kTarget"),Wm=Symbol("kType"),Gm=Symbol("kWasClean"),Wr=class{constructor(e){this[hs]=null,this[Wm]=e}get target(){return this[hs]}get type(){return this[Wm]}};Object.defineProperty(Wr.prototype,"target",{enumerable:!0});Object.defineProperty(Wr.prototype,"type",{enumerable:!0});var Pi=class extends Wr{constructor(e,t={}){super(e),this[Vm]=t.code===void 0?0:t.code,this[Km]=t.reason===void 0?"":t.reason,this[Gm]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[Vm]}get reason(){return this[Km]}get wasClean(){return this[Gm]}};Object.defineProperty(Pi.prototype,"code",{enumerable:!0});Object.defineProperty(Pi.prototype,"reason",{enumerable:!0});Object.defineProperty(Pi.prototype,"wasClean",{enumerable:!0});var ms=class extends Wr{constructor(e,t={}){super(e),this[jm]=t.error===void 0?null:t.error,this[Hm]=t.message===void 0?"":t.message}get error(){return this[jm]}get message(){return this[Hm]}};Object.defineProperty(ms.prototype,"error",{enumerable:!0});Object.defineProperty(ms.prototype,"message",{enumerable:!0});var vn=class extends Wr{constructor(e,t={}){super(e),this[qm]=t.data===void 0?null:t.data}get data(){return this[qm]}};Object.defineProperty(vn.prototype,"data",{enumerable:!0});var iC={addEventListener(i,e,t={}){for(let s of this.listeners(i))if(!t[gn]&&s[ou]===e&&!s[gn])return;let r;if(i==="message")r=function(n,a){let c=new vn("message",{data:a?n:n.toString()});c[hs]=this,mo(e,this,c)};else if(i==="close")r=function(n,a){let c=new Pi("close",{code:n,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});c[hs]=this,mo(e,this,c)};else if(i==="error")r=function(n){let a=new ms("error",{error:n,message:n.message});a[hs]=this,mo(e,this,a)};else if(i==="open")r=function(){let n=new Wr("open");n[hs]=this,mo(e,this,n)};else return;r[gn]=!!t[gn],r[ou]=e,t.once?this.once(i,r):this.on(i,r)},removeEventListener(i,e){for(let t of this.listeners(i))if(t[ou]===e&&!t[gn]){this.removeListener(i,t);break}}};zm.exports={CloseEvent:Pi,ErrorEvent:ms,Event:Wr,EventTarget:iC,MessageEvent:vn};function mo(i,e,t){typeof i=="object"&&i.handleEvent?i.handleEvent.call(i,t):i.call(e,t)}});var cu=Q((M3,Ym)=>{"use strict";U();var{tokenChars:yn}=hn();function kr(i,e,t){i[e]===void 0?i[e]=[t]:i[e].push(t)}function sC(i){let e=Object.create(null),t=Object.create(null),r=!1,s=!1,n=!1,a,c,l=-1,o=-1,d=-1,u=0;for(;u<i.length;u++)if(o=i.charCodeAt(u),a===void 0)if(d===-1&&yn[o]===1)l===-1&&(l=u);else if(u!==0&&(o===32||o===9))d===-1&&l!==-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let A=i.slice(l,d);o===44?(kr(e,A,t),t=Object.create(null)):a=A,l=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);else if(c===void 0)if(d===-1&&yn[o]===1)l===-1&&(l=u);else if(o===32||o===9)d===-1&&l!==-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u),kr(t,i.slice(l,d),!0),o===44&&(kr(e,a,t),t=Object.create(null),a=void 0),l=d=-1}else if(o===61&&l!==-1&&d===-1)c=i.slice(l,u),l=d=-1;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(s){if(yn[o]!==1)throw new SyntaxError(`Unexpected character at index ${u}`);l===-1?l=u:r||(r=!0),s=!1}else if(n)if(yn[o]===1)l===-1&&(l=u);else if(o===34&&l!==-1)n=!1,d=u;else if(o===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(o===34&&i.charCodeAt(u-1)===61)n=!0;else if(d===-1&&yn[o]===1)l===-1&&(l=u);else if(l!==-1&&(o===32||o===9))d===-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let A=i.slice(l,d);r&&(A=A.replace(/\\/g,""),r=!1),kr(t,c,A),o===44&&(kr(e,a,t),t=Object.create(null),a=void 0),c=void 0,l=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);if(l===-1||n||o===32||o===9)throw new SyntaxError("Unexpected end of input");d===-1&&(d=u);let v=i.slice(l,d);return a===void 0?kr(e,v,t):(c===void 0?kr(t,v,!0):r?kr(t,c,v.replace(/\\/g,"")):kr(t,c,v),kr(e,a,t)),e}function nC(i){return Object.keys(i).map(e=>{let t=i[e];return Array.isArray(t)||(t=[t]),t.map(r=>[e].concat(Object.keys(r).map(s=>{let n=r[s];return Array.isArray(n)||(n=[n]),n.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Ym.exports={format:nC,parse:sC}});var du=Q((q3,ag)=>{"use strict";U();var aC=Y("events"),oC=Y("https"),cC=Y("http"),Xm=Y("net"),lC=Y("tls"),{randomBytes:uC,createHash:pC}=Y("crypto"),{Readable:V3}=Y("stream"),{URL:lu}=Y("url"),_i=dn(),fC=su(),dC=au(),{BINARY_TYPES:Zm,EMPTY_BUFFER:go,GUID:hC,kForOnEventAttribute:uu,kListener:mC,kStatusCode:gC,kWebSocket:Bt,NOOP:Jm}=vi(),{EventTarget:{addEventListener:vC,removeEventListener:yC}}=$m(),{format:_C,parse:xC}=cu(),{toBuffer:bC}=un(),EC=30*1e3,eg=Symbol("kAborted"),pu=[8,13],Gr=["CONNECTING","OPEN","CLOSING","CLOSED"],SC=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Qe=class i extends aC{constructor(e,t,r){super(),this._binaryType=Zm[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=go,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(r=t,t=[]):t=[t]),tg(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){Zm.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let s=new fC({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new dC(e,this._extensions,r.generateMask),this._receiver=s,this._socket=e,s[Bt]=this,e[Bt]=this,s.on("conclude",TC),s.on("drain",AC),s.on("error",kC),s.on("message",RC),s.on("ping",IC),s.on("pong",NC),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",ig),e.on("data",yo),e.on("end",sg),e.on("error",ng),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[_i.extensionName]&&this._extensions[_i.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return Zt(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(e,t,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),EC)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){fu(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||go,t,r)}pong(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){fu(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||go,t,r)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(r=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){fu(this,e,r);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[_i.extensionName]||(s.compress=!1),this._sender.send(e||go,s,r)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return Zt(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(Qe,"CONNECTING",{enumerable:!0,value:Gr.indexOf("CONNECTING")});Object.defineProperty(Qe.prototype,"CONNECTING",{enumerable:!0,value:Gr.indexOf("CONNECTING")});Object.defineProperty(Qe,"OPEN",{enumerable:!0,value:Gr.indexOf("OPEN")});Object.defineProperty(Qe.prototype,"OPEN",{enumerable:!0,value:Gr.indexOf("OPEN")});Object.defineProperty(Qe,"CLOSING",{enumerable:!0,value:Gr.indexOf("CLOSING")});Object.defineProperty(Qe.prototype,"CLOSING",{enumerable:!0,value:Gr.indexOf("CLOSING")});Object.defineProperty(Qe,"CLOSED",{enumerable:!0,value:Gr.indexOf("CLOSED")});Object.defineProperty(Qe.prototype,"CLOSED",{enumerable:!0,value:Gr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(i=>{Object.defineProperty(Qe.prototype,i,{enumerable:!0})});["open","error","close","message"].forEach(i=>{Object.defineProperty(Qe.prototype,`on${i}`,{enumerable:!0,get(){for(let e of this.listeners(i))if(e[uu])return e[mC];return null},set(e){for(let t of this.listeners(i))if(t[uu]){this.removeListener(i,t);break}typeof e=="function"&&this.addEventListener(i,e,{[uu]:!0})}})});Qe.prototype.addEventListener=vC;Qe.prototype.removeEventListener=yC;ag.exports=Qe;function tg(i,e,t,r){let s={protocolVersion:pu[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!pu.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${pu.join(", ")})`);let n;if(e instanceof lu)n=e,i._url=e.href;else{try{n=new lu(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i._url=e}let a=n.protocol==="wss:",c=n.protocol==="ws+unix:",l;if(n.protocol!=="ws:"&&!a&&!c?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:c&&!n.pathname?l="The URL's pathname is empty":n.hash&&(l="The URL contains a fragment identifier"),l){let h=new SyntaxError(l);if(i._redirects===0)throw h;vo(i,h);return}let o=a?443:80,d=uC(16).toString("base64"),u=a?oC.request:cC.request,v=new Set,A;if(s.createConnection=a?wC:CC,s.defaultPort=s.defaultPort||o,s.port=n.port||o,s.host=n.hostname.startsWith("[")?n.hostname.slice(1,-1):n.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":d,Connection:"Upgrade",Upgrade:"websocket"},s.path=n.pathname+n.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(A=new _i(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=_C({[_i.extensionName]:A.offer()})),t.length){for(let h of t){if(typeof h!="string"||!SC.test(h)||v.has(h))throw new SyntaxError("An invalid or duplicated subprotocol was specified");v.add(h)}s.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(n.username||n.password)&&(s.auth=`${n.username}:${n.password}`),c){let h=s.path.split(":");s.socketPath=h[0],s.path=h[1]}let _;if(s.followRedirects){if(i._redirects===0){i._originalIpc=c,i._originalSecure=a,i._originalHostOrSocketPath=c?s.socketPath:n.host;let h=r&&r.headers;if(r={...r,headers:{}},h)for(let[E,w]of Object.entries(h))r.headers[E.toLowerCase()]=w}else if(i.listenerCount("redirect")===0){let h=c?i._originalIpc?s.socketPath===i._originalHostOrSocketPath:!1:i._originalIpc?!1:n.host===i._originalHostOrSocketPath;(!h||i._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,h||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),_=i._req=u(s),i._redirects&&i.emit("redirect",i.url,_)}else _=i._req=u(s);s.timeout&&_.on("timeout",()=>{Zt(i,_,"Opening handshake has timed out")}),_.on("error",h=>{_===null||_[eg]||(_=i._req=null,vo(i,h))}),_.on("response",h=>{let E=h.headers.location,w=h.statusCode;if(E&&s.followRedirects&&w>=300&&w<400){if(++i._redirects>s.maxRedirects){Zt(i,_,"Maximum redirects exceeded");return}_.abort();let S;try{S=new lu(E,e)}catch{let b=new SyntaxError(`Invalid URL: ${E}`);vo(i,b);return}tg(i,S,t,r)}else i.emit("unexpected-response",_,h)||Zt(i,_,`Unexpected server response: ${h.statusCode}`)}),_.on("upgrade",(h,E,w)=>{if(i.emit("upgrade",h),i.readyState!==Qe.CONNECTING)return;if(_=i._req=null,h.headers.upgrade.toLowerCase()!=="websocket"){Zt(i,E,"Invalid Upgrade header");return}let S=pC("sha1").update(d+hC).digest("base64");if(h.headers["sec-websocket-accept"]!==S){Zt(i,E,"Invalid Sec-WebSocket-Accept header");return}let p=h.headers["sec-websocket-protocol"],b;if(p!==void 0?v.size?v.has(p)||(b="Server sent an invalid subprotocol"):b="Server sent a subprotocol but none was requested":v.size&&(b="Server sent no subprotocol"),b){Zt(i,E,b);return}p&&(i._protocol=p);let C=h.headers["sec-websocket-extensions"];if(C!==void 0){if(!A){Zt(i,E,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let k;try{k=xC(C)}catch{Zt(i,E,"Invalid Sec-WebSocket-Extensions header");return}let B=Object.keys(k);if(B.length!==1||B[0]!==_i.extensionName){Zt(i,E,"Server indicated an extension that was not requested");return}try{A.accept(k[_i.extensionName])}catch{Zt(i,E,"Invalid Sec-WebSocket-Extensions header");return}i._extensions[_i.extensionName]=A}i.setSocket(E,w,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),_.end()}function vo(i,e){i._readyState=Qe.CLOSING,i.emit("error",e),i.emitClose()}function CC(i){return i.path=i.socketPath,Xm.connect(i)}function wC(i){return i.path=void 0,!i.servername&&i.servername!==""&&(i.servername=Xm.isIP(i.host)?"":i.host),lC.connect(i)}function Zt(i,e,t){i._readyState=Qe.CLOSING;let r=new Error(t);Error.captureStackTrace(r,Zt),e.setHeader?(e[eg]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(vo,i,r)):(e.destroy(r),e.once("error",i.emit.bind(i,"error")),e.once("close",i.emitClose.bind(i)))}function fu(i,e,t){if(e){let r=bC(e).length;i._socket?i._sender._bufferedBytes+=r:i._bufferedAmount+=r}if(t){let r=new Error(`WebSocket is not open: readyState ${i.readyState} (${Gr[i.readyState]})`);t(r)}}function TC(i,e){let t=this[Bt];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=i,t._socket[Bt]!==void 0&&(t._socket.removeListener("data",yo),process.nextTick(rg,t._socket),i===1005?t.close():t.close(i,e))}function AC(){let i=this[Bt];i.isPaused||i._socket.resume()}function kC(i){let e=this[Bt];e._socket[Bt]!==void 0&&(e._socket.removeListener("data",yo),process.nextTick(rg,e._socket),e.close(i[gC])),e.emit("error",i)}function Qm(){this[Bt].emitClose()}function RC(i,e){this[Bt].emit("message",i,e)}function IC(i){let e=this[Bt];e.pong(i,!e._isServer,Jm),e.emit("ping",i)}function NC(i){this[Bt].emit("pong",i)}function rg(i){i.resume()}function ig(){let i=this[Bt];this.removeListener("close",ig),this.removeListener("data",yo),this.removeListener("end",sg),i._readyState=Qe.CLOSING;let e;!this._readableState.endEmitted&&!i._closeFrameReceived&&!i._receiver._writableState.errorEmitted&&(e=i._socket.read())!==null&&i._receiver.write(e),i._receiver.end(),this[Bt]=void 0,clearTimeout(i._closeTimer),i._receiver._writableState.finished||i._receiver._writableState.errorEmitted?i.emitClose():(i._receiver.on("error",Qm),i._receiver.on("finish",Qm))}function yo(i){this[Bt]._receiver.write(i)||this.pause()}function sg(){let i=this[Bt];i._readyState=Qe.CLOSING,i._receiver.end(),this.end()}function ng(){let i=this[Bt];this.removeListener("error",ng),this.on("error",Jm),i&&(i._readyState=Qe.CLOSING,this.destroy())}});var ug=Q((H3,lg)=>{"use strict";U();var{Duplex:BC}=Y("stream");function og(i){i.emit("close")}function OC(){!this.destroyed&&this._writableState.finished&&this.destroy()}function cg(i){this.removeListener("error",cg),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}function LC(i,e){let t=!0,r=new BC({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(n,a){let c=!a&&r._readableState.objectMode?n.toString():n;r.push(c)||i.pause()}),i.once("error",function(n){r.destroyed||(t=!1,r.destroy(n))}),i.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(s,n){if(i.readyState===i.CLOSED){n(s),process.nextTick(og,r);return}let a=!1;i.once("error",function(l){a=!0,n(l)}),i.once("close",function(){a||n(s),process.nextTick(og,r)}),t&&i.terminate()},r._final=function(s){if(i.readyState===i.CONNECTING){i.once("open",function(){r._final(s)});return}i._socket!==null&&(i._socket._writableState.finished?(s(),r._readableState.endEmitted&&r.destroy()):(i._socket.once("finish",function(){s()}),i.close()))},r._read=function(){i.isPaused&&i.resume()},r._write=function(s,n,a){if(i.readyState===i.CONNECTING){i.once("open",function(){r._write(s,n,a)});return}i.send(s,a)},r.on("end",OC),r.on("error",cg),r}lg.exports=LC});var fg=Q((W3,pg)=>{"use strict";U();var{tokenChars:PC}=hn();function DC(i){let e=new Set,t=-1,r=-1,s=0;for(s;s<i.length;s++){let a=i.charCodeAt(s);if(r===-1&&PC[a]===1)t===-1&&(t=s);else if(s!==0&&(a===32||a===9))r===-1&&t!==-1&&(r=s);else if(a===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${s}`);r===-1&&(r=s);let c=i.slice(t,r);if(e.has(c))throw new SyntaxError(`The "${c}" subprotocol is duplicated`);e.add(c),t=r=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(t===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let n=i.slice(t,s);if(e.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);return e.add(n),e}pg.exports={parse:DC}});var _g=Q((Z3,yg)=>{"use strict";U();var UC=Y("events"),_o=Y("http"),z3=Y("https"),$3=Y("net"),Y3=Y("tls"),{createHash:MC}=Y("crypto"),dg=cu(),Di=dn(),FC=fg(),VC=du(),{GUID:qC,kWebSocket:jC}=vi(),HC=/^[+/0-9A-Za-z]{22}==$/,hg=0,mg=1,vg=2,hu=class extends UC{constructor(e,t){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:VC,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=_o.createServer((r,s)=>{let n=_o.STATUS_CODES[426];s.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),s.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=KC(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,n,a)=>{this.handleUpgrade(s,n,a,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=hg}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===vg){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(_n,this);return}if(e&&this.once("close",e),this._state!==mg)if(this._state=mg,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(_n,this):process.nextTick(_n,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{_n(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,s){t.on("error",gg);let n=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Ui(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){Ui(this,e,t,400,"Invalid Upgrade header");return}if(!n||!HC.test(n)){Ui(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){Ui(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){xn(t,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=FC.parse(c)}catch{Ui(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let o=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&o!==void 0){let u=new Di(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let v=dg.parse(o);v[Di.extensionName]&&(u.accept(v[Di.extensionName]),d[Di.extensionName]=u)}catch{Ui(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let u={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(u,(v,A,_,h)=>{if(!v)return xn(t,A||401,_,h);this.completeUpgrade(d,n,l,e,t,r,s)});return}if(!this.options.verifyClient(u))return xn(t,401)}this.completeUpgrade(d,n,l,e,t,r,s)}completeUpgrade(e,t,r,s,n,a,c){if(!n.readable||!n.writable)return n.destroy();if(n[jC])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>hg)return xn(n,503);let o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${MC("sha1").update(t+qC).digest("base64")}`],d=new this.options.WebSocket(null);if(r.size){let u=this.options.handleProtocols?this.options.handleProtocols(r,s):r.values().next().value;u&&(o.push(`Sec-WebSocket-Protocol: ${u}`),d._protocol=u)}if(e[Di.extensionName]){let u=e[Di.extensionName].params,v=dg.format({[Di.extensionName]:[u]});o.push(`Sec-WebSocket-Extensions: ${v}`),d._extensions=e}this.emit("headers",o,s),n.write(o.concat(`\r
`).join(`\r
`)),n.removeListener("error",gg),d.setSocket(n,a,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(d),d.on("close",()=>{this.clients.delete(d),this._shouldEmitClose&&!this.clients.size&&process.nextTick(_n,this)})),c(d,s)}};yg.exports=hu;function KC(i,e){for(let t of Object.keys(e))i.on(t,e[t]);return function(){for(let r of Object.keys(e))i.removeListener(r,e[r])}}function _n(i){i._state=vg,i.emit("close")}function gg(){this.destroy()}function xn(i,e,t,r){t=t||_o.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...r},i.once("finish",i.destroy),i.end(`HTTP/1.1 ${e} ${_o.STATUS_CODES[e]}\r
`+Object.keys(r).map(s=>`${s}: ${r[s]}`).join(`\r
`)+`\r
\r
`+t)}function Ui(i,e,t,r,s){if(i.listenerCount("wsClientError")){let n=new Error(s);Error.captureStackTrace(n,Ui),i.emit("wsClientError",n,t,e)}else xn(t,r,s)}});var bg=Q((X3,xg)=>{"use strict";U();var zr=du();zr.createWebSocketStream=ug();zr.Server=_g();zr.Receiver=su();zr.Sender=au();zr.WebSocket=zr;zr.WebSocketServer=zr.Server;xg.exports=zr});var Eo=Q(gs=>{"use strict";U();var mu;Object.defineProperty(gs,"__esModule",{value:!0});gs.SessionAwareAdapter=gs.Adapter=void 0;var WC=Y("events"),GC=ym(),xo=bg(),zC=typeof((mu=xo?.Sender)===null||mu===void 0?void 0:mu.frame)=="function",bo=class extends WC.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,t){this.sids.has(e)||this.sids.set(e,new Set);for(let r of t)this.sids.get(e).add(r),this.rooms.has(r)||(this.rooms.set(r,new Set),this.emit("create-room",r)),this.rooms.get(r).has(e)||(this.rooms.get(r).add(e),this.emit("join-room",r,e))}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this._del(t,e)}_del(e,t){let r=this.rooms.get(e);r!=null&&(r.delete(t)&&this.emit("leave-room",e,t),r.size===0&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(let t of this.sids.get(e))this._del(t,e);this.sids.delete(e)}}broadcast(e,t){let r=t.flags||{},s={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name;let n=this._encode(e,s);this.apply(t,a=>{typeof a.notifyOutgoingListeners=="function"&&a.notifyOutgoingListeners(e),a.client.writeToEngine(n,s)})}broadcastWithAck(e,t,r,s){let n=t.flags||{},a={preEncoded:!0,volatile:n.volatile,compress:n.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;let c=this._encode(e,a),l=0;this.apply(t,o=>{l++,o.acks.set(e.id,s),typeof o.notifyOutgoingListeners=="function"&&o.notifyOutgoingListeners(e),o.client.writeToEngine(c,a)}),r(l)}_encode(e,t){let r=this.encoder.encode(e);if(zC&&r.length===1&&typeof r[0]=="string"){let s=Buffer.from("4"+r[0]);t.wsPreEncodedFrame=xo.Sender.frame(s,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return r}sockets(e){let t=new Set;return this.apply({rooms:e},r=>{t.add(r.id)}),Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){let t=[];return this.apply(e,r=>{t.push(r)}),Promise.resolve(t)}addSockets(e,t){this.apply(e,r=>{r.join(t)})}delSockets(e,t){this.apply(e,r=>{t.forEach(s=>r.leave(s))})}disconnectSockets(e,t){this.apply(e,r=>{r.disconnect(t)})}apply(e,t){let r=e.rooms,s=this.computeExceptSids(e.except);if(r.size){let n=new Set;for(let a of r)if(this.rooms.has(a))for(let c of this.rooms.get(a)){if(n.has(c)||s.has(c))continue;let l=this.nsp.sockets.get(c);l&&(t(l),n.add(c))}}else for(let[n]of this.sids){if(s.has(n))continue;let a=this.nsp.sockets.get(n);a&&t(a)}}computeExceptSids(e){let t=new Set;if(e&&e.size>0)for(let r of e)this.rooms.has(r)&&this.rooms.get(r).forEach(s=>t.add(s));return t}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,t){return null}};gs.Adapter=bo;var gu=class extends bo{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{let r=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((s,n)=>{s.disconnectedAt<r&&this.sessions.delete(n)});for(let s=this.packets.length-1;s>=0;s--)if(this.packets[s].emittedAt<r){this.packets.splice(0,s+1);break}},60*1e3).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,t){let r=this.sessions.get(e);if(!r)return null;if(r.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;let n=this.packets.findIndex(c=>c.id===t);if(n===-1)return null;let a=[];for(let c=n+1;c<this.packets.length;c++){let l=this.packets[c];$C(r.rooms,l.opts)&&a.push(l.data)}return Promise.resolve(Object.assign(Object.assign({},r),{missedPackets:a}))}broadcast(e,t){var r;let s=e.type===2,n=e.id===void 0,a=((r=t.flags)===null||r===void 0?void 0:r.volatile)===void 0;if(s&&n&&a){let c=(0,GC.yeast)();e.data.push(c),this.packets.push({id:c,opts:t,data:e.data,emittedAt:Date.now()})}super.broadcast(e,t)}};gs.SessionAwareAdapter=gu;function $C(i,e){let t=e.rooms.size===0||i.some(s=>e.rooms.has(s)),r=i.every(s=>!e.except.has(s));return t&&r}});var Cg=Q(vs=>{"use strict";U();var YC=vs&&vs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vs,"__esModule",{value:!0});vs.ParentNamespace=void 0;var Eg=$l(),ZC=Eo(),QC=YC(Ue()),Sg=(0,QC.default)("socket.io:parent-namespace"),So=class i extends Eg.Namespace{constructor(e){super(e,"/_"+i.count++),this.children=new Set}_initAdapter(){this.adapter=new vu(this,this.children)}emit(e,...t){return this.children.forEach(r=>{r.emit(e,...t)}),!0}createChild(e){Sg("creating child namespace %s",e);let t=new Eg.Namespace(this.server,e);if(t._fns=this._fns.slice(0),this.listeners("connect").forEach(r=>t.on("connect",r)),this.listeners("connection").forEach(r=>t.on("connection",r)),this.children.add(t),this.server._opts.cleanupEmptyChildNamespaces){let r=t._remove;t._remove=s=>{r.call(t,s),t.sockets.size===0&&(Sg("closing child namespace %s",e),t.adapter.close(),this.server._nsps.delete(t.name),this.children.delete(t))}}return this.server._nsps.set(e,t),this.server.sockets.emitReserved("new_namespace",t),t}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}};vs.ParentNamespace=So;So.count=0;var vu=class extends ZC.Adapter{constructor(e,t){super(e),this.children=t}broadcast(e,t){this.children.forEach(r=>{r.adapter.broadcast(e,t)})}}});var Ig=Q(Rr=>{"use strict";U();var XC=Rr&&Rr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.serveFile=Rr.restoreAdapter=Rr.patchAdapter=void 0;var Mi=Eo(),wg=Y("fs"),JC=XC(Ue()),Co=(0,JC.default)("socket.io:adapter-uws"),yu="",{addAll:Ag,del:kg,broadcast:Rg}=Mi.Adapter.prototype;function ew(i){Mi.Adapter.prototype.addAll=function(e,t){let r=!this.sids.has(e);Ag.call(this,e,t);let s=this.nsp.sockets.get(e);if(s){if(s.conn.transport.name==="websocket"){Tg(this.nsp.name,s,r,t);return}r&&s.conn.on("upgrade",()=>{let n=this.sids.get(e);n&&Tg(this.nsp.name,s,r,n)})}},Mi.Adapter.prototype.del=function(e,t){kg.call(this,e,t);let r=this.nsp.sockets.get(e);if(r&&r.conn.transport.name==="websocket"){let s=r.conn.id,n=r.conn.transport.socket,a=`${this.nsp.name}${yu}${t}`;Co("unsubscribe connection %s from topic %s",s,a),n.unsubscribe(a)}},Mi.Adapter.prototype.broadcast=function(e,t){if(!(t.rooms.size<=1&&t.except.size===0)){Rg.call(this,e,t);return}let s=t.flags||{},n={preEncoded:!0,volatile:s.volatile,compress:s.compress};e.nsp=this.nsp.name;let a=this.encoder.encode(e),c=t.rooms.size===0?this.nsp.name:`${this.nsp.name}${yu}${t.rooms.keys().next().value}`;Co("fast publish to %s",c),a.forEach(l=>{let o=typeof l!="string";i.publish(c,o?l:"4"+l,o)}),this.apply(t,l=>{l.conn.transport.name!=="websocket"&&l.client.writeToEngine(a,n)})}}Rr.patchAdapter=ew;function Tg(i,e,t,r){let s=e.conn.id,n=e.conn.transport.socket;t&&(Co("subscribe connection %s to topic %s",s,i),n.subscribe(i)),r.forEach(a=>{let c=`${i}${yu}${a}`;Co("subscribe connection %s to topic %s",s,c),n.subscribe(c)})}function tw(){Mi.Adapter.prototype.addAll=Ag,Mi.Adapter.prototype.del=kg,Mi.Adapter.prototype.broadcast=Rg}Rr.restoreAdapter=tw;var rw=i=>{let{buffer:e,byteOffset:t,byteLength:r}=i;return e.slice(t,t+r)};function iw(i,e){let{size:t}=(0,wg.statSync)(e),r=(0,wg.createReadStream)(e),s=()=>!r.destroyed&&r.destroy(),n=c=>{throw s(),c},a=c=>{let l=rw(c),o=i.getWriteOffset(),[d,u]=i.tryEnd(l,t);!u&&!d&&(r.pause(),i.onWritable(v=>{let[A,_]=i.tryEnd(l.slice(v-o),t);return!_&&A&&r.resume(),A}))};i.onAborted(s),r.on("data",a).on("error",n).on("end",s)}Rr.serveFile=iw});var Ng=Q((a4,sw)=>{sw.exports={name:"socket.io",version:"4.7.5",description:"node.js realtime framework server",keywords:["realtime","framework","websocket","tcp","events","socket","io"],files:["dist/","client-dist/","wrapper.mjs","!**/*.tsbuildinfo"],directories:{doc:"docs/",example:"example/",lib:"lib/",test:"test/"},type:"commonjs",main:"./dist/index.js",exports:{types:"./dist/index.d.ts",import:"./wrapper.mjs",require:"./dist/index.js"},types:"./dist/index.d.ts",license:"MIT",repository:{type:"git",url:"git://github.com/socketio/socket.io"},scripts:{compile:"rimraf ./dist && tsc",test:"npm run format:check && npm run compile && npm run test:types && npm run test:unit","test:types":"tsd","test:unit":"nyc mocha --require ts-node/register --reporter spec --slow 200 --bail --timeout 10000 test/index.ts","format:check":'prettier --check "lib/**/*.ts" "test/**/*.ts"',"format:fix":'prettier --write "lib/**/*.ts" "test/**/*.ts"',prepack:"npm run compile"},dependencies:{accepts:"~1.3.4",base64id:"~2.0.0",cors:"~2.8.5",debug:"~4.3.2","engine.io":"~6.5.2","socket.io-adapter":"~2.5.2","socket.io-parser":"~4.2.4"},devDependencies:{"@types/mocha":"^9.0.0","expect.js":"0.3.1",mocha:"^10.0.0",nyc:"^15.1.0",prettier:"^2.3.2",rimraf:"^3.0.2","socket.io-client":"4.7.5","socket.io-client-v2":"npm:socket.io-client@^2.4.0",superagent:"^8.0.0",supertest:"^6.1.6","ts-node":"^10.2.1",tsd:"^0.27.0",typescript:"^4.4.2","uWebSockets.js":"github:uNetworking/uWebSockets.js#v20.30.0"},contributors:[{name:"Guillermo Rauch",email:"rauchg@gmail.com"},{name:"Arnout Kazemier",email:"info@3rd-eden.com"},{name:"Vladimir Dronnikov",email:"dronnikov@gmail.com"},{name:"Einar Otto Stangvik",email:"einaros@gmail.com"}],engines:{node:">=10.2.0"},tsd:{directory:"test"}}});var Vg=Q((Ot,bn)=>{"use strict";U();var nw=Ot&&Ot.__createBinding||(Object.create?function(i,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,r,s)}:function(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}),aw=Ot&&Ot.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),ow=Ot&&Ot.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&nw(e,i,t);return aw(e,i),e},Mg=Ot&&Ot.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.Namespace=Ot.Socket=Ot.Server=void 0;var cw=Y("http"),lw=Y("fs"),_u=Y("zlib"),uw=ka(),wo=Y("stream"),Bg=Y("path"),Og=em(),pw=cm(),Lg=Y("events"),bu=$l();Object.defineProperty(Ot,"Namespace",{enumerable:!0,get:function(){return bu.Namespace}});var fw=Cg(),Pg=Eo(),dw=ow(cn()),hw=Mg(Ue()),Fg=ln();Object.defineProperty(Ot,"Socket",{enumerable:!0,get:function(){return Fg.Socket}});var mw=ao(),xu=Ig(),gw=Mg(kl()),Ft=(0,hw.default)("socket.io:server"),Dg=Ng().version,Ug=/\.map/,ys=class i extends mw.StrictEventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,typeof e=="object"&&e instanceof Object&&!e.listen&&(t=e,e=void 0),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(t.serveClient!==!1),this._parser=t.parser||dw,this.encoder=new this._parser.Encoder,this.opts=t,t.connectionStateRecovery?(t.connectionStateRecovery=Object.assign({maxDisconnectionDuration:2*60*1e3,skipMiddlewares:!0},t.connectionStateRecovery),this.adapter(t.adapter||Pg.SessionAwareAdapter)):this.adapter(t.adapter||Pg.Adapter),t.cleanupEmptyChildNamespaces=!!t.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(e||typeof e=="number")&&this.attach(e),this.opts.cors&&(this._corsMiddleware=(0,gw.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(e,t,r){if(this.parentNsps.size===0)return r(!1);let s=this.parentNsps.keys(),n=()=>{let a=s.next();if(a.done)return r(!1);a.value(e,t,(c,l)=>{if(c||!l)return n();if(this._nsps.has(e))return Ft("dynamic namespace %s already exists",e),r(this._nsps.get(e));let o=this.parentNsps.get(a.value).createChild(e);Ft("dynamic namespace %s was created",e),r(o)})};n()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");let t=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+t+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(e){return e===void 0?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(let t of this._nsps.values())t._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){if(typeof e=="function"){let r="You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.";throw new Error(r)}if(Number(e)==e&&(e=Number(e)),typeof e=="number"){Ft("creating http server and binding to %d",e);let r=e;e=cw.createServer((s,n)=>{n.writeHead(404),n.end()}),e.listen(r)}return Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}attachApp(e,t={}){Object.assign(t,this.opts),t.path=t.path||this._path,Ft("creating uWebSockets.js-based engine with opts %j",t);let r=new Og.uServer(t);r.attach(e,t),this.bind(r),this._serveClient&&e.get(`${this._path}/*`,(s,n)=>{if(!this.clientPathRegex.test(n.getUrl())){n.setYield(!0);return}let a=n.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),c=Ug.test(a),l=c?"map":"source",o='"'+Dg+'"',d="W/"+o,u=n.getHeader("if-none-match");if(u&&(o===u||d===u)){Ft("serve client %s 304",l),s.writeStatus("304 Not Modified"),s.end();return}Ft("serve client %s",l),s.writeHeader("cache-control","public, max-age=0"),s.writeHeader("content-type","application/"+(c?"json":"javascript")+"; charset=utf-8"),s.writeHeader("etag",o);let v=Bg.join(__dirname,"../client-dist/",a);(0,xu.serveFile)(s,v)}),(0,xu.patchAdapter)(e)}initEngine(e,t){Ft("creating engine.io instance with opts %j",t),this.eio=(0,Og.attach)(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(e){Ft("attaching client serving req handler");let t=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",(r,s)=>{if(this.clientPathRegex.test(r.url))this._corsMiddleware?this._corsMiddleware(r,s,()=>{this.serve(r,s)}):this.serve(r,s);else for(let n=0;n<t.length;n++)t[n].call(e,r,s)})}serve(e,t){let r=e.url.replace(this._path,"").replace(/\?.*$/,""),s=Ug.test(r),n=s?"map":"source",a='"'+Dg+'"',c="W/"+a,l=e.headers["if-none-match"];if(l&&(a===l||c===l)){Ft("serve client %s 304",n),t.writeHead(304),t.end();return}Ft("serve client %s",n),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(s?"json":"javascript")+"; charset=utf-8"),t.setHeader("ETag",a),i.sendFile(r,e,t)}static sendFile(e,t,r){let s=(0,lw.createReadStream)(Bg.join(__dirname,"../client-dist/",e)),n=uw(t).encodings(["br","gzip","deflate"]),a=c=>{c&&r.end()};switch(n){case"br":r.writeHead(200,{"content-encoding":"br"}),(0,wo.pipeline)(s,(0,_u.createBrotliCompress)(),r,a);break;case"gzip":r.writeHead(200,{"content-encoding":"gzip"}),(0,wo.pipeline)(s,(0,_u.createGzip)(),r,a);break;case"deflate":r.writeHead(200,{"content-encoding":"deflate"}),(0,wo.pipeline)(s,(0,_u.createDeflate)(),r,a);break;default:r.writeHead(200),(0,wo.pipeline)(s,r,a)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){Ft("incoming connection with id %s",e.id);let t=new pw.Client(this,e);return e.protocol===3&&t.connect("/"),this}of(e,t){if(typeof e=="function"||e instanceof RegExp){let s=new fw.ParentNamespace(this);return Ft("initializing parent namespace %s",s.name),typeof e=="function"?this.parentNsps.set(e,s):(this.parentNsps.set((n,a,c)=>c(null,e.test(n)),s),this.parentNamespacesFromRegExp.set(e,s)),t&&s.on("connect",t),s}String(e)[0]!=="/"&&(e="/"+e);let r=this._nsps.get(e);if(!r){for(let[s,n]of this.parentNamespacesFromRegExp)if(s.test(e))return Ft("attaching namespace %s to parent namespace %s",e,s),n.createChild(e);Ft("initializing namespace %s",e),r=new bu.Namespace(this,e),this._nsps.set(e,r),e!=="/"&&this.sockets.emitReserved("new_namespace",r)}return t&&r.on("connect",t),r}close(e){this._nsps.forEach(t=>{t.sockets.forEach(r=>{r._onclose("server shutting down")}),t.adapter.close()}),this.engine.close(),(0,xu.restoreAdapter)(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e)}in(e){return this.sockets.in(e)}except(e){return this.sockets.except(e)}send(...e){return this.sockets.emit("message",...e),this}write(...e){return this.sockets.emit("message",...e),this}serverSideEmit(e,...t){return this.sockets.serverSideEmit(e,...t)}serverSideEmitWithAck(e,...t){return this.sockets.serverSideEmitWithAck(e,...t)}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(e){return this.sockets.timeout(e)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(e){return this.sockets.socketsJoin(e)}socketsLeave(e){return this.sockets.socketsLeave(e)}disconnectSockets(e=!1){return this.sockets.disconnectSockets(e)}};Ot.Server=ys;var vw=Object.keys(Lg.EventEmitter.prototype).filter(function(i){return typeof Lg.EventEmitter.prototype[i]=="function"});vw.forEach(function(i){ys.prototype[i]=function(){return this.sockets[i].apply(this.sockets,arguments)}});bn.exports=(i,e)=>new ys(i,e);bn.exports.Server=ys;bn.exports.Namespace=bu.Namespace;bn.exports.Socket=Fg.Socket;var o4=ln()});var ov=Q((q4,av)=>{"use strict";U();var _s=Y("fs"),nv=Y("url"),Cw=Y("child_process").spawn;av.exports=Au;Au.XMLHttpRequest=Au;function Au(i){"use strict";i=i||{};var e=this,t=Y("http"),r=Y("https"),s,n,a={},c=!1,l={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},o=Object.assign({},l),d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],u=["TRACE","TRACK","CONNECT"],v=!1,A=!1,_=!1,h={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var E=function(p){return c||p&&d.indexOf(p.toLowerCase())===-1},w=function(p){return p&&u.indexOf(p)===-1};this.open=function(p,b,C,k,B){if(this.abort(),A=!1,_=!1,!w(p))throw new Error("SecurityError: Request method not allowed");a={method:p,url:b.toString(),async:typeof C!="boolean"?!0:C,user:k||null,password:B||null},S(this.OPENED)},this.setDisableHeaderCheck=function(p){c=p},this.setRequestHeader=function(p,b){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!E(p))return console.warn('Refused to set unsafe header "'+p+'"'),!1;if(v)throw new Error("INVALID_STATE_ERR: send flag is true");return o[p]=b,!0},this.getResponseHeader=function(p){return typeof p=="string"&&this.readyState>this.OPENED&&n.headers[p.toLowerCase()]&&!A?n.headers[p.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||A)return"";var p="";for(var b in n.headers)b!=="set-cookie"&&b!=="set-cookie2"&&(p+=b+": "+n.headers[b]+`\r
`);return p.substr(0,p.length-2)},this.getRequestHeader=function(p){return typeof p=="string"&&o[p]?o[p]:""},this.send=function(p){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(v)throw new Error("INVALID_STATE_ERR: send has already been called");var b=!1,C=!1,k=nv.parse(a.url),B;switch(k.protocol){case"https:":b=!0;case"http:":B=k.hostname;break;case"file:":C=!0;break;case void 0:case"":B="localhost";break;default:throw new Error("Protocol not supported.")}if(C){if(a.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(a.async)_s.readFile(unescape(k.pathname),"utf8",function(ne,ve){ne?e.handleError(ne,ne.errno||-1):(e.status=200,e.responseText=ve,S(e.DONE))});else try{this.responseText=_s.readFileSync(unescape(k.pathname),"utf8"),this.status=200,S(e.DONE)}catch(ne){this.handleError(ne,ne.errno||-1)}return}var x=k.port||(b?443:80),m=k.pathname+(k.search?k.search:"");if(o.Host=B,b&&x===443||x===80||(o.Host+=":"+k.port),a.user){typeof a.password>"u"&&(a.password="");var f=new Buffer(a.user+":"+a.password);o.Authorization="Basic "+f.toString("base64")}a.method==="GET"||a.method==="HEAD"?p=null:p?(o["Content-Length"]=Buffer.isBuffer(p)?p.length:Buffer.byteLength(p),o["Content-Type"]||(o["Content-Type"]="text/plain;charset=UTF-8")):a.method==="POST"&&(o["Content-Length"]=0);var T=i.agent||!1,P={host:B,port:x,path:m,method:a.method,headers:o,agent:T};if(b&&(P.pfx=i.pfx,P.key=i.key,P.passphrase=i.passphrase,P.cert=i.cert,P.ca=i.ca,P.ciphers=i.ciphers,P.rejectUnauthorized=i.rejectUnauthorized!==!1),A=!1,a.async){var q=b?r.request:t.request;v=!0,e.dispatchEvent("readystatechange");var M=function(ne){if(n=ne,n.statusCode===302||n.statusCode===303||n.statusCode===307){a.url=n.headers.location;var ve=nv.parse(a.url);B=ve.hostname;var xe={hostname:ve.hostname,port:ve.port,path:ve.path,method:n.statusCode===303?"GET":a.method,headers:o};b&&(xe.pfx=i.pfx,xe.key=i.key,xe.passphrase=i.passphrase,xe.cert=i.cert,xe.ca=i.ca,xe.ciphers=i.ciphers,xe.rejectUnauthorized=i.rejectUnauthorized!==!1),s=q(xe,M).on("error",D),s.end();return}n&&n.setEncoding&&n.setEncoding("utf8"),S(e.HEADERS_RECEIVED),e.status=n.statusCode,n.on("data",function(Ie){Ie&&(e.responseText+=Ie),v&&S(e.LOADING)}),n.on("end",function(){v&&(v=!1,S(e.DONE))}),n.on("error",function(Ie){e.handleError(Ie)})},D=function(ne){e.handleError(ne)};s=q(P,M).on("error",D),i.autoUnref&&s.on("socket",ne=>{ne.unref()}),p&&s.write(p),s.end(),e.dispatchEvent("loadstart")}else{var V=".node-xmlhttprequest-content-"+process.pid,K=".node-xmlhttprequest-sync-"+process.pid;_s.writeFileSync(K,"","utf8");for(var G="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(b?"s":"")+".request;var options = "+JSON.stringify(P)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+V+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+K+"');});response.on('error', function(error) {fs.writeFileSync('"+V+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+K+"');});}).on('error', function(error) {fs.writeFileSync('"+V+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+K+"');});"+(p?"req.write('"+JSON.stringify(p).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",Z=Cw(process.argv[0],["-e",G]),te;_s.existsSync(K););if(e.responseText=_s.readFileSync(V,"utf8"),Z.stdin.end(),_s.unlinkSync(V),e.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var se=e.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");e.handleError(se,503)}else e.status=e.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),e.responseText=e.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),S(e.DONE)}},this.handleError=function(p,b){this.status=b||0,this.statusText=p,this.responseText=p.stack,A=!0,S(this.DONE)},this.abort=function(){s&&(s.abort(),s=null),o=Object.assign({},l),this.responseText="",this.responseXML="",A=_=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||v)&&this.readyState!==this.DONE&&(v=!1,S(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(p,b){p in h||(h[p]=[]),h[p].push(b)},this.removeEventListener=function(p,b){p in h&&(h[p]=h[p].filter(function(C){return C!==b}))},this.dispatchEvent=function(p){if(typeof e["on"+p]=="function"&&(this.readyState===this.DONE?setImmediate(function(){e["on"+p]()}):e["on"+p]()),p in h)for(let b=0,C=h[p].length;b<C;b++)this.readyState===this.DONE?setImmediate(function(){h[p][b].call(e)}):h[p][b].call(e)};var S=function(p){if(!(e.readyState===p||e.readyState===e.UNSENT&&_)&&(e.readyState=p,(a.async||e.readyState<e.OPENED||e.readyState===e.DONE)&&e.dispatchEvent("readystatechange"),e.readyState===e.DONE)){let b;_?b="abort":A?b="error":b="load",e.dispatchEvent(b),e.dispatchEvent("loadend")}}}});var hv=Q((e6,dv)=>{"use strict";U();var{Duplex:kw}=Y("stream");function pv(i){i.emit("close")}function Rw(){!this.destroyed&&this._writableState.finished&&this.destroy()}function fv(i){this.removeListener("error",fv),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}function Iw(i,e){let t=!0,r=new kw({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(n,a){let c=!a&&r._readableState.objectMode?n.toString():n;r.push(c)||i.pause()}),i.once("error",function(n){r.destroyed||(t=!1,r.destroy(n))}),i.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(s,n){if(i.readyState===i.CLOSED){n(s),process.nextTick(pv,r);return}let a=!1;i.once("error",function(l){a=!0,n(l)}),i.once("close",function(){a||n(s),process.nextTick(pv,r)}),t&&i.terminate()},r._final=function(s){if(i.readyState===i.CONNECTING){i.once("open",function(){r._final(s)});return}i._socket!==null&&(i._socket._writableState.finished?(s(),r._readableState.endEmitted&&r.destroy()):(i._socket.once("finish",function(){s()}),i.close()))},r._read=function(){i.isPaused&&i.resume()},r._write=function(s,n,a){if(i.readyState===i.CONNECTING){i.once("open",function(){r._write(s,n,a)});return}i.send(s,a)},r.on("end",Rw),r.on("error",fv),r}dv.exports=Iw});var bi=Q((r6,mv)=>{"use strict";U();mv.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Tn=Q((s6,Bo)=>{"use strict";U();var{EMPTY_BUFFER:Nw}=bi();function Bw(i,e){if(i.length===0)return Nw;if(i.length===1)return i[0];let t=Buffer.allocUnsafe(e),r=0;for(let s=0;s<i.length;s++){let n=i[s];t.set(n,r),r+=n.length}return r<e?t.slice(0,r):t}function gv(i,e,t,r,s){for(let n=0;n<s;n++)t[r+n]=i[n]^e[n&3]}function vv(i,e){for(let t=0;t<i.length;t++)i[t]^=e[t&3]}function Ow(i){return i.byteLength===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}function Nu(i){if(Nu.readOnly=!0,Buffer.isBuffer(i))return i;let e;return i instanceof ArrayBuffer?e=Buffer.from(i):ArrayBuffer.isView(i)?e=Buffer.from(i.buffer,i.byteOffset,i.byteLength):(e=Buffer.from(i),Nu.readOnly=!1),e}Bo.exports={concat:Bw,mask:gv,toArrayBuffer:Ow,toBuffer:Nu,unmask:vv};if(!process.env.WS_NO_BUFFER_UTIL)try{let i=Y("bufferutil");Bo.exports.mask=function(e,t,r,s,n){n<48?gv(e,t,r,s,n):i.mask(e,t,r,s,n)},Bo.exports.unmask=function(e,t){e.length<32?vv(e,t):i.unmask(e,t)}}catch{}});var xv=Q((a6,_v)=>{"use strict";U();var yv=Symbol("kDone"),Bu=Symbol("kRun"),Ou=class{constructor(e){this[yv]=()=>{this.pending--,this[Bu]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Bu]()}[Bu](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[yv])}}};_v.exports=Ou});var Rn=Q((c6,Cv)=>{"use strict";U();var An=Y("zlib"),bv=Tn(),Lw=xv(),{kStatusCode:Ev}=bi(),Pw=Buffer.from([0,0,255,255]),Po=Symbol("permessage-deflate"),Zr=Symbol("total-length"),kn=Symbol("callback"),Ei=Symbol("buffers"),Lo=Symbol("error"),Oo,Lu=class{constructor(e,t,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Oo){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Oo=new Lw(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[kn];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(s=>!(t.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>s.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(r.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?r.client_max_window_bits=t.clientMaxWindowBits:(r.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(r=>{let s=t[r];if(s.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(s=s[0],r==="client_max_window_bits"){if(s!==!0){let n=+s;if(!Number.isInteger(n)||n<8||n>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=n}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else if(r==="server_max_window_bits"){let n=+s;if(!Number.isInteger(n)||n<8||n>15)throw new TypeError(`Invalid value for parameter "${r}": ${s}`);s=n}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${s}`)}else throw new Error(`Unknown parameter "${r}"`);t[r]=s})}),e}decompress(e,t,r){Oo.add(s=>{this._decompress(e,t,(n,a)=>{s(),r(n,a)})})}compress(e,t,r){Oo.add(s=>{this._compress(e,t,(n,a)=>{s(),r(n,a)})})}_decompress(e,t,r){let s=this._isServer?"client":"server";if(!this._inflate){let n=`${s}_max_window_bits`,a=typeof this.params[n]!="number"?An.Z_DEFAULT_WINDOWBITS:this.params[n];this._inflate=An.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Po]=this,this._inflate[Zr]=0,this._inflate[Ei]=[],this._inflate.on("error",Uw),this._inflate.on("data",Sv)}this._inflate[kn]=r,this._inflate.write(e),t&&this._inflate.write(Pw),this._inflate.flush(()=>{let n=this._inflate[Lo];if(n){this._inflate.close(),this._inflate=null,r(n);return}let a=bv.concat(this._inflate[Ei],this._inflate[Zr]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Zr]=0,this._inflate[Ei]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,a)})}_compress(e,t,r){let s=this._isServer?"server":"client";if(!this._deflate){let n=`${s}_max_window_bits`,a=typeof this.params[n]!="number"?An.Z_DEFAULT_WINDOWBITS:this.params[n];this._deflate=An.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[Zr]=0,this._deflate[Ei]=[],this._deflate.on("data",Dw)}this._deflate[kn]=r,this._deflate.write(e),this._deflate.flush(An.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let n=bv.concat(this._deflate[Ei],this._deflate[Zr]);t&&(n=n.slice(0,n.length-4)),this._deflate[kn]=null,this._deflate[Zr]=0,this._deflate[Ei]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,n)})}};Cv.exports=Lu;function Dw(i){this[Ei].push(i),this[Zr]+=i.length}function Sv(i){if(this[Zr]+=i.length,this[Po]._maxPayload<1||this[Zr]<=this[Po]._maxPayload){this[Ei].push(i);return}this[Lo]=new RangeError("Max payload size exceeded"),this[Lo].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Lo][Ev]=1009,this.removeListener("data",Sv),this.reset()}function Uw(i){this[Po]._inflate=null,i[Ev]=1007,this[kn](i)}});var In=Q((u6,Pu)=>{"use strict";U();var Mw=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Fw(i){return i>=1e3&&i<=1014&&i!==1004&&i!==1005&&i!==1006||i>=3e3&&i<=4999}function wv(i){let e=i.length,t=0;for(;t<e;)if(!(i[t]&128))t++;else if((i[t]&224)===192){if(t+1===e||(i[t+1]&192)!==128||(i[t]&254)===192)return!1;t+=2}else if((i[t]&240)===224){if(t+2>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||i[t]===224&&(i[t+1]&224)===128||i[t]===237&&(i[t+1]&224)===160)return!1;t+=3}else if((i[t]&248)===240){if(t+3>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||(i[t+3]&192)!==128||i[t]===240&&(i[t+1]&240)===128||i[t]===244&&i[t+1]>143||i[t]>244)return!1;t+=4}else return!1;return!0}Pu.exports={isValidStatusCode:Fw,isValidUTF8:wv,tokenChars:Mw};if(!process.env.WS_NO_UTF_8_VALIDATE)try{let i=Y("utf-8-validate");Pu.exports.isValidUTF8=function(e){return e.length<150?wv(e):i(e)}}catch{}});var Fu=Q((f6,Bv)=>{"use strict";U();var{Writable:Vw}=Y("stream"),Tv=Rn(),{BINARY_TYPES:qw,EMPTY_BUFFER:Av,kStatusCode:jw,kWebSocket:Hw}=bi(),{concat:Du,toArrayBuffer:Kw,unmask:Ww}=Tn(),{isValidStatusCode:Gw,isValidUTF8:kv}=In(),Nn=0,Rv=1,Iv=2,Nv=3,Uu=4,zw=5,Mu=class extends Vw{constructor(e={}){super(),this._binaryType=e.binaryType||qw[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Hw]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Nn,this._loop=!1}_write(e,t,r){if(this._opcode===8&&this._state==Nn)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=r.slice(e),r.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],s=t.length-e;e>=r.length?t.set(this._buffers.shift(),s):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),s),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case Nn:t=this.getInfo();break;case Rv:t=this.getPayloadLength16();break;case Iv:t=this.getPayloadLength64();break;case Nv:this.getMask();break;case Uu:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,nt(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(e[0]&64)===64;if(t&&!this._extensions[Tv.extensionName])return this._loop=!1,nt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(t)return this._loop=!1,nt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,nt(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,nt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,nt(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,nt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,nt(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,nt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,nt(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,nt(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Rv;else if(this._payloadLength===127)this._state=Iv;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,nt(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,nt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Nv:this._state=Uu}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Uu}getData(e){let t=Av;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Ww(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=zw,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[Tv.extensionName].decompress(e,this._fin,(s,n)=>{if(s)return t(s);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(nt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(n)}let a=this.dataMessage();if(a)return t(a);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=Du(t,e):this._binaryType==="arraybuffer"?r=Kw(Du(t,e)):r=t,this.emit("message",r,!0)}else{let r=Du(t,e);if(!this._skipUTF8Validation&&!kv(r))return this._loop=!1,nt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=Nn}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Av),this.end();else{if(e.length===1)return nt(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let t=e.readUInt16BE(0);if(!Gw(t))return nt(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!this._skipUTF8Validation&&!kv(r))return nt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=Nn}};Bv.exports=Mu;function nt(i,e,t,r,s){let n=new i(t?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(n,nt),n.code=s,n[jw]=r,n}});var qu=Q((g6,Pv)=>{"use strict";U();var h6=Y("net"),m6=Y("tls"),{randomFillSync:$w}=Y("crypto"),Ov=Rn(),{EMPTY_BUFFER:Yw}=bi(),{isValidStatusCode:Zw}=In(),{mask:Lv,toBuffer:xs}=Tn(),_r=Symbol("kByteLength"),Qw=Buffer.alloc(4),Vu=class i{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,s=!1,n=2,a=!1;t.mask&&(r=t.maskBuffer||Qw,t.generateMask?t.generateMask(r):$w(r,0,4),a=(r[0]|r[1]|r[2]|r[3])===0,n=6);let c;typeof e=="string"?(!t.mask||a)&&t[_r]!==void 0?c=t[_r]:(e=Buffer.from(e),c=e.length):(c=e.length,s=t.mask&&t.readOnly&&!a);let l=c;c>=65536?(n+=8,l=127):c>125&&(n+=2,l=126);let o=Buffer.allocUnsafe(s?c+n:n);return o[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(o[0]|=64),o[1]=l,l===126?o.writeUInt16BE(c,2):l===127&&(o[2]=o[3]=0,o.writeUIntBE(c,4,6)),t.mask?(o[1]|=128,o[n-4]=r[0],o[n-3]=r[1],o[n-2]=r[2],o[n-1]=r[3],a?[o,e]:s?(Lv(e,r,o,n,c),[o]):(Lv(e,r,e,0,c),[o,e])):[o,e]}close(e,t,r,s){let n;if(e===void 0)n=Yw;else{if(typeof e!="number"||!Zw(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)n=Buffer.allocUnsafe(2),n.writeUInt16BE(e,0);else{let c=Buffer.byteLength(t);if(c>123)throw new RangeError("The message must not be greater than 123 bytes");n=Buffer.allocUnsafe(2+c),n.writeUInt16BE(e,0),typeof t=="string"?n.write(t,2):n.set(t,2)}}let a={[_r]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,n,!1,a,s]):this.sendFrame(i.frame(n,a),s)}ping(e,t,r){let s,n;if(typeof e=="string"?(s=Buffer.byteLength(e),n=!1):(e=xs(e),s=e.length,n=xs.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[_r]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(i.frame(e,a),r)}pong(e,t,r){let s,n;if(typeof e=="string"?(s=Buffer.byteLength(e),n=!1):(e=xs(e),s=e.length,n=xs.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[_r]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,r]):this.sendFrame(i.frame(e,a),r)}send(e,t,r){let s=this._extensions[Ov.extensionName],n=t.binary?2:1,a=t.compress,c,l;if(typeof e=="string"?(c=Buffer.byteLength(e),l=!1):(e=xs(e),c=e.length,l=xs.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=c>=s._threshold),this._compress=a):(a=!1,n=0),t.fin&&(this._firstFragment=!0),s){let o={[_r]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:n,readOnly:l,rsv1:a};this._deflating?this.enqueue([this.dispatch,e,this._compress,o,r]):this.dispatch(e,this._compress,o,r)}else this.sendFrame(i.frame(e,{[_r]:c,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:n,readOnly:l,rsv1:!1}),r)}dispatch(e,t,r,s){if(!t){this.sendFrame(i.frame(e,r),s);return}let n=this._extensions[Ov.extensionName];this._bufferedBytes+=r[_r],this._deflating=!0,n.compress(e,r.fin,(a,c)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(l);for(let o=0;o<this._queue.length;o++){let d=this._queue[o],u=d[d.length-1];typeof u=="function"&&u(l)}return}this._bufferedBytes-=r[_r],this._deflating=!1,r.readOnly=!1,this.sendFrame(i.frame(c,r),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][_r],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][_r],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};Pv.exports=Vu});var Kv=Q((y6,Hv)=>{"use strict";U();var{kForOnEventAttribute:Bn,kListener:ju}=bi(),Dv=Symbol("kCode"),Uv=Symbol("kData"),Mv=Symbol("kError"),Fv=Symbol("kMessage"),Vv=Symbol("kReason"),bs=Symbol("kTarget"),qv=Symbol("kType"),jv=Symbol("kWasClean"),Qr=class{constructor(e){this[bs]=null,this[qv]=e}get target(){return this[bs]}get type(){return this[qv]}};Object.defineProperty(Qr.prototype,"target",{enumerable:!0});Object.defineProperty(Qr.prototype,"type",{enumerable:!0});var Fi=class extends Qr{constructor(e,t={}){super(e),this[Dv]=t.code===void 0?0:t.code,this[Vv]=t.reason===void 0?"":t.reason,this[jv]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[Dv]}get reason(){return this[Vv]}get wasClean(){return this[jv]}};Object.defineProperty(Fi.prototype,"code",{enumerable:!0});Object.defineProperty(Fi.prototype,"reason",{enumerable:!0});Object.defineProperty(Fi.prototype,"wasClean",{enumerable:!0});var Es=class extends Qr{constructor(e,t={}){super(e),this[Mv]=t.error===void 0?null:t.error,this[Fv]=t.message===void 0?"":t.message}get error(){return this[Mv]}get message(){return this[Fv]}};Object.defineProperty(Es.prototype,"error",{enumerable:!0});Object.defineProperty(Es.prototype,"message",{enumerable:!0});var On=class extends Qr{constructor(e,t={}){super(e),this[Uv]=t.data===void 0?null:t.data}get data(){return this[Uv]}};Object.defineProperty(On.prototype,"data",{enumerable:!0});var Xw={addEventListener(i,e,t={}){for(let s of this.listeners(i))if(!t[Bn]&&s[ju]===e&&!s[Bn])return;let r;if(i==="message")r=function(n,a){let c=new On("message",{data:a?n:n.toString()});c[bs]=this,Do(e,this,c)};else if(i==="close")r=function(n,a){let c=new Fi("close",{code:n,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});c[bs]=this,Do(e,this,c)};else if(i==="error")r=function(n){let a=new Es("error",{error:n,message:n.message});a[bs]=this,Do(e,this,a)};else if(i==="open")r=function(){let n=new Qr("open");n[bs]=this,Do(e,this,n)};else return;r[Bn]=!!t[Bn],r[ju]=e,t.once?this.once(i,r):this.on(i,r)},removeEventListener(i,e){for(let t of this.listeners(i))if(t[ju]===e&&!t[Bn]){this.removeListener(i,t);break}}};Hv.exports={CloseEvent:Fi,ErrorEvent:Es,Event:Qr,EventTarget:Xw,MessageEvent:On};function Do(i,e,t){typeof i=="object"&&i.handleEvent?i.handleEvent.call(i,t):i.call(e,t)}});var Hu=Q((x6,Wv)=>{"use strict";U();var{tokenChars:Ln}=In();function Ir(i,e,t){i[e]===void 0?i[e]=[t]:i[e].push(t)}function Jw(i){let e=Object.create(null),t=Object.create(null),r=!1,s=!1,n=!1,a,c,l=-1,o=-1,d=-1,u=0;for(;u<i.length;u++)if(o=i.charCodeAt(u),a===void 0)if(d===-1&&Ln[o]===1)l===-1&&(l=u);else if(u!==0&&(o===32||o===9))d===-1&&l!==-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let A=i.slice(l,d);o===44?(Ir(e,A,t),t=Object.create(null)):a=A,l=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);else if(c===void 0)if(d===-1&&Ln[o]===1)l===-1&&(l=u);else if(o===32||o===9)d===-1&&l!==-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u),Ir(t,i.slice(l,d),!0),o===44&&(Ir(e,a,t),t=Object.create(null),a=void 0),l=d=-1}else if(o===61&&l!==-1&&d===-1)c=i.slice(l,u),l=d=-1;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(s){if(Ln[o]!==1)throw new SyntaxError(`Unexpected character at index ${u}`);l===-1?l=u:r||(r=!0),s=!1}else if(n)if(Ln[o]===1)l===-1&&(l=u);else if(o===34&&l!==-1)n=!1,d=u;else if(o===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${u}`);else if(o===34&&i.charCodeAt(u-1)===61)n=!0;else if(d===-1&&Ln[o]===1)l===-1&&(l=u);else if(l!==-1&&(o===32||o===9))d===-1&&(d=u);else if(o===59||o===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${u}`);d===-1&&(d=u);let A=i.slice(l,d);r&&(A=A.replace(/\\/g,""),r=!1),Ir(t,c,A),o===44&&(Ir(e,a,t),t=Object.create(null),a=void 0),c=void 0,l=d=-1}else throw new SyntaxError(`Unexpected character at index ${u}`);if(l===-1||n||o===32||o===9)throw new SyntaxError("Unexpected end of input");d===-1&&(d=u);let v=i.slice(l,d);return a===void 0?Ir(e,v,t):(c===void 0?Ir(t,v,!0):r?Ir(t,c,v.replace(/\\/g,"")):Ir(t,c,v),Ir(e,a,t)),e}function eT(i){return Object.keys(i).map(e=>{let t=i[e];return Array.isArray(t)||(t=[t]),t.map(r=>[e].concat(Object.keys(r).map(s=>{let n=r[s];return Array.isArray(n)||(n=[n]),n.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Wv.exports={format:eT,parse:Jw}});var $u=Q((S6,ry)=>{"use strict";U();var tT=Y("events"),rT=Y("https"),iT=Y("http"),$v=Y("net"),sT=Y("tls"),{randomBytes:nT,createHash:aT}=Y("crypto"),{Readable:E6}=Y("stream"),{URL:Ku}=Y("url"),Si=Rn(),oT=Fu(),cT=qu(),{BINARY_TYPES:Gv,EMPTY_BUFFER:Uo,GUID:lT,kForOnEventAttribute:Wu,kListener:uT,kStatusCode:pT,kWebSocket:Lt,NOOP:Yv}=bi(),{EventTarget:{addEventListener:fT,removeEventListener:dT}}=Kv(),{format:hT,parse:mT}=Hu(),{toBuffer:gT}=Tn(),vT=30*1e3,Zv=Symbol("kAborted"),Gu=[8,13],Xr=["CONNECTING","OPEN","CLOSING","CLOSED"],yT=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Xe=class i extends tT{constructor(e,t,r){super(),this._binaryType=Gv[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Uo,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(r=t,t=[]):t=[t]),Qv(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){Gv.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let s=new oT({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new cT(e,this._extensions,r.generateMask),this._receiver=s,this._socket=e,s[Lt]=this,e[Lt]=this,s.on("conclude",bT),s.on("drain",ET),s.on("error",ST),s.on("message",CT),s.on("ping",wT),s.on("pong",TT),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Jv),e.on("data",Fo),e.on("end",ey),e.on("error",ty),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Si.extensionName]&&this._extensions[Si.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return Qt(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(e,t,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),vT)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){zu(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Uo,t,r)}pong(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=t=void 0):typeof t=="function"&&(r=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){zu(this,e,r);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Uo,t,r)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(r=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){zu(this,e,r);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[Si.extensionName]||(s.compress=!1),this._sender.send(e||Uo,s,r)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING)return Qt(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(Xe,"CONNECTING",{enumerable:!0,value:Xr.indexOf("CONNECTING")});Object.defineProperty(Xe.prototype,"CONNECTING",{enumerable:!0,value:Xr.indexOf("CONNECTING")});Object.defineProperty(Xe,"OPEN",{enumerable:!0,value:Xr.indexOf("OPEN")});Object.defineProperty(Xe.prototype,"OPEN",{enumerable:!0,value:Xr.indexOf("OPEN")});Object.defineProperty(Xe,"CLOSING",{enumerable:!0,value:Xr.indexOf("CLOSING")});Object.defineProperty(Xe.prototype,"CLOSING",{enumerable:!0,value:Xr.indexOf("CLOSING")});Object.defineProperty(Xe,"CLOSED",{enumerable:!0,value:Xr.indexOf("CLOSED")});Object.defineProperty(Xe.prototype,"CLOSED",{enumerable:!0,value:Xr.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(i=>{Object.defineProperty(Xe.prototype,i,{enumerable:!0})});["open","error","close","message"].forEach(i=>{Object.defineProperty(Xe.prototype,`on${i}`,{enumerable:!0,get(){for(let e of this.listeners(i))if(e[Wu])return e[uT];return null},set(e){for(let t of this.listeners(i))if(t[Wu]){this.removeListener(i,t);break}typeof e=="function"&&this.addEventListener(i,e,{[Wu]:!0})}})});Xe.prototype.addEventListener=fT;Xe.prototype.removeEventListener=dT;ry.exports=Xe;function Qv(i,e,t,r){let s={protocolVersion:Gu[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!Gu.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Gu.join(", ")})`);let n;if(e instanceof Ku)n=e,i._url=e.href;else{try{n=new Ku(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i._url=e}let a=n.protocol==="wss:",c=n.protocol==="ws+unix:",l;if(n.protocol!=="ws:"&&!a&&!c?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:c&&!n.pathname?l="The URL's pathname is empty":n.hash&&(l="The URL contains a fragment identifier"),l){let h=new SyntaxError(l);if(i._redirects===0)throw h;Mo(i,h);return}let o=a?443:80,d=nT(16).toString("base64"),u=a?rT.request:iT.request,v=new Set,A;if(s.createConnection=a?xT:_T,s.defaultPort=s.defaultPort||o,s.port=n.port||o,s.host=n.hostname.startsWith("[")?n.hostname.slice(1,-1):n.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":d,Connection:"Upgrade",Upgrade:"websocket"},s.path=n.pathname+n.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(A=new Si(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=hT({[Si.extensionName]:A.offer()})),t.length){for(let h of t){if(typeof h!="string"||!yT.test(h)||v.has(h))throw new SyntaxError("An invalid or duplicated subprotocol was specified");v.add(h)}s.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(n.username||n.password)&&(s.auth=`${n.username}:${n.password}`),c){let h=s.path.split(":");s.socketPath=h[0],s.path=h[1]}let _;if(s.followRedirects){if(i._redirects===0){i._originalIpc=c,i._originalSecure=a,i._originalHostOrSocketPath=c?s.socketPath:n.host;let h=r&&r.headers;if(r={...r,headers:{}},h)for(let[E,w]of Object.entries(h))r.headers[E.toLowerCase()]=w}else if(i.listenerCount("redirect")===0){let h=c?i._originalIpc?s.socketPath===i._originalHostOrSocketPath:!1:i._originalIpc?!1:n.host===i._originalHostOrSocketPath;(!h||i._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,h||delete s.headers.host,s.auth=void 0)}s.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),_=i._req=u(s),i._redirects&&i.emit("redirect",i.url,_)}else _=i._req=u(s);s.timeout&&_.on("timeout",()=>{Qt(i,_,"Opening handshake has timed out")}),_.on("error",h=>{_===null||_[Zv]||(_=i._req=null,Mo(i,h))}),_.on("response",h=>{let E=h.headers.location,w=h.statusCode;if(E&&s.followRedirects&&w>=300&&w<400){if(++i._redirects>s.maxRedirects){Qt(i,_,"Maximum redirects exceeded");return}_.abort();let S;try{S=new Ku(E,e)}catch{let b=new SyntaxError(`Invalid URL: ${E}`);Mo(i,b);return}Qv(i,S,t,r)}else i.emit("unexpected-response",_,h)||Qt(i,_,`Unexpected server response: ${h.statusCode}`)}),_.on("upgrade",(h,E,w)=>{if(i.emit("upgrade",h),i.readyState!==Xe.CONNECTING)return;if(_=i._req=null,h.headers.upgrade.toLowerCase()!=="websocket"){Qt(i,E,"Invalid Upgrade header");return}let S=aT("sha1").update(d+lT).digest("base64");if(h.headers["sec-websocket-accept"]!==S){Qt(i,E,"Invalid Sec-WebSocket-Accept header");return}let p=h.headers["sec-websocket-protocol"],b;if(p!==void 0?v.size?v.has(p)||(b="Server sent an invalid subprotocol"):b="Server sent a subprotocol but none was requested":v.size&&(b="Server sent no subprotocol"),b){Qt(i,E,b);return}p&&(i._protocol=p);let C=h.headers["sec-websocket-extensions"];if(C!==void 0){if(!A){Qt(i,E,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let k;try{k=mT(C)}catch{Qt(i,E,"Invalid Sec-WebSocket-Extensions header");return}let B=Object.keys(k);if(B.length!==1||B[0]!==Si.extensionName){Qt(i,E,"Server indicated an extension that was not requested");return}try{A.accept(k[Si.extensionName])}catch{Qt(i,E,"Invalid Sec-WebSocket-Extensions header");return}i._extensions[Si.extensionName]=A}i.setSocket(E,w,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),_.end()}function Mo(i,e){i._readyState=Xe.CLOSING,i.emit("error",e),i.emitClose()}function _T(i){return i.path=i.socketPath,$v.connect(i)}function xT(i){return i.path=void 0,!i.servername&&i.servername!==""&&(i.servername=$v.isIP(i.host)?"":i.host),sT.connect(i)}function Qt(i,e,t){i._readyState=Xe.CLOSING;let r=new Error(t);Error.captureStackTrace(r,Qt),e.setHeader?(e[Zv]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Mo,i,r)):(e.destroy(r),e.once("error",i.emit.bind(i,"error")),e.once("close",i.emitClose.bind(i)))}function zu(i,e,t){if(e){let r=gT(e).length;i._socket?i._sender._bufferedBytes+=r:i._bufferedAmount+=r}if(t){let r=new Error(`WebSocket is not open: readyState ${i.readyState} (${Xr[i.readyState]})`);t(r)}}function bT(i,e){let t=this[Lt];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=i,t._socket[Lt]!==void 0&&(t._socket.removeListener("data",Fo),process.nextTick(Xv,t._socket),i===1005?t.close():t.close(i,e))}function ET(){let i=this[Lt];i.isPaused||i._socket.resume()}function ST(i){let e=this[Lt];e._socket[Lt]!==void 0&&(e._socket.removeListener("data",Fo),process.nextTick(Xv,e._socket),e.close(i[pT])),e.emit("error",i)}function zv(){this[Lt].emitClose()}function CT(i,e){this[Lt].emit("message",i,e)}function wT(i){let e=this[Lt];e.pong(i,!e._isServer,Yv),e.emit("ping",i)}function TT(i){this[Lt].emit("pong",i)}function Xv(i){i.resume()}function Jv(){let i=this[Lt];this.removeListener("close",Jv),this.removeListener("data",Fo),this.removeListener("end",ey),i._readyState=Xe.CLOSING;let e;!this._readableState.endEmitted&&!i._closeFrameReceived&&!i._receiver._writableState.errorEmitted&&(e=i._socket.read())!==null&&i._receiver.write(e),i._receiver.end(),this[Lt]=void 0,clearTimeout(i._closeTimer),i._receiver._writableState.finished||i._receiver._writableState.errorEmitted?i.emitClose():(i._receiver.on("error",zv),i._receiver.on("finish",zv))}function Fo(i){this[Lt]._receiver.write(i)||this.pause()}function ey(){let i=this[Lt];i._readyState=Xe.CLOSING,i._receiver.end(),this.end()}function ty(){let i=this[Lt];this.removeListener("error",ty),this.on("error",Yv),i&&(i._readyState=Xe.CLOSING,this.destroy())}});var sy=Q((w6,iy)=>{"use strict";U();var{tokenChars:AT}=In();function kT(i){let e=new Set,t=-1,r=-1,s=0;for(s;s<i.length;s++){let a=i.charCodeAt(s);if(r===-1&&AT[a]===1)t===-1&&(t=s);else if(s!==0&&(a===32||a===9))r===-1&&t!==-1&&(r=s);else if(a===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${s}`);r===-1&&(r=s);let c=i.slice(t,r);if(e.has(c))throw new SyntaxError(`The "${c}" subprotocol is duplicated`);e.add(c),t=r=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(t===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let n=i.slice(t,s);if(e.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);return e.add(n),e}iy.exports={parse:kT}});var py=Q((I6,uy)=>{"use strict";U();var RT=Y("events"),Vo=Y("http"),A6=Y("https"),k6=Y("net"),R6=Y("tls"),{createHash:IT}=Y("crypto"),ny=Hu(),Vi=Rn(),NT=sy(),BT=$u(),{GUID:OT,kWebSocket:LT}=bi(),PT=/^[+/0-9A-Za-z]{22}==$/,ay=0,oy=1,ly=2,Yu=class extends RT{constructor(e,t){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:BT,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Vo.createServer((r,s)=>{let n=Vo.STATUS_CODES[426];s.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),s.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=DT(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,n,a)=>{this.handleUpgrade(s,n,a,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=ay}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===ly){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Pn,this);return}if(e&&this.once("close",e),this._state!==oy)if(this._state=oy,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Pn,this):process.nextTick(Pn,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{Pn(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,s){t.on("error",cy);let n=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){qi(this,e,t,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){qi(this,e,t,400,"Invalid Upgrade header");return}if(!n||!PT.test(n)){qi(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){qi(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Dn(t,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=NT.parse(c)}catch{qi(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let o=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&o!==void 0){let u=new Vi(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let v=ny.parse(o);v[Vi.extensionName]&&(u.accept(v[Vi.extensionName]),d[Vi.extensionName]=u)}catch{qi(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let u={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(u,(v,A,_,h)=>{if(!v)return Dn(t,A||401,_,h);this.completeUpgrade(d,n,l,e,t,r,s)});return}if(!this.options.verifyClient(u))return Dn(t,401)}this.completeUpgrade(d,n,l,e,t,r,s)}completeUpgrade(e,t,r,s,n,a,c){if(!n.readable||!n.writable)return n.destroy();if(n[LT])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>ay)return Dn(n,503);let o=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${IT("sha1").update(t+OT).digest("base64")}`],d=new this.options.WebSocket(null);if(r.size){let u=this.options.handleProtocols?this.options.handleProtocols(r,s):r.values().next().value;u&&(o.push(`Sec-WebSocket-Protocol: ${u}`),d._protocol=u)}if(e[Vi.extensionName]){let u=e[Vi.extensionName].params,v=ny.format({[Vi.extensionName]:[u]});o.push(`Sec-WebSocket-Extensions: ${v}`),d._extensions=e}this.emit("headers",o,s),n.write(o.concat(`\r
`).join(`\r
`)),n.removeListener("error",cy),d.setSocket(n,a,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(d),d.on("close",()=>{this.clients.delete(d),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Pn,this)})),c(d,s)}};uy.exports=Yu;function DT(i,e){for(let t of Object.keys(e))i.on(t,e[t]);return function(){for(let r of Object.keys(e))i.removeListener(r,e[r])}}function Pn(i){i._state=ly,i.emit("close")}function cy(){this.destroy()}function Dn(i,e,t,r){t=t||Vo.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...r},i.once("finish",i.destroy),i.end(`HTTP/1.1 ${e} ${Vo.STATUS_CODES[e]}\r
`+Object.keys(r).map(s=>`${s}: ${r[s]}`).join(`\r
`)+`\r
\r
`+t)}function qi(i,e,t,r,s){if(i.listenerCount("wsClientError")){let n=new Error(s);Error.captureStackTrace(n,qi),i.emit("wsClientError",n,t,e)}else Dn(t,r,s)}});var pa=Q((uL,N0)=>{"use strict";U();var $A=Y("path"),Lr="\\\\/",A0=`[^${Lr}]`,ri="\\.",YA="\\+",ZA="\\?",oc="\\/",QA="(?=.)",k0="[^/]",Sp=`(?:${oc}|$)`,R0=`(?:^|${oc})`,Cp=`${ri}{1,2}${Sp}`,XA=`(?!${ri})`,JA=`(?!${R0}${Cp})`,ek=`(?!${ri}{0,1}${Sp})`,tk=`(?!${Cp})`,rk=`[^.${oc}]`,ik=`${k0}*?`,I0={DOT_LITERAL:ri,PLUS_LITERAL:YA,QMARK_LITERAL:ZA,SLASH_LITERAL:oc,ONE_CHAR:QA,QMARK:k0,END_ANCHOR:Sp,DOTS_SLASH:Cp,NO_DOT:XA,NO_DOTS:JA,NO_DOT_SLASH:ek,NO_DOTS_SLASH:tk,QMARK_NO_DOT:rk,STAR:ik,START_ANCHOR:R0},sk={...I0,SLASH_LITERAL:`[${Lr}]`,QMARK:A0,STAR:`${A0}*?`,DOTS_SLASH:`${ri}{1,2}(?:[${Lr}]|$)`,NO_DOT:`(?!${ri})`,NO_DOTS:`(?!(?:^|[${Lr}])${ri}{1,2}(?:[${Lr}]|$))`,NO_DOT_SLASH:`(?!${ri}{0,1}(?:[${Lr}]|$))`,NO_DOTS_SLASH:`(?!${ri}{1,2}(?:[${Lr}]|$))`,QMARK_NO_DOT:`[^.${Lr}]`,START_ANCHOR:`(?:^|[${Lr}])`,END_ANCHOR:`(?:[${Lr}]|$)`},nk={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};N0.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:nk,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:$A.sep,extglobChars(i){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${i.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(i){return i===!0?sk:I0}}});var cc=Q(jt=>{"use strict";U();var ak=Y("path"),ok=process.platform==="win32",{REGEX_BACKSLASH:ck,REGEX_REMOVE_BACKSLASH:lk,REGEX_SPECIAL_CHARS:uk,REGEX_SPECIAL_CHARS_GLOBAL:pk}=pa();jt.isObject=i=>i!==null&&typeof i=="object"&&!Array.isArray(i);jt.hasRegexChars=i=>uk.test(i);jt.isRegexChar=i=>i.length===1&&jt.hasRegexChars(i);jt.escapeRegex=i=>i.replace(pk,"\\$1");jt.toPosixSlashes=i=>i.replace(ck,"/");jt.removeBackslashes=i=>i.replace(lk,e=>e==="\\"?"":e);jt.supportsLookbehinds=()=>{let i=process.version.slice(1).split(".").map(Number);return i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10};jt.isWindows=i=>i&&typeof i.windows=="boolean"?i.windows:ok===!0||ak.sep==="\\";jt.escapeLast=(i,e,t)=>{let r=i.lastIndexOf(e,t);return r===-1?i:i[r-1]==="\\"?jt.escapeLast(i,e,r-1):`${i.slice(0,r)}\\${i.slice(r)}`};jt.removePrefix=(i,e={})=>{let t=i;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};jt.wrapOutput=(i,e={},t={})=>{let r=t.contains?"":"^",s=t.contains?"":"$",n=`${r}(?:${i})${s}`;return e.negated===!0&&(n=`(?:^(?!${n}).*$)`),n}});var F0=Q((hL,M0)=>{"use strict";U();var B0=cc(),{CHAR_ASTERISK:wp,CHAR_AT:fk,CHAR_BACKWARD_SLASH:fa,CHAR_COMMA:dk,CHAR_DOT:Tp,CHAR_EXCLAMATION_MARK:Ap,CHAR_FORWARD_SLASH:U0,CHAR_LEFT_CURLY_BRACE:kp,CHAR_LEFT_PARENTHESES:Rp,CHAR_LEFT_SQUARE_BRACKET:hk,CHAR_PLUS:mk,CHAR_QUESTION_MARK:O0,CHAR_RIGHT_CURLY_BRACE:gk,CHAR_RIGHT_PARENTHESES:L0,CHAR_RIGHT_SQUARE_BRACKET:vk}=pa(),P0=i=>i===U0||i===fa,D0=i=>{i.isPrefix!==!0&&(i.depth=i.isGlobstar?1/0:1)},yk=(i,e)=>{let t=e||{},r=i.length-1,s=t.parts===!0||t.scanToEnd===!0,n=[],a=[],c=[],l=i,o=-1,d=0,u=0,v=!1,A=!1,_=!1,h=!1,E=!1,w=!1,S=!1,p=!1,b=!1,C=!1,k=0,B,x,m={value:"",depth:0,isGlob:!1},f=()=>o>=r,T=()=>l.charCodeAt(o+1),P=()=>(B=x,l.charCodeAt(++o));for(;o<r;){x=P();let K;if(x===fa){S=m.backslashes=!0,x=P(),x===kp&&(w=!0);continue}if(w===!0||x===kp){for(k++;f()!==!0&&(x=P());){if(x===fa){S=m.backslashes=!0,P();continue}if(x===kp){k++;continue}if(w!==!0&&x===Tp&&(x=P())===Tp){if(v=m.isBrace=!0,_=m.isGlob=!0,C=!0,s===!0)continue;break}if(w!==!0&&x===dk){if(v=m.isBrace=!0,_=m.isGlob=!0,C=!0,s===!0)continue;break}if(x===gk&&(k--,k===0)){w=!1,v=m.isBrace=!0,C=!0;break}}if(s===!0)continue;break}if(x===U0){if(n.push(o),a.push(m),m={value:"",depth:0,isGlob:!1},C===!0)continue;if(B===Tp&&o===d+1){d+=2;continue}u=o+1;continue}if(t.noext!==!0&&(x===mk||x===fk||x===wp||x===O0||x===Ap)===!0&&T()===Rp){if(_=m.isGlob=!0,h=m.isExtglob=!0,C=!0,x===Ap&&o===d&&(b=!0),s===!0){for(;f()!==!0&&(x=P());){if(x===fa){S=m.backslashes=!0,x=P();continue}if(x===L0){_=m.isGlob=!0,C=!0;break}}continue}break}if(x===wp){if(B===wp&&(E=m.isGlobstar=!0),_=m.isGlob=!0,C=!0,s===!0)continue;break}if(x===O0){if(_=m.isGlob=!0,C=!0,s===!0)continue;break}if(x===hk){for(;f()!==!0&&(K=P());){if(K===fa){S=m.backslashes=!0,P();continue}if(K===vk){A=m.isBracket=!0,_=m.isGlob=!0,C=!0;break}}if(s===!0)continue;break}if(t.nonegate!==!0&&x===Ap&&o===d){p=m.negated=!0,d++;continue}if(t.noparen!==!0&&x===Rp){if(_=m.isGlob=!0,s===!0){for(;f()!==!0&&(x=P());){if(x===Rp){S=m.backslashes=!0,x=P();continue}if(x===L0){C=!0;break}}continue}break}if(_===!0){if(C=!0,s===!0)continue;break}}t.noext===!0&&(h=!1,_=!1);let q=l,M="",D="";d>0&&(M=l.slice(0,d),l=l.slice(d),u-=d),q&&_===!0&&u>0?(q=l.slice(0,u),D=l.slice(u)):_===!0?(q="",D=l):q=l,q&&q!==""&&q!=="/"&&q!==l&&P0(q.charCodeAt(q.length-1))&&(q=q.slice(0,-1)),t.unescape===!0&&(D&&(D=B0.removeBackslashes(D)),q&&S===!0&&(q=B0.removeBackslashes(q)));let V={prefix:M,input:i,start:d,base:q,glob:D,isBrace:v,isBracket:A,isGlob:_,isExtglob:h,isGlobstar:E,negated:p,negatedExtglob:b};if(t.tokens===!0&&(V.maxDepth=0,P0(x)||a.push(m),V.tokens=a),t.parts===!0||t.tokens===!0){let K;for(let G=0;G<n.length;G++){let Z=K?K+1:d,te=n[G],se=i.slice(Z,te);t.tokens&&(G===0&&d!==0?(a[G].isPrefix=!0,a[G].value=M):a[G].value=se,D0(a[G]),V.maxDepth+=a[G].depth),(G!==0||se!=="")&&c.push(se),K=te}if(K&&K+1<i.length){let G=i.slice(K+1);c.push(G),t.tokens&&(a[a.length-1].value=G,D0(a[a.length-1]),V.maxDepth+=a[a.length-1].depth)}V.slashes=n,V.parts=c}return V};M0.exports=yk});var j0=Q((gL,q0)=>{"use strict";U();var lc=pa(),Jt=cc(),{MAX_LENGTH:uc,POSIX_REGEX_SOURCE:_k,REGEX_NON_SPECIAL_CHARS:xk,REGEX_SPECIAL_CHARS_BACKREF:bk,REPLACEMENTS:V0}=lc,Ek=(i,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...i,e);i.sort();let t=`[${i.join("-")}]`;try{new RegExp(t)}catch{return i.map(s=>Jt.escapeRegex(s)).join("..")}return t},Ds=(i,e)=>`Missing ${i}: "${e}" - use "\\\\${e}" to match literal characters`,Ip=(i,e)=>{if(typeof i!="string")throw new TypeError("Expected a string");i=V0[i]||i;let t={...e},r=typeof t.maxLength=="number"?Math.min(uc,t.maxLength):uc,s=i.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);let n={type:"bos",value:"",output:t.prepend||""},a=[n],c=t.capture?"":"?:",l=Jt.isWindows(e),o=lc.globChars(l),d=lc.extglobChars(o),{DOT_LITERAL:u,PLUS_LITERAL:v,SLASH_LITERAL:A,ONE_CHAR:_,DOTS_SLASH:h,NO_DOT:E,NO_DOT_SLASH:w,NO_DOTS_SLASH:S,QMARK:p,QMARK_NO_DOT:b,STAR:C,START_ANCHOR:k}=o,B=ie=>`(${c}(?:(?!${k}${ie.dot?h:u}).)*?)`,x=t.dot?"":E,m=t.dot?p:b,f=t.bash===!0?B(t):C;t.capture&&(f=`(${f})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let T={input:i,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};i=Jt.removePrefix(i,T),s=i.length;let P=[],q=[],M=[],D=n,V,K=()=>T.index===s-1,G=T.peek=(ie=1)=>i[T.index+ie],Z=T.advance=()=>i[++T.index]||"",te=()=>i.slice(T.index+1),se=(ie="",de=0)=>{T.consumed+=ie,T.index+=de},ne=ie=>{T.output+=ie.output!=null?ie.output:ie.value,se(ie.value)},ve=()=>{let ie=1;for(;G()==="!"&&(G(2)!=="("||G(3)==="?");)Z(),T.start++,ie++;return ie%2===0?!1:(T.negated=!0,T.start++,!0)},xe=ie=>{T[ie]++,M.push(ie)},Ie=ie=>{T[ie]--,M.pop()},$=ie=>{if(D.type==="globstar"){let de=T.braces>0&&(ie.type==="comma"||ie.type==="brace"),y=ie.extglob===!0||P.length&&(ie.type==="pipe"||ie.type==="paren");ie.type!=="slash"&&ie.type!=="paren"&&!de&&!y&&(T.output=T.output.slice(0,-D.output.length),D.type="star",D.value="*",D.output=f,T.output+=D.output)}if(P.length&&ie.type!=="paren"&&(P[P.length-1].inner+=ie.value),(ie.value||ie.output)&&ne(ie),D&&D.type==="text"&&ie.type==="text"){D.value+=ie.value,D.output=(D.output||"")+ie.value;return}ie.prev=D,a.push(ie),D=ie},ke=(ie,de)=>{let y={...d[de],conditions:1,inner:""};y.prev=D,y.parens=T.parens,y.output=T.output;let L=(t.capture?"(":"")+y.open;xe("parens"),$({type:ie,value:de,output:T.output?"":_}),$({type:"paren",extglob:!0,value:Z(),output:L}),P.push(y)},ae=ie=>{let de=ie.close+(t.capture?")":""),y;if(ie.type==="negate"){let L=f;if(ie.inner&&ie.inner.length>1&&ie.inner.includes("/")&&(L=B(t)),(L!==f||K()||/^\)+$/.test(te()))&&(de=ie.close=`)$))${L}`),ie.inner.includes("*")&&(y=te())&&/^\.[^\\/.]+$/.test(y)){let N=Ip(y,{...e,fastpaths:!1}).output;de=ie.close=`)${N})${L})`}ie.prev.type==="bos"&&(T.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:V,output:de}),Ie("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(i)){let ie=!1,de=i.replace(bk,(y,L,N,g,I,H)=>g==="\\"?(ie=!0,y):g==="?"?L?L+g+(I?p.repeat(I.length):""):H===0?m+(I?p.repeat(I.length):""):p.repeat(N.length):g==="."?u.repeat(N.length):g==="*"?L?L+g+(I?f:""):f:L?y:`\\${y}`);return ie===!0&&(t.unescape===!0?de=de.replace(/\\/g,""):de=de.replace(/\\+/g,y=>y.length%2===0?"\\\\":y?"\\":"")),de===i&&t.contains===!0?(T.output=i,T):(T.output=Jt.wrapOutput(de,T,e),T)}for(;!K();){if(V=Z(),V==="\0")continue;if(V==="\\"){let y=G();if(y==="/"&&t.bash!==!0||y==="."||y===";")continue;if(!y){V+="\\",$({type:"text",value:V});continue}let L=/^\\+/.exec(te()),N=0;if(L&&L[0].length>2&&(N=L[0].length,T.index+=N,N%2!==0&&(V+="\\")),t.unescape===!0?V=Z():V+=Z(),T.brackets===0){$({type:"text",value:V});continue}}if(T.brackets>0&&(V!=="]"||D.value==="["||D.value==="[^")){if(t.posix!==!1&&V===":"){let y=D.value.slice(1);if(y.includes("[")&&(D.posix=!0,y.includes(":"))){let L=D.value.lastIndexOf("["),N=D.value.slice(0,L),g=D.value.slice(L+2),I=_k[g];if(I){D.value=N+I,T.backtrack=!0,Z(),!n.output&&a.indexOf(D)===1&&(n.output=_);continue}}}(V==="["&&G()!==":"||V==="-"&&G()==="]")&&(V=`\\${V}`),V==="]"&&(D.value==="["||D.value==="[^")&&(V=`\\${V}`),t.posix===!0&&V==="!"&&D.value==="["&&(V="^"),D.value+=V,ne({value:V});continue}if(T.quotes===1&&V!=='"'){V=Jt.escapeRegex(V),D.value+=V,ne({value:V});continue}if(V==='"'){T.quotes=T.quotes===1?0:1,t.keepQuotes===!0&&$({type:"text",value:V});continue}if(V==="("){xe("parens"),$({type:"paren",value:V});continue}if(V===")"){if(T.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Ds("opening","("));let y=P[P.length-1];if(y&&T.parens===y.parens+1){ae(P.pop());continue}$({type:"paren",value:V,output:T.parens?")":"\\)"}),Ie("parens");continue}if(V==="["){if(t.nobracket===!0||!te().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Ds("closing","]"));V=`\\${V}`}else xe("brackets");$({type:"bracket",value:V});continue}if(V==="]"){if(t.nobracket===!0||D&&D.type==="bracket"&&D.value.length===1){$({type:"text",value:V,output:`\\${V}`});continue}if(T.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Ds("opening","["));$({type:"text",value:V,output:`\\${V}`});continue}Ie("brackets");let y=D.value.slice(1);if(D.posix!==!0&&y[0]==="^"&&!y.includes("/")&&(V=`/${V}`),D.value+=V,ne({value:V}),t.literalBrackets===!1||Jt.hasRegexChars(y))continue;let L=Jt.escapeRegex(D.value);if(T.output=T.output.slice(0,-D.value.length),t.literalBrackets===!0){T.output+=L,D.value=L;continue}D.value=`(${c}${L}|${D.value})`,T.output+=D.value;continue}if(V==="{"&&t.nobrace!==!0){xe("braces");let y={type:"brace",value:V,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};q.push(y),$(y);continue}if(V==="}"){let y=q[q.length-1];if(t.nobrace===!0||!y){$({type:"text",value:V,output:V});continue}let L=")";if(y.dots===!0){let N=a.slice(),g=[];for(let I=N.length-1;I>=0&&(a.pop(),N[I].type!=="brace");I--)N[I].type!=="dots"&&g.unshift(N[I].value);L=Ek(g,t),T.backtrack=!0}if(y.comma!==!0&&y.dots!==!0){let N=T.output.slice(0,y.outputIndex),g=T.tokens.slice(y.tokensIndex);y.value=y.output="\\{",V=L="\\}",T.output=N;for(let I of g)T.output+=I.output||I.value}$({type:"brace",value:V,output:L}),Ie("braces"),q.pop();continue}if(V==="|"){P.length>0&&P[P.length-1].conditions++,$({type:"text",value:V});continue}if(V===","){let y=V,L=q[q.length-1];L&&M[M.length-1]==="braces"&&(L.comma=!0,y="|"),$({type:"comma",value:V,output:y});continue}if(V==="/"){if(D.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",a.pop(),D=n;continue}$({type:"slash",value:V,output:A});continue}if(V==="."){if(T.braces>0&&D.type==="dot"){D.value==="."&&(D.output=u);let y=q[q.length-1];D.type="dots",D.output+=V,D.value+=V,y.dots=!0;continue}if(T.braces+T.parens===0&&D.type!=="bos"&&D.type!=="slash"){$({type:"text",value:V,output:u});continue}$({type:"dot",value:V,output:u});continue}if(V==="?"){if(!(D&&D.value==="(")&&t.noextglob!==!0&&G()==="("&&G(2)!=="?"){ke("qmark",V);continue}if(D&&D.type==="paren"){let L=G(),N=V;if(L==="<"&&!Jt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(D.value==="("&&!/[!=<:]/.test(L)||L==="<"&&!/<([!=]|\w+>)/.test(te()))&&(N=`\\${V}`),$({type:"text",value:V,output:N});continue}if(t.dot!==!0&&(D.type==="slash"||D.type==="bos")){$({type:"qmark",value:V,output:b});continue}$({type:"qmark",value:V,output:p});continue}if(V==="!"){if(t.noextglob!==!0&&G()==="("&&(G(2)!=="?"||!/[!=<:]/.test(G(3)))){ke("negate",V);continue}if(t.nonegate!==!0&&T.index===0){ve();continue}}if(V==="+"){if(t.noextglob!==!0&&G()==="("&&G(2)!=="?"){ke("plus",V);continue}if(D&&D.value==="("||t.regex===!1){$({type:"plus",value:V,output:v});continue}if(D&&(D.type==="bracket"||D.type==="paren"||D.type==="brace")||T.parens>0){$({type:"plus",value:V});continue}$({type:"plus",value:v});continue}if(V==="@"){if(t.noextglob!==!0&&G()==="("&&G(2)!=="?"){$({type:"at",extglob:!0,value:V,output:""});continue}$({type:"text",value:V});continue}if(V!=="*"){(V==="$"||V==="^")&&(V=`\\${V}`);let y=xk.exec(te());y&&(V+=y[0],T.index+=y[0].length),$({type:"text",value:V});continue}if(D&&(D.type==="globstar"||D.star===!0)){D.type="star",D.star=!0,D.value+=V,D.output=f,T.backtrack=!0,T.globstar=!0,se(V);continue}let ie=te();if(t.noextglob!==!0&&/^\([^?]/.test(ie)){ke("star",V);continue}if(D.type==="star"){if(t.noglobstar===!0){se(V);continue}let y=D.prev,L=y.prev,N=y.type==="slash"||y.type==="bos",g=L&&(L.type==="star"||L.type==="globstar");if(t.bash===!0&&(!N||ie[0]&&ie[0]!=="/")){$({type:"star",value:V,output:""});continue}let I=T.braces>0&&(y.type==="comma"||y.type==="brace"),H=P.length&&(y.type==="pipe"||y.type==="paren");if(!N&&y.type!=="paren"&&!I&&!H){$({type:"star",value:V,output:""});continue}for(;ie.slice(0,3)==="/**";){let j=i[T.index+4];if(j&&j!=="/")break;ie=ie.slice(3),se("/**",3)}if(y.type==="bos"&&K()){D.type="globstar",D.value+=V,D.output=B(t),T.output=D.output,T.globstar=!0,se(V);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&!g&&K()){T.output=T.output.slice(0,-(y.output+D.output).length),y.output=`(?:${y.output}`,D.type="globstar",D.output=B(t)+(t.strictSlashes?")":"|$)"),D.value+=V,T.globstar=!0,T.output+=y.output+D.output,se(V);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&ie[0]==="/"){let j=ie[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(y.output+D.output).length),y.output=`(?:${y.output}`,D.type="globstar",D.output=`${B(t)}${A}|${A}${j})`,D.value+=V,T.output+=y.output+D.output,T.globstar=!0,se(V+Z()),$({type:"slash",value:"/",output:""});continue}if(y.type==="bos"&&ie[0]==="/"){D.type="globstar",D.value+=V,D.output=`(?:^|${A}|${B(t)}${A})`,T.output=D.output,T.globstar=!0,se(V+Z()),$({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-D.output.length),D.type="globstar",D.output=B(t),D.value+=V,T.output+=D.output,T.globstar=!0,se(V);continue}let de={type:"star",value:V,output:f};if(t.bash===!0){de.output=".*?",(D.type==="bos"||D.type==="slash")&&(de.output=x+de.output),$(de);continue}if(D&&(D.type==="bracket"||D.type==="paren")&&t.regex===!0){de.output=V,$(de);continue}(T.index===T.start||D.type==="slash"||D.type==="dot")&&(D.type==="dot"?(T.output+=w,D.output+=w):t.dot===!0?(T.output+=S,D.output+=S):(T.output+=x,D.output+=x),G()!=="*"&&(T.output+=_,D.output+=_)),$(de)}for(;T.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ds("closing","]"));T.output=Jt.escapeLast(T.output,"["),Ie("brackets")}for(;T.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ds("closing",")"));T.output=Jt.escapeLast(T.output,"("),Ie("parens")}for(;T.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(Ds("closing","}"));T.output=Jt.escapeLast(T.output,"{"),Ie("braces")}if(t.strictSlashes!==!0&&(D.type==="star"||D.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${A}?`}),T.backtrack===!0){T.output="";for(let ie of T.tokens)T.output+=ie.output!=null?ie.output:ie.value,ie.suffix&&(T.output+=ie.suffix)}return T};Ip.fastpaths=(i,e)=>{let t={...e},r=typeof t.maxLength=="number"?Math.min(uc,t.maxLength):uc,s=i.length;if(s>r)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${r}`);i=V0[i]||i;let n=Jt.isWindows(e),{DOT_LITERAL:a,SLASH_LITERAL:c,ONE_CHAR:l,DOTS_SLASH:o,NO_DOT:d,NO_DOTS:u,NO_DOTS_SLASH:v,STAR:A,START_ANCHOR:_}=lc.globChars(n),h=t.dot?u:d,E=t.dot?v:d,w=t.capture?"":"?:",S={negated:!1,prefix:""},p=t.bash===!0?".*?":A;t.capture&&(p=`(${p})`);let b=x=>x.noglobstar===!0?p:`(${w}(?:(?!${_}${x.dot?o:a}).)*?)`,C=x=>{switch(x){case"*":return`${h}${l}${p}`;case".*":return`${a}${l}${p}`;case"*.*":return`${h}${p}${a}${l}${p}`;case"*/*":return`${h}${p}${c}${l}${E}${p}`;case"**":return h+b(t);case"**/*":return`(?:${h}${b(t)}${c})?${E}${l}${p}`;case"**/*.*":return`(?:${h}${b(t)}${c})?${E}${p}${a}${l}${p}`;case"**/.*":return`(?:${h}${b(t)}${c})?${a}${l}${p}`;default:{let m=/^(.*?)\.(\w+)$/.exec(x);if(!m)return;let f=C(m[1]);return f?f+a+m[2]:void 0}}},k=Jt.removePrefix(i,S),B=C(k);return B&&t.strictSlashes!==!0&&(B+=`${c}?`),B};q0.exports=Ip});var K0=Q((yL,H0)=>{"use strict";U();var Sk=Y("path"),Ck=F0(),Np=j0(),Bp=cc(),wk=pa(),Tk=i=>i&&typeof i=="object"&&!Array.isArray(i),Je=(i,e,t=!1)=>{if(Array.isArray(i)){let d=i.map(v=>Je(v,e,t));return v=>{for(let A of d){let _=A(v);if(_)return _}return!1}}let r=Tk(i)&&i.tokens&&i.input;if(i===""||typeof i!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},n=Bp.isWindows(e),a=r?Je.compileRe(i,e):Je.makeRe(i,e,!1,!0),c=a.state;delete a.state;let l=()=>!1;if(s.ignore){let d={...e,ignore:null,onMatch:null,onResult:null};l=Je(s.ignore,d,t)}let o=(d,u=!1)=>{let{isMatch:v,match:A,output:_}=Je.test(d,a,e,{glob:i,posix:n}),h={glob:i,state:c,regex:a,posix:n,input:d,output:_,match:A,isMatch:v};return typeof s.onResult=="function"&&s.onResult(h),v===!1?(h.isMatch=!1,u?h:!1):l(d)?(typeof s.onIgnore=="function"&&s.onIgnore(h),h.isMatch=!1,u?h:!1):(typeof s.onMatch=="function"&&s.onMatch(h),u?h:!0)};return t&&(o.state=c),o};Je.test=(i,e,t,{glob:r,posix:s}={})=>{if(typeof i!="string")throw new TypeError("Expected input to be a string");if(i==="")return{isMatch:!1,output:""};let n=t||{},a=n.format||(s?Bp.toPosixSlashes:null),c=i===r,l=c&&a?a(i):i;return c===!1&&(l=a?a(i):i,c=l===r),(c===!1||n.capture===!0)&&(n.matchBase===!0||n.basename===!0?c=Je.matchBase(i,e,t,s):c=e.exec(l)),{isMatch:!!c,match:c,output:l}};Je.matchBase=(i,e,t,r=Bp.isWindows(t))=>(e instanceof RegExp?e:Je.makeRe(e,t)).test(Sk.basename(i));Je.isMatch=(i,e,t)=>Je(e,t)(i);Je.parse=(i,e)=>Array.isArray(i)?i.map(t=>Je.parse(t,e)):Np(i,{...e,fastpaths:!1});Je.scan=(i,e)=>Ck(i,e);Je.compileRe=(i,e,t=!1,r=!1)=>{if(t===!0)return i.output;let s=e||{},n=s.contains?"":"^",a=s.contains?"":"$",c=`${n}(?:${i.output})${a}`;i&&i.negated===!0&&(c=`^(?!${c}).*$`);let l=Je.toRegex(c,e);return r===!0&&(l.state=i),l};Je.makeRe=(i,e={},t=!1,r=!1)=>{if(!i||typeof i!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(i[0]==="."||i[0]==="*")&&(s.output=Np.fastpaths(i,e)),s.output||(s=Np(i,e)),Je.compileRe(s,e,t,r)};Je.toRegex=(i,e)=>{try{let t=e||{};return new RegExp(i,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};Je.constants=wk;H0.exports=Je});var Op=Q((xL,W0)=>{"use strict";U();W0.exports=K0()});var J0=Q((EL,X0)=>{"use strict";U();var ha=Y("fs"),{Readable:Ak}=Y("stream"),da=Y("path"),{promisify:hc}=Y("util"),Lp=Op(),kk=hc(ha.readdir),Rk=hc(ha.stat),G0=hc(ha.lstat),Ik=hc(ha.realpath),Nk="!",Z0="READDIRP_RECURSIVE_ERROR",Bk=new Set(["ENOENT","EPERM","EACCES","ELOOP",Z0]),Pp="files",Q0="directories",fc="files_directories",pc="all",z0=[Pp,Q0,fc,pc],Ok=i=>Bk.has(i.code),[$0,Lk]=process.versions.node.split(".").slice(0,2).map(i=>Number.parseInt(i,10)),Pk=process.platform==="win32"&&($0>10||$0===10&&Lk>=5),Y0=i=>{if(i!==void 0){if(typeof i=="function")return i;if(typeof i=="string"){let e=Lp(i.trim());return t=>e(t.basename)}if(Array.isArray(i)){let e=[],t=[];for(let r of i){let s=r.trim();s.charAt(0)===Nk?t.push(Lp(s.slice(1))):e.push(Lp(s))}return t.length>0?e.length>0?r=>e.some(s=>s(r.basename))&&!t.some(s=>s(r.basename)):r=>!t.some(s=>s(r.basename)):r=>e.some(s=>s(r.basename))}}},dc=class i extends Ak{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:Pp,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let t={...i.defaultOptions,...e},{root:r,type:s}=t;this._fileFilter=Y0(t.fileFilter),this._directoryFilter=Y0(t.directoryFilter);let n=t.lstat?G0:Rk;Pk?this._stat=a=>n(a,{bigint:!0}):this._stat=n,this._maxDepth=t.depth,this._wantsDir=[Q0,fc,pc].includes(s),this._wantsFile=[Pp,fc,pc].includes(s),this._wantsEverything=s===pc,this._root=da.resolve(r),this._isDirent="Dirent"in ha&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:t,depth:r,files:s=[]}=this.parent||{};if(s.length>0){let n=s.splice(0,e).map(a=>this._formatEntry(a,t));for(let a of await Promise.all(n)){if(this.destroyed)return;let c=await this._getEntryType(a);c==="directory"&&this._directoryFilter(a)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(a.fullPath,r+1)),this._wantsDir&&(this.push(a),e--)):(c==="file"||this._includeAsFile(a))&&this._fileFilter(a)&&this._wantsFile&&(this.push(a),e--)}}else{let n=this.parents.pop();if(!n){this.push(null);break}if(this.parent=await n,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(e,t){let r;try{r=await kk(e,this._rdOptions)}catch(s){this._onError(s)}return{files:r,depth:t,path:e}}async _formatEntry(e,t){let r;try{let s=this._isDirent?e.name:e,n=da.resolve(da.join(t,s));r={path:da.relative(this._root,n),fullPath:n,basename:s},r[this._statsProp]=this._isDirent?e:await this._stat(n)}catch(s){this._onError(s)}return r}_onError(e){Ok(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let t=e&&e[this._statsProp];if(t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){let r=e.fullPath;try{let s=await Ik(r),n=await G0(s);if(n.isFile())return"file";if(n.isDirectory()){let a=s.length;if(r.startsWith(s)&&r.substr(a,1)===da.sep){let c=new Error(`Circular symlink detected: "${r}" points to "${s}"`);return c.code=Z0,this._onError(c)}return"directory"}}catch(s){this._onError(s)}}}}_includeAsFile(e){let t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}},Us=(i,e={})=>{let t=e.entryType||e.type;if(t==="both"&&(t=fc),t&&(e.type=t),i){if(typeof i!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(t&&!z0.includes(t))throw new Error(`readdirp: Invalid type passed. Use one of ${z0.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=i,new dc(e)},Dk=(i,e={})=>new Promise((t,r)=>{let s=[];Us(i,e).on("data",n=>s.push(n)).on("end",()=>t(s)).on("error",n=>r(n))});Us.promise=Dk;Us.ReaddirpStream=dc;Us.default=Us;X0.exports=Us});var n_=Q((i_,s_)=>{"use strict";U();Object.defineProperty(i_,"__esModule",{value:!0});var r_=Op(),Uk=Oc(),e_="!",Mk={returnIndex:!1},Fk=i=>Array.isArray(i)?i:[i],Vk=(i,e)=>{if(typeof i=="function")return i;if(typeof i=="string"){let t=r_(i,e);return r=>i===r||t(r)}return i instanceof RegExp?t=>i.test(t):t=>!1},t_=(i,e,t,r)=>{let s=Array.isArray(t),n=s?t[0]:t;if(!s&&typeof n!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(n));let a=Uk(n);for(let l=0;l<e.length;l++){let o=e[l];if(o(a))return r?-1:!1}let c=s&&[a].concat(t.slice(1));for(let l=0;l<i.length;l++){let o=i[l];if(s?o(...c):o(a))return r?l:!0}return r?-1:!1},Dp=(i,e,t=Mk)=>{if(i==null)throw new TypeError("anymatch: specify first argument");let r=typeof t=="boolean"?{returnIndex:t}:t,s=r.returnIndex||!1,n=Fk(i),a=n.filter(l=>typeof l=="string"&&l.charAt(0)===e_).map(l=>l.slice(1)).map(l=>r_(l,r)),c=n.filter(l=>typeof l!="string"||typeof l=="string"&&l.charAt(0)!==e_).map(l=>Vk(l,r));return e==null?(l,o=!1)=>t_(c,a,l,typeof o=="boolean"?o:!1):t_(c,a,e,s)};Dp.default=Dp;s_.exports=Dp});var o_=Q((wL,a_)=>{"use strict";U();a_.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var Up=Q((AL,l_)=>{"use strict";U();var qk=o_(),c_={"{":"}","(":")","[":"]"},jk=function(i){if(i[0]==="!")return!0;for(var e=0,t=-2,r=-2,s=-2,n=-2,a=-2;e<i.length;){if(i[e]==="*"||i[e+1]==="?"&&/[\].+)]/.test(i[e])||r!==-1&&i[e]==="["&&i[e+1]!=="]"&&(r<e&&(r=i.indexOf("]",e)),r>e&&(a===-1||a>r||(a=i.indexOf("\\",e),a===-1||a>r)))||s!==-1&&i[e]==="{"&&i[e+1]!=="}"&&(s=i.indexOf("}",e),s>e&&(a=i.indexOf("\\",e),a===-1||a>s))||n!==-1&&i[e]==="("&&i[e+1]==="?"&&/[:!=]/.test(i[e+2])&&i[e+3]!==")"&&(n=i.indexOf(")",e),n>e&&(a=i.indexOf("\\",e),a===-1||a>n))||t!==-1&&i[e]==="("&&i[e+1]!=="|"&&(t<e&&(t=i.indexOf("|",e)),t!==-1&&i[t+1]!==")"&&(n=i.indexOf(")",t),n>t&&(a=i.indexOf("\\",t),a===-1||a>n))))return!0;if(i[e]==="\\"){var c=i[e+1];e+=2;var l=c_[c];if(l){var o=i.indexOf(l,e);o!==-1&&(e=o+1)}if(i[e]==="!")return!0}else e++}return!1},Hk=function(i){if(i[0]==="!")return!0;for(var e=0;e<i.length;){if(/[*?{}()[\]]/.test(i[e]))return!0;if(i[e]==="\\"){var t=i[e+1];e+=2;var r=c_[t];if(r){var s=i.indexOf(r,e);s!==-1&&(e=s+1)}if(i[e]==="!")return!0}else e++}return!1};l_.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(qk(e))return!0;var r=jk;return t&&t.strict===!1&&(r=Hk),r(e)}});var p_=Q((RL,u_)=>{"use strict";U();var Kk=Up(),Wk=Y("path").posix.dirname,Gk=Y("os").platform()==="win32",Mp="/",zk=/\\/g,$k=/[\{\[].*[\}\]]$/,Yk=/(^|[^\\])([\{\[]|\([^\)]+$)/,Zk=/\\([\!\*\?\|\[\]\(\)\{\}])/g;u_.exports=function(e,t){var r=Object.assign({flipBackslashes:!0},t);r.flipBackslashes&&Gk&&e.indexOf(Mp)<0&&(e=e.replace(zk,Mp)),$k.test(e)&&(e+=Mp),e+="a";do e=Wk(e);while(Kk(e)||Yk.test(e));return e.replace(Zk,"$1")}});var mc=Q(or=>{"use strict";U();or.isInteger=i=>typeof i=="number"?Number.isInteger(i):typeof i=="string"&&i.trim()!==""?Number.isInteger(Number(i)):!1;or.find=(i,e)=>i.nodes.find(t=>t.type===e);or.exceedsLimit=(i,e,t=1,r)=>r===!1||!or.isInteger(i)||!or.isInteger(e)?!1:(Number(e)-Number(i))/Number(t)>=r;or.escapeNode=(i,e=0,t)=>{let r=i.nodes[e];r&&(t&&r.type===t||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};or.encloseBrace=i=>i.type!=="brace"||i.commas>>0+i.ranges>>0?!1:(i.invalid=!0,!0);or.isInvalidBrace=i=>i.type!=="brace"?!1:i.invalid===!0||i.dollar?!0:!(i.commas>>0+i.ranges>>0)||i.open!==!0||i.close!==!0?(i.invalid=!0,!0):!1;or.isOpenOrClose=i=>i.type==="open"||i.type==="close"?!0:i.open===!0||i.close===!0;or.reduce=i=>i.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);or.flatten=(...i)=>{let e=[],t=r=>{for(let s=0;s<r.length;s++){let n=r[s];if(Array.isArray(n)){t(n);continue}n!==void 0&&e.push(n)}return e};return t(i),e}});var gc=Q((OL,d_)=>{"use strict";U();var f_=mc();d_.exports=(i,e={})=>{let t=(r,s={})=>{let n=e.escapeInvalid&&f_.isInvalidBrace(s),a=r.invalid===!0&&e.escapeInvalid===!0,c="";if(r.value)return(n||a)&&f_.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let l of r.nodes)c+=t(l);return c};return t(i)}});var m_=Q((PL,h_)=>{"use strict";U();h_.exports=function(i){return typeof i=="number"?i-i===0:typeof i=="string"&&i.trim()!==""?Number.isFinite?Number.isFinite(+i):isFinite(+i):!1}});var C_=Q((UL,S_)=>{"use strict";U();var g_=m_(),Yi=(i,e,t)=>{if(g_(i)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||i===e)return String(i);if(g_(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...t};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let s=String(r.relaxZeros),n=String(r.shorthand),a=String(r.capture),c=String(r.wrap),l=i+":"+e+"="+s+n+a+c;if(Yi.cache.hasOwnProperty(l))return Yi.cache[l].result;let o=Math.min(i,e),d=Math.max(i,e);if(Math.abs(o-d)===1){let h=i+"|"+e;return r.capture?`(${h})`:r.wrap===!1?h:`(?:${h})`}let u=E_(i)||E_(e),v={min:i,max:e,a:o,b:d},A=[],_=[];if(u&&(v.isPadded=u,v.maxLen=String(v.max).length),o<0){let h=d<0?Math.abs(d):1;_=v_(h,Math.abs(o),v,r),o=v.a=0}return d>=0&&(A=v_(o,d,v,r)),v.negatives=_,v.positives=A,v.result=Qk(_,A,r),r.capture===!0?v.result=`(${v.result})`:r.wrap!==!1&&A.length+_.length>1&&(v.result=`(?:${v.result})`),Yi.cache[l]=v,v.result};function Qk(i,e,t){let r=Fp(i,e,"-",!1,t)||[],s=Fp(e,i,"",!1,t)||[],n=Fp(i,e,"-?",!0,t)||[];return r.concat(n).concat(s).join("|")}function Xk(i,e){let t=1,r=1,s=__(i,t),n=new Set([e]);for(;i<=s&&s<=e;)n.add(s),t+=1,s=__(i,t);for(s=x_(e+1,r)-1;i<s&&s<=e;)n.add(s),r+=1,s=x_(e+1,r)-1;return n=[...n],n.sort(tR),n}function Jk(i,e,t){if(i===e)return{pattern:i,count:[],digits:0};let r=eR(i,e),s=r.length,n="",a=0;for(let c=0;c<s;c++){let[l,o]=r[c];l===o?n+=l:l!=="0"||o!=="9"?n+=rR(l,o,t):a++}return a&&(n+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:n,count:[a],digits:s}}function v_(i,e,t,r){let s=Xk(i,e),n=[],a=i,c;for(let l=0;l<s.length;l++){let o=s[l],d=Jk(String(a),String(o),r),u="";if(!t.isPadded&&c&&c.pattern===d.pattern){c.count.length>1&&c.count.pop(),c.count.push(d.count[0]),c.string=c.pattern+b_(c.count),a=o+1;continue}t.isPadded&&(u=iR(o,t,r)),d.string=u+d.pattern+b_(d.count),n.push(d),a=o+1,c=d}return n}function Fp(i,e,t,r,s){let n=[];for(let a of i){let{string:c}=a;!r&&!y_(e,"string",c)&&n.push(t+c),r&&y_(e,"string",c)&&n.push(t+c)}return n}function eR(i,e){let t=[];for(let r=0;r<i.length;r++)t.push([i[r],e[r]]);return t}function tR(i,e){return i>e?1:e>i?-1:0}function y_(i,e,t){return i.some(r=>r[e]===t)}function __(i,e){return Number(String(i).slice(0,-e)+"9".repeat(e))}function x_(i,e){return i-i%Math.pow(10,e)}function b_(i){let[e=0,t=""]=i;return t||e>1?`{${e+(t?","+t:"")}}`:""}function rR(i,e,t){return`[${i}${e-i===1?"":"-"}${e}]`}function E_(i){return/^-?(0+)\d/.test(i)}function iR(i,e,t){if(!e.isPadded)return i;let r=Math.abs(e.maxLen-String(i).length),s=t.relaxZeros!==!1;switch(r){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${r}}`:`0{${r}}`}}Yi.cache={};Yi.clearCache=()=>Yi.cache={};S_.exports=Yi});var jp=Q((FL,N_)=>{"use strict";U();var sR=Y("util"),T_=C_(),w_=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),nR=i=>e=>i===!0?Number(e):String(e),Vp=i=>typeof i=="number"||typeof i=="string"&&i!=="",ma=i=>Number.isInteger(+i),qp=i=>{let e=`${i}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},aR=(i,e,t)=>typeof i=="string"||typeof e=="string"?!0:t.stringify===!0,oR=(i,e,t)=>{if(e>0){let r=i[0]==="-"?"-":"";r&&(i=i.slice(1)),i=r+i.padStart(r?e-1:e,"0")}return t===!1?String(i):i},yc=(i,e)=>{let t=i[0]==="-"?"-":"";for(t&&(i=i.slice(1),e--);i.length<e;)i="0"+i;return t?"-"+i:i},cR=(i,e,t)=>{i.negatives.sort((c,l)=>c<l?-1:c>l?1:0),i.positives.sort((c,l)=>c<l?-1:c>l?1:0);let r=e.capture?"":"?:",s="",n="",a;return i.positives.length&&(s=i.positives.map(c=>yc(String(c),t)).join("|")),i.negatives.length&&(n=`-(${r}${i.negatives.map(c=>yc(String(c),t)).join("|")})`),s&&n?a=`${s}|${n}`:a=s||n,e.wrap?`(${r}${a})`:a},A_=(i,e,t,r)=>{if(t)return T_(i,e,{wrap:!1,...r});let s=String.fromCharCode(i);if(i===e)return s;let n=String.fromCharCode(e);return`[${s}-${n}]`},k_=(i,e,t)=>{if(Array.isArray(i)){let r=t.wrap===!0,s=t.capture?"":"?:";return r?`(${s}${i.join("|")})`:i.join("|")}return T_(i,e,t)},R_=(...i)=>new RangeError("Invalid range arguments: "+sR.inspect(...i)),I_=(i,e,t)=>{if(t.strictRanges===!0)throw R_([i,e]);return[]},lR=(i,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${i}" to be a number`);return[]},uR=(i,e,t=1,r={})=>{let s=Number(i),n=Number(e);if(!Number.isInteger(s)||!Number.isInteger(n)){if(r.strictRanges===!0)throw R_([i,e]);return[]}s===0&&(s=0),n===0&&(n=0);let a=s>n,c=String(i),l=String(e),o=String(t);t=Math.max(Math.abs(t),1);let d=qp(c)||qp(l)||qp(o),u=d?Math.max(c.length,l.length,o.length):0,v=d===!1&&aR(i,e,r)===!1,A=r.transform||nR(v);if(r.toRegex&&t===1)return A_(yc(i,u),yc(e,u),!0,r);let _={negatives:[],positives:[]},h=S=>_[S<0?"negatives":"positives"].push(Math.abs(S)),E=[],w=0;for(;a?s>=n:s<=n;)r.toRegex===!0&&t>1?h(s):E.push(oR(A(s,w),u,v)),s=a?s-t:s+t,w++;return r.toRegex===!0?t>1?cR(_,r,u):k_(E,null,{wrap:!1,...r}):E},pR=(i,e,t=1,r={})=>{if(!ma(i)&&i.length>1||!ma(e)&&e.length>1)return I_(i,e,r);let s=r.transform||(v=>String.fromCharCode(v)),n=`${i}`.charCodeAt(0),a=`${e}`.charCodeAt(0),c=n>a,l=Math.min(n,a),o=Math.max(n,a);if(r.toRegex&&t===1)return A_(l,o,!1,r);let d=[],u=0;for(;c?n>=a:n<=a;)d.push(s(n,u)),n=c?n-t:n+t,u++;return r.toRegex===!0?k_(d,null,{wrap:!1,options:r}):d},vc=(i,e,t,r={})=>{if(e==null&&Vp(i))return[i];if(!Vp(i)||!Vp(e))return I_(i,e,r);if(typeof t=="function")return vc(i,e,1,{transform:t});if(w_(t))return vc(i,e,0,t);let s={...r};return s.capture===!0&&(s.wrap=!0),t=t||s.step||1,ma(t)?ma(i)&&ma(e)?uR(i,e,t,s):pR(i,e,Math.max(Math.abs(t),1),s):t!=null&&!w_(t)?lR(t,s):vc(i,e,1,t)};N_.exports=vc});var L_=Q((qL,O_)=>{"use strict";U();var fR=jp(),B_=mc(),dR=(i,e={})=>{let t=(r,s={})=>{let n=B_.isInvalidBrace(s),a=r.invalid===!0&&e.escapeInvalid===!0,c=n===!0||a===!0,l=e.escapeInvalid===!0?"\\":"",o="";if(r.isOpen===!0)return l+r.value;if(r.isClose===!0)return console.log("node.isClose",l,r.value),l+r.value;if(r.type==="open")return c?l+r.value:"(";if(r.type==="close")return c?l+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":c?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let d=B_.reduce(r.nodes),u=fR(...d,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(u.length!==0)return d.length>1&&u.length>1?`(${u})`:u}if(r.nodes)for(let d of r.nodes)o+=t(d,r);return o};return t(i)};O_.exports=dR});var U_=Q((HL,D_)=>{"use strict";U();var hR=jp(),P_=gc(),Ms=mc(),Zi=(i="",e="",t=!1)=>{let r=[];if(i=[].concat(i),e=[].concat(e),!e.length)return i;if(!i.length)return t?Ms.flatten(e).map(s=>`{${s}}`):e;for(let s of i)if(Array.isArray(s))for(let n of s)r.push(Zi(n,e,t));else for(let n of e)t===!0&&typeof n=="string"&&(n=`{${n}}`),r.push(Array.isArray(n)?Zi(s,n,t):s+n);return Ms.flatten(r)},mR=(i,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,r=(s,n={})=>{s.queue=[];let a=n,c=n.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,c=a.queue;if(s.invalid||s.dollar){c.push(Zi(c.pop(),P_(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){c.push(Zi(c.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let u=Ms.reduce(s.nodes);if(Ms.exceedsLimit(...u,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let v=hR(...u,e);v.length===0&&(v=P_(s,e)),c.push(Zi(c.pop(),v)),s.nodes=[];return}let l=Ms.encloseBrace(s),o=s.queue,d=s;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,o=d.queue;for(let u=0;u<s.nodes.length;u++){let v=s.nodes[u];if(v.type==="comma"&&s.type==="brace"){u===1&&o.push(""),o.push("");continue}if(v.type==="close"){c.push(Zi(c.pop(),o,l));continue}if(v.value&&v.type!=="open"){o.push(Zi(o.pop(),v.value));continue}v.nodes&&r(v,s)}return o};return Ms.flatten(r(i))};D_.exports=mR});var F_=Q((WL,M_)=>{"use strict";U();M_.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var K_=Q((zL,H_)=>{"use strict";U();var gR=gc(),{MAX_LENGTH:V_,CHAR_BACKSLASH:Hp,CHAR_BACKTICK:vR,CHAR_COMMA:yR,CHAR_DOT:_R,CHAR_LEFT_PARENTHESES:xR,CHAR_RIGHT_PARENTHESES:bR,CHAR_LEFT_CURLY_BRACE:ER,CHAR_RIGHT_CURLY_BRACE:SR,CHAR_LEFT_SQUARE_BRACKET:q_,CHAR_RIGHT_SQUARE_BRACKET:j_,CHAR_DOUBLE_QUOTE:CR,CHAR_SINGLE_QUOTE:wR,CHAR_NO_BREAK_SPACE:TR,CHAR_ZERO_WIDTH_NOBREAK_SPACE:AR}=F_(),kR=(i,e={})=>{if(typeof i!="string")throw new TypeError("Expected a string");let t=e||{},r=typeof t.maxLength=="number"?Math.min(V_,t.maxLength):V_;if(i.length>r)throw new SyntaxError(`Input length (${i.length}), exceeds max characters (${r})`);let s={type:"root",input:i,nodes:[]},n=[s],a=s,c=s,l=0,o=i.length,d=0,u=0,v,A=()=>i[d++],_=h=>{if(h.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&h.type==="text"){c.value+=h.value;return}return a.nodes.push(h),h.parent=a,h.prev=c,c=h,h};for(_({type:"bos"});d<o;)if(a=n[n.length-1],v=A(),!(v===AR||v===TR)){if(v===Hp){_({type:"text",value:(e.keepEscaping?v:"")+A()});continue}if(v===j_){_({type:"text",value:"\\"+v});continue}if(v===q_){l++;let h;for(;d<o&&(h=A());){if(v+=h,h===q_){l++;continue}if(h===Hp){v+=A();continue}if(h===j_&&(l--,l===0))break}_({type:"text",value:v});continue}if(v===xR){a=_({type:"paren",nodes:[]}),n.push(a),_({type:"text",value:v});continue}if(v===bR){if(a.type!=="paren"){_({type:"text",value:v});continue}a=n.pop(),_({type:"text",value:v}),a=n[n.length-1];continue}if(v===CR||v===wR||v===vR){let h=v,E;for(e.keepQuotes!==!0&&(v="");d<o&&(E=A());){if(E===Hp){v+=E+A();continue}if(E===h){e.keepQuotes===!0&&(v+=E);break}v+=E}_({type:"text",value:v});continue}if(v===ER){u++;let E={type:"brace",open:!0,close:!1,dollar:c.value&&c.value.slice(-1)==="$"||a.dollar===!0,depth:u,commas:0,ranges:0,nodes:[]};a=_(E),n.push(a),_({type:"open",value:v});continue}if(v===SR){if(a.type!=="brace"){_({type:"text",value:v});continue}let h="close";a=n.pop(),a.close=!0,_({type:h,value:v}),u--,a=n[n.length-1];continue}if(v===yR&&u>0){if(a.ranges>0){a.ranges=0;let h=a.nodes.shift();a.nodes=[h,{type:"text",value:gR(a)}]}_({type:"comma",value:v}),a.commas++;continue}if(v===_R&&u>0&&a.commas===0){let h=a.nodes;if(u===0||h.length===0){_({type:"text",value:v});continue}if(c.type==="dot"){if(a.range=[],c.value+=v,c.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,c.type="text";continue}a.ranges++,a.args=[];continue}if(c.type==="range"){h.pop();let E=h[h.length-1];E.value+=c.value+v,c=E,a.ranges--;continue}_({type:"dot",value:v});continue}_({type:"text",value:v})}do if(a=n.pop(),a.type!=="root"){a.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let h=n[n.length-1],E=h.nodes.indexOf(a);h.nodes.splice(E,1,...a.nodes)}while(n.length>0);return _({type:"eos"}),s};H_.exports=kR});var z_=Q((YL,G_)=>{"use strict";U();var W_=gc(),RR=L_(),IR=U_(),NR=K_(),er=(i,e={})=>{let t=[];if(Array.isArray(i))for(let r of i){let s=er.create(r,e);Array.isArray(s)?t.push(...s):t.push(s)}else t=[].concat(er.create(i,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};er.parse=(i,e={})=>NR(i,e);er.stringify=(i,e={})=>W_(typeof i=="string"?er.parse(i,e):i,e);er.compile=(i,e={})=>(typeof i=="string"&&(i=er.parse(i,e)),RR(i,e));er.expand=(i,e={})=>{typeof i=="string"&&(i=er.parse(i,e));let t=IR(i,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};er.create=(i,e={})=>i===""||i.length<3?[i]:e.expand!==!0?er.compile(i,e):er.expand(i,e);G_.exports=er});var $_=Q((QL,BR)=>{BR.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var Z_=Q((XL,Y_)=>{"use strict";U();Y_.exports=$_()});var X_=Q((eP,Q_)=>{"use strict";U();var OR=Y("path"),LR=Z_(),PR=new Set(LR);Q_.exports=i=>PR.has(OR.extname(i).slice(1).toLowerCase())});var _c=Q(ge=>{"use strict";U();var{sep:DR}=Y("path"),{platform:Kp}=process,UR=Y("os");ge.EV_ALL="all";ge.EV_READY="ready";ge.EV_ADD="add";ge.EV_CHANGE="change";ge.EV_ADD_DIR="addDir";ge.EV_UNLINK="unlink";ge.EV_UNLINK_DIR="unlinkDir";ge.EV_RAW="raw";ge.EV_ERROR="error";ge.STR_DATA="data";ge.STR_END="end";ge.STR_CLOSE="close";ge.FSEVENT_CREATED="created";ge.FSEVENT_MODIFIED="modified";ge.FSEVENT_DELETED="deleted";ge.FSEVENT_MOVED="moved";ge.FSEVENT_CLONED="cloned";ge.FSEVENT_UNKNOWN="unknown";ge.FSEVENT_FLAG_MUST_SCAN_SUBDIRS=1;ge.FSEVENT_TYPE_FILE="file";ge.FSEVENT_TYPE_DIRECTORY="directory";ge.FSEVENT_TYPE_SYMLINK="symlink";ge.KEY_LISTENERS="listeners";ge.KEY_ERR="errHandlers";ge.KEY_RAW="rawEmitters";ge.HANDLER_KEYS=[ge.KEY_LISTENERS,ge.KEY_ERR,ge.KEY_RAW];ge.DOT_SLASH=`.${DR}`;ge.BACK_SLASH_RE=/\\/g;ge.DOUBLE_SLASH_RE=/\/\//;ge.SLASH_OR_BACK_SLASH_RE=/[/\\]/;ge.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;ge.REPLACER_RE=/^\.[/\\]/;ge.SLASH="/";ge.SLASH_SLASH="//";ge.BRACE_START="{";ge.BANG="!";ge.ONE_DOT=".";ge.TWO_DOTS="..";ge.STAR="*";ge.GLOBSTAR="**";ge.ROOT_GLOBSTAR="/**/*";ge.SLASH_GLOBSTAR="/**";ge.DIR_SUFFIX="Dir";ge.ANYMATCH_OPTS={dot:!0};ge.STRING_TYPE="string";ge.FUNCTION_TYPE="function";ge.EMPTY_STR="";ge.EMPTY_FN=()=>{};ge.IDENTITY_FN=i=>i;ge.isWindows=Kp==="win32";ge.isMacos=Kp==="darwin";ge.isLinux=Kp==="linux";ge.isIBMi=UR.type()==="OS400"});var s1=Q((sP,i1)=>{"use strict";U();var ii=Y("fs"),wt=Y("path"),{promisify:_a}=Y("util"),MR=X_(),{isWindows:FR,isLinux:VR,EMPTY_FN:qR,EMPTY_STR:jR,KEY_LISTENERS:Fs,KEY_ERR:Wp,KEY_RAW:ga,HANDLER_KEYS:HR,EV_CHANGE:bc,EV_ADD:xc,EV_ADD_DIR:KR,EV_ERROR:e1,STR_DATA:WR,STR_END:GR,BRACE_START:zR,STAR:$R}=_c(),YR="watch",ZR=_a(ii.open),t1=_a(ii.stat),QR=_a(ii.lstat),XR=_a(ii.close),Gp=_a(ii.realpath),JR={lstat:QR,stat:t1},$p=(i,e)=>{i instanceof Set?i.forEach(e):e(i)},va=(i,e,t)=>{let r=i[e];r instanceof Set||(i[e]=r=new Set([r])),r.add(t)},eI=i=>e=>{let t=i[e];t instanceof Set?t.clear():delete i[e]},ya=(i,e,t)=>{let r=i[e];r instanceof Set?r.delete(t):r===t&&delete i[e]},r1=i=>i instanceof Set?i.size===0:!i,Ec=new Map;function J_(i,e,t,r,s){let n=(a,c)=>{t(i),s(a,c,{watchedPath:i}),c&&i!==c&&Sc(wt.resolve(i,c),Fs,wt.join(i,c))};try{return ii.watch(i,e,n)}catch(a){r(a)}}var Sc=(i,e,t,r,s)=>{let n=Ec.get(i);n&&$p(n[e],a=>{a(t,r,s)})},tI=(i,e,t,r)=>{let{listener:s,errHandler:n,rawEmitter:a}=r,c=Ec.get(e),l;if(!t.persistent)return l=J_(i,t,s,n,a),l.close.bind(l);if(c)va(c,Fs,s),va(c,Wp,n),va(c,ga,a);else{if(l=J_(i,t,Sc.bind(null,e,Fs),n,Sc.bind(null,e,ga)),!l)return;l.on(e1,async o=>{let d=Sc.bind(null,e,Wp);if(c.watcherUnusable=!0,FR&&o.code==="EPERM")try{let u=await ZR(i,"r");await XR(u),d(o)}catch{}else d(o)}),c={listeners:s,errHandlers:n,rawEmitters:a,watcher:l},Ec.set(e,c)}return()=>{ya(c,Fs,s),ya(c,Wp,n),ya(c,ga,a),r1(c.listeners)&&(c.watcher.close(),Ec.delete(e),HR.forEach(eI(c)),c.watcher=void 0,Object.freeze(c))}},zp=new Map,rI=(i,e,t,r)=>{let{listener:s,rawEmitter:n}=r,a=zp.get(e),c=new Set,l=new Set,o=a&&a.options;return o&&(o.persistent<t.persistent||o.interval>t.interval)&&(c=a.listeners,l=a.rawEmitters,ii.unwatchFile(e),a=void 0),a?(va(a,Fs,s),va(a,ga,n)):(a={listeners:s,rawEmitters:n,options:t,watcher:ii.watchFile(e,t,(d,u)=>{$p(a.rawEmitters,A=>{A(bc,e,{curr:d,prev:u})});let v=d.mtimeMs;(d.size!==u.size||v>u.mtimeMs||v===0)&&$p(a.listeners,A=>A(i,d))})},zp.set(e,a)),()=>{ya(a,Fs,s),ya(a,ga,n),r1(a.listeners)&&(zp.delete(e),ii.unwatchFile(e),a.options=a.watcher=void 0,Object.freeze(a))}},Yp=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){let r=this.fsw.options,s=wt.dirname(e),n=wt.basename(e);this.fsw._getWatchedDir(s).add(n);let c=wt.resolve(e),l={persistent:r.persistent};t||(t=qR);let o;return r.usePolling?(l.interval=r.enableBinaryInterval&&MR(n)?r.binaryInterval:r.interval,o=rI(e,c,l,{listener:t,rawEmitter:this.fsw._emitRaw})):o=tI(e,c,l,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),o}_handleFile(e,t,r){if(this.fsw.closed)return;let s=wt.dirname(e),n=wt.basename(e),a=this.fsw._getWatchedDir(s),c=t;if(a.has(n))return;let l=async(d,u)=>{if(this.fsw._throttle(YR,e,5)){if(!u||u.mtimeMs===0)try{let v=await t1(e);if(this.fsw.closed)return;let A=v.atimeMs,_=v.mtimeMs;(!A||A<=_||_!==c.mtimeMs)&&this.fsw._emit(bc,e,v),VR&&c.ino!==v.ino?(this.fsw._closeFile(d),c=v,this.fsw._addPathCloser(d,this._watchWithNodeFs(e,l))):c=v}catch{this.fsw._remove(s,n)}else if(a.has(n)){let v=u.atimeMs,A=u.mtimeMs;(!v||v<=A||A!==c.mtimeMs)&&this.fsw._emit(bc,e,u),c=u}}},o=this._watchWithNodeFs(e,l);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(xc,e,0))return;this.fsw._emit(xc,e,t)}return o}async _handleSymlink(e,t,r,s){if(this.fsw.closed)return;let n=e.fullPath,a=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let c;try{c=await Gp(r)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(a.has(s)?this.fsw._symlinkPaths.get(n)!==c&&(this.fsw._symlinkPaths.set(n,c),this.fsw._emit(bc,r,e.stats)):(a.add(s),this.fsw._symlinkPaths.set(n,c),this.fsw._emit(xc,r,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(n))return!0;this.fsw._symlinkPaths.set(n,!0)}_handleRead(e,t,r,s,n,a,c){if(e=wt.join(e,jR),!r.hasGlob&&(c=this.fsw._throttle("readdir",e,1e3),!c))return;let l=this.fsw._getWatchedDir(r.path),o=new Set,d=this.fsw._readdirp(e,{fileFilter:u=>r.filterPath(u),directoryFilter:u=>r.filterDir(u),depth:0}).on(WR,async u=>{if(this.fsw.closed){d=void 0;return}let v=u.path,A=wt.join(e,v);if(o.add(v),!(u.stats.isSymbolicLink()&&await this._handleSymlink(u,e,A,v))){if(this.fsw.closed){d=void 0;return}(v===s||!s&&!l.has(v))&&(this.fsw._incrReadyCount(),A=wt.join(n,wt.relative(n,A)),this._addToNodeFs(A,t,r,a+1))}}).on(e1,this._boundHandleError);return new Promise(u=>d.once(GR,()=>{if(this.fsw.closed){d=void 0;return}let v=c?c.clear():!1;u(),l.getChildren().filter(A=>A!==e&&!o.has(A)&&(!r.hasGlob||r.filterPath({fullPath:wt.resolve(e,A)}))).forEach(A=>{this.fsw._remove(e,A)}),d=void 0,v&&this._handleRead(e,!1,r,s,n,a,c)}))}async _handleDir(e,t,r,s,n,a,c){let l=this.fsw._getWatchedDir(wt.dirname(e)),o=l.has(wt.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!n&&!o&&(!a.hasGlob||a.globFilter(e))&&this.fsw._emit(KR,e,t),l.add(wt.basename(e)),this.fsw._getWatchedDir(e);let d,u,v=this.fsw.options.depth;if((v==null||s<=v)&&!this.fsw._symlinkPaths.has(c)){if(!n&&(await this._handleRead(e,r,a,n,e,s,d),this.fsw.closed))return;u=this._watchWithNodeFs(e,(A,_)=>{_&&_.mtimeMs===0||this._handleRead(A,!1,a,n,e,s,d)})}return u}async _addToNodeFs(e,t,r,s,n){let a=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return a(),!1;let c=this.fsw._getWatchHelpers(e,s);!c.hasGlob&&r&&(c.hasGlob=r.hasGlob,c.globFilter=r.globFilter,c.filterPath=l=>r.filterPath(l),c.filterDir=l=>r.filterDir(l));try{let l=await JR[c.statMethod](c.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(c.watchPath,l))return a(),!1;let o=this.fsw.options.followSymlinks&&!e.includes($R)&&!e.includes(zR),d;if(l.isDirectory()){let u=wt.resolve(e),v=o?await Gp(e):e;if(this.fsw.closed||(d=await this._handleDir(c.watchPath,l,t,s,n,c,v),this.fsw.closed))return;u!==v&&v!==void 0&&this.fsw._symlinkPaths.set(u,v)}else if(l.isSymbolicLink()){let u=o?await Gp(e):e;if(this.fsw.closed)return;let v=wt.dirname(c.watchPath);if(this.fsw._getWatchedDir(v).add(c.watchPath),this.fsw._emit(xc,c.watchPath,l),d=await this._handleDir(v,l,t,s,e,c,u),this.fsw.closed)return;u!==void 0&&this.fsw._symlinkPaths.set(wt.resolve(e),u)}else d=this._handleFile(c.watchPath,l,t);return a(),this.fsw._addPathCloser(e,d),!1}catch(l){if(this.fsw._handleError(l))return a(),e}}};i1.exports=Yp});var p1=Q((aP,sf)=>{"use strict";U();var tf=Y("fs"),Tt=Y("path"),{promisify:rf}=Y("util"),Vs;try{Vs=Y("fsevents")}catch(i){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(i)}if(Vs){let i=process.version.match(/v(\d+)\.(\d+)/);if(i&&i[1]&&i[2]){let e=Number.parseInt(i[1],10),t=Number.parseInt(i[2],10);e===8&&t<16&&(Vs=void 0)}}var{EV_ADD:Zp,EV_CHANGE:iI,EV_ADD_DIR:n1,EV_UNLINK:Cc,EV_ERROR:sI,STR_DATA:nI,STR_END:aI,FSEVENT_CREATED:oI,FSEVENT_MODIFIED:cI,FSEVENT_DELETED:lI,FSEVENT_MOVED:uI,FSEVENT_UNKNOWN:pI,FSEVENT_FLAG_MUST_SCAN_SUBDIRS:fI,FSEVENT_TYPE_FILE:dI,FSEVENT_TYPE_DIRECTORY:xa,FSEVENT_TYPE_SYMLINK:u1,ROOT_GLOBSTAR:a1,DIR_SUFFIX:hI,DOT_SLASH:o1,FUNCTION_TYPE:Qp,EMPTY_FN:mI,IDENTITY_FN:gI}=_c(),vI=i=>isNaN(i)?{}:{depth:i},Jp=rf(tf.stat),yI=rf(tf.lstat),c1=rf(tf.realpath),_I={stat:Jp,lstat:yI},Qi=new Map,xI=10,bI=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),EI=(i,e)=>({stop:Vs.watch(i,e)});function SI(i,e,t,r){let s=Tt.extname(e)?Tt.dirname(e):e,n=Tt.dirname(s),a=Qi.get(s);CI(n)&&(s=n);let c=Tt.resolve(i),l=c!==e,o=(u,v,A)=>{l&&(u=u.replace(e,c)),(u===c||!u.indexOf(c+Tt.sep))&&t(u,v,A)},d=!1;for(let u of Qi.keys())if(e.indexOf(Tt.resolve(u)+Tt.sep)===0){s=u,a=Qi.get(s),d=!0;break}return a||d?a.listeners.add(o):(a={listeners:new Set([o]),rawEmitter:r,watcher:EI(s,(u,v)=>{if(!a.listeners.size||v&fI)return;let A=Vs.getInfo(u,v);a.listeners.forEach(_=>{_(u,v,A)}),a.rawEmitter(A.event,u,A)})},Qi.set(s,a)),()=>{let u=a.listeners;if(u.delete(o),!u.size&&(Qi.delete(s),a.watcher))return a.watcher.stop().then(()=>{a.rawEmitter=a.watcher=void 0,Object.freeze(a)})}}var CI=i=>{let e=0;for(let t of Qi.keys())if(t.indexOf(i)===0&&(e++,e>=xI))return!0;return!1},wI=()=>Vs&&Qi.size<128,Xp=(i,e)=>{let t=0;for(;!i.indexOf(e)&&(i=Tt.dirname(i))!==e;)t++;return t},l1=(i,e)=>i.type===xa&&e.isDirectory()||i.type===u1&&e.isSymbolicLink()||i.type===dI&&e.isFile(),ef=class{constructor(e){this.fsw=e}checkIgnored(e,t){let r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+a1),!0;r.delete(e),r.delete(e+a1)}addOrChange(e,t,r,s,n,a,c,l){let o=n.has(a)?iI:Zp;this.handleEvent(o,e,t,r,s,n,a,c,l)}async checkExists(e,t,r,s,n,a,c,l){try{let o=await Jp(e);if(this.fsw.closed)return;l1(c,o)?this.addOrChange(e,t,r,s,n,a,c,l):this.handleEvent(Cc,e,t,r,s,n,a,c,l)}catch(o){o.code==="EACCES"?this.addOrChange(e,t,r,s,n,a,c,l):this.handleEvent(Cc,e,t,r,s,n,a,c,l)}}handleEvent(e,t,r,s,n,a,c,l,o){if(!(this.fsw.closed||this.checkIgnored(t)))if(e===Cc){let d=l.type===xa;(d||a.has(c))&&this.fsw._remove(n,c,d)}else{if(e===Zp){if(l.type===xa&&this.fsw._getWatchedDir(t),l.type===u1&&o.followSymlinks){let u=o.depth===void 0?void 0:Xp(r,s)+1;return this._addToFsEvents(t,!1,!0,u)}this.fsw._getWatchedDir(n).add(c)}let d=l.type===xa?e+hI:e;this.fsw._emit(d,t),d===n1&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,s){if(this.fsw.closed||this.fsw._isIgnored(e))return;let n=this.fsw.options,c=SI(e,t,async(l,o,d)=>{if(this.fsw.closed||n.depth!==void 0&&Xp(l,t)>n.depth)return;let u=r(Tt.join(e,Tt.relative(e,l)));if(s&&!s(u))return;let v=Tt.dirname(u),A=Tt.basename(u),_=this.fsw._getWatchedDir(d.type===xa?u:v);if(bI.has(o)||d.event===pI)if(typeof n.ignored===Qp){let h;try{h=await Jp(u)}catch{}if(this.fsw.closed||this.checkIgnored(u,h))return;l1(d,h)?this.addOrChange(u,l,t,v,_,A,d,n):this.handleEvent(Cc,u,l,t,v,_,A,d,n)}else this.checkExists(u,l,t,v,_,A,d,n);else switch(d.event){case oI:case cI:return this.addOrChange(u,l,t,v,_,A,d,n);case lI:case uI:return this.checkExists(u,l,t,v,_,A,d,n)}},this.fsw._emitRaw);return this.fsw._emitReady(),c}async _handleFsEventsSymlink(e,t,r,s){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(t))){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{let n=await c1(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(n))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(n||e,a=>{let c=e;return n&&n!==o1?c=a.replace(n,e):a!==o1&&(c=Tt.join(e,a)),r(c)},!1,s)}catch(n){if(this.fsw._handleError(n))return this.fsw._emitReady()}}}emitAdd(e,t,r,s,n){let a=r(e),c=t.isDirectory(),l=this.fsw._getWatchedDir(Tt.dirname(a)),o=Tt.basename(a);c&&this.fsw._getWatchedDir(a),!l.has(o)&&(l.add(o),(!s.ignoreInitial||n===!0)&&this.fsw._emit(c?n1:Zp,a,t))}initWatch(e,t,r,s){if(this.fsw.closed)return;let n=this._watchWithFsEvents(r.watchPath,Tt.resolve(e||r.watchPath),s,r.globFilter);this.fsw._addPathCloser(t,n)}async _addToFsEvents(e,t,r,s){if(this.fsw.closed)return;let n=this.fsw.options,a=typeof t===Qp?t:gI,c=this.fsw._getWatchHelpers(e);try{let l=await _I[c.statMethod](c.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(c.watchPath,l))throw null;if(l.isDirectory()){if(c.globFilter||this.emitAdd(a(e),l,a,n,r),s&&s>n.depth)return;this.fsw._readdirp(c.watchPath,{fileFilter:o=>c.filterPath(o),directoryFilter:o=>c.filterDir(o),...vI(n.depth-(s||0))}).on(nI,o=>{if(this.fsw.closed||o.stats.isDirectory()&&!c.filterPath(o))return;let d=Tt.join(c.watchPath,o.path),{fullPath:u}=o;if(c.followSymlinks&&o.stats.isSymbolicLink()){let v=n.depth===void 0?void 0:Xp(d,Tt.resolve(c.watchPath))+1;this._handleFsEventsSymlink(d,u,a,v)}else this.emitAdd(d,o.stats,a,n,r)}).on(sI,mI).on(aI,()=>{this.fsw._emitReady()})}else this.emitAdd(c.watchPath,l,a,n,r),this.fsw._emitReady()}catch(l){(!l||this.fsw._handleError(l))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(n.persistent&&r!==!0)if(typeof t===Qp)this.initWatch(void 0,e,c,a);else{let l;try{l=await c1(c.watchPath)}catch{}this.initWatch(l,e,c,a)}}};sf.exports=ef;sf.exports.canUse=wI});var xf=Q(_f=>{"use strict";U();var{EventEmitter:TI}=Y("events"),vf=Y("fs"),Le=Y("path"),{promisify:y1}=Y("util"),AI=J0(),uf=n_().default,kI=p_(),nf=Up(),RI=z_(),II=Oc(),NI=s1(),f1=p1(),{EV_ALL:af,EV_READY:BI,EV_ADD:wc,EV_CHANGE:ba,EV_UNLINK:d1,EV_ADD_DIR:OI,EV_UNLINK_DIR:LI,EV_RAW:PI,EV_ERROR:of,STR_CLOSE:DI,STR_END:UI,BACK_SLASH_RE:MI,DOUBLE_SLASH_RE:h1,SLASH_OR_BACK_SLASH_RE:FI,DOT_RE:VI,REPLACER_RE:qI,SLASH:cf,SLASH_SLASH:jI,BRACE_START:HI,BANG:pf,ONE_DOT:_1,TWO_DOTS:KI,GLOBSTAR:WI,SLASH_GLOBSTAR:lf,ANYMATCH_OPTS:ff,STRING_TYPE:yf,FUNCTION_TYPE:GI,EMPTY_STR:df,EMPTY_FN:zI,isWindows:$I,isMacos:YI,isIBMi:ZI}=_c(),QI=y1(vf.stat),XI=y1(vf.readdir),hf=(i=[])=>Array.isArray(i)?i:[i],x1=(i,e=[])=>(i.forEach(t=>{Array.isArray(t)?x1(t,e):e.push(t)}),e),m1=i=>{let e=x1(hf(i));if(!e.every(t=>typeof t===yf))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(b1)},g1=i=>{let e=i.replace(MI,cf),t=!1;for(e.startsWith(jI)&&(t=!0);e.match(h1);)e=e.replace(h1,cf);return t&&(e=cf+e),e},b1=i=>g1(Le.normalize(g1(i))),v1=(i=df)=>e=>typeof e!==yf?e:b1(Le.isAbsolute(e)?e:Le.join(i,e)),JI=(i,e)=>Le.isAbsolute(i)?i:i.startsWith(pf)?pf+Le.join(e,i.slice(1)):Le.join(e,i),Cr=(i,e)=>i[e]===void 0,mf=class{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){let{items:t}=this;t&&e!==_1&&e!==KI&&t.add(e)}async remove(e){let{items:t}=this;if(!t||(t.delete(e),t.size>0))return;let r=this.path;try{await XI(r)}catch{this._removeWatcher&&this._removeWatcher(Le.dirname(r),Le.basename(r))}}has(e){let{items:t}=this;if(t)return t.has(e)}getChildren(){let{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},eN="stat",tN="lstat",gf=class{constructor(e,t,r,s){this.fsw=s,this.path=e=e.replace(qI,df),this.watchPath=t,this.fullWatchPath=Le.resolve(t),this.hasGlob=t!==e,e===df&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&r?void 0:!1,this.globFilter=this.hasGlob?uf(e,void 0,ff):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(n=>{n.length>1&&n.pop()}),this.followSymlinks=r,this.statMethod=r?eN:tN}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return Le.join(this.watchPath,Le.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);let r=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===GI?this.globFilter(r):!0)&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];let t=[];return(e.includes(HI)?RI.expand(e):[e]).forEach(s=>{t.push(Le.relative(this.watchPath,s).split(FI))}),t}filterDir(e){if(this.hasGlob){let t=this.getDirParts(this.checkGlobSymlink(e)),r=!1;this.unmatchedGlob=!this.dirParts.some(s=>s.every((n,a)=>(n===WI&&(r=!0),r||!t[0][a]||uf(n,t[0][a],ff))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},Tc=class extends TI{constructor(e){super();let t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,Cr(t,"persistent")&&(t.persistent=!0),Cr(t,"ignoreInitial")&&(t.ignoreInitial=!1),Cr(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),Cr(t,"interval")&&(t.interval=100),Cr(t,"binaryInterval")&&(t.binaryInterval=300),Cr(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,Cr(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),f1.canUse()||(t.useFsEvents=!1),Cr(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=YI),ZI&&(t.usePolling=!0);let s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){let l=s.toLowerCase();l==="false"||l==="0"?t.usePolling=!1:l==="true"||l==="1"?t.usePolling=!0:t.usePolling=!!l}let n=process.env.CHOKIDAR_INTERVAL;n&&(t.interval=Number.parseInt(n,10)),Cr(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),Cr(t,"followSymlinks")&&(t.followSymlinks=!0),Cr(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),t.awaitWriteFinish===!0&&(t.awaitWriteFinish={});let a=t.awaitWriteFinish;a&&(a.stabilityThreshold||(a.stabilityThreshold=2e3),a.pollInterval||(a.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=hf(t.ignored));let c=0;this._emitReady=()=>{c++,c>=this._readyCount&&(this._emitReady=zI,this._readyEmitted=!0,process.nextTick(()=>this.emit(BI)))},this._emitRaw=(...l)=>this.emit(PI,...l),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new f1(this):this._nodeFsHandler=new NI(this),Object.freeze(t)}add(e,t,r){let{cwd:s,disableGlobbing:n}=this.options;this.closed=!1;let a=m1(e);return s&&(a=a.map(c=>{let l=JI(c,s);return n||!nf(c)?l:II(l)})),a=a.filter(c=>c.startsWith(pf)?(this._ignoredPaths.add(c.slice(1)),!1):(this._ignoredPaths.delete(c),this._ignoredPaths.delete(c+lf),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=a.length),this.options.persistent&&(this._readyCount+=a.length),a.forEach(c=>this._fsEventsHandler._addToFsEvents(c))):(this._readyCount||(this._readyCount=0),this._readyCount+=a.length,Promise.all(a.map(async c=>{let l=await this._nodeFsHandler._addToNodeFs(c,!r,0,0,t);return l&&this._emitReady(),l})).then(c=>{this.closed||c.filter(l=>l).forEach(l=>{this.add(Le.dirname(l),Le.basename(t||l))})})),this}unwatch(e){if(this.closed)return this;let t=m1(e),{cwd:r}=this.options;return t.forEach(s=>{!Le.isAbsolute(s)&&!this._closers.has(s)&&(r&&(s=Le.join(r,s)),s=Le.resolve(s)),this._closePath(s),this._ignoredPaths.add(s),this._watched.has(s)&&this._ignoredPaths.add(s+lf),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(t=>t.forEach(r=>{let s=r();s instanceof Promise&&e.push(s)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((t,r)=>{let s=this.options.cwd?Le.relative(this.options.cwd,r):r;e[s||_1]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==of&&this.emit(af,...t)}async _emit(e,t,r,s,n){if(this.closed)return;let a=this.options;$I&&(t=Le.normalize(t)),a.cwd&&(t=Le.relative(a.cwd,t));let c=[e,t];n!==void 0?c.push(r,s,n):s!==void 0?c.push(r,s):r!==void 0&&c.push(r);let l=a.awaitWriteFinish,o;if(l&&(o=this._pendingWrites.get(t)))return o.lastChange=new Date,this;if(a.atomic){if(e===d1)return this._pendingUnlinks.set(t,c),setTimeout(()=>{this._pendingUnlinks.forEach((d,u)=>{this.emit(...d),this.emit(af,...d),this._pendingUnlinks.delete(u)})},typeof a.atomic=="number"?a.atomic:100),this;e===wc&&this._pendingUnlinks.has(t)&&(e=c[0]=ba,this._pendingUnlinks.delete(t))}if(l&&(e===wc||e===ba)&&this._readyEmitted){let d=(u,v)=>{u?(e=c[0]=of,c[1]=u,this.emitWithAll(e,c)):v&&(c.length>2?c[2]=v:c.push(v),this.emitWithAll(e,c))};return this._awaitWriteFinish(t,l.stabilityThreshold,e,d),this}if(e===ba&&!this._throttle(ba,t,50))return this;if(a.alwaysStat&&r===void 0&&(e===wc||e===OI||e===ba)){let d=a.cwd?Le.join(a.cwd,t):t,u;try{u=await QI(d)}catch{}if(!u||this.closed)return;c.push(u)}return this.emitWithAll(e,c),this}_handleError(e){let t=e&&e.code;return e&&t!=="ENOENT"&&t!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||t!=="EPERM"&&t!=="EACCES")&&this.emit(of,e),e||this.closed}_throttle(e,t,r){this._throttled.has(e)||this._throttled.set(e,new Map);let s=this._throttled.get(e),n=s.get(t);if(n)return n.count++,!1;let a,c=()=>{let o=s.get(t),d=o?o.count:0;return s.delete(t),clearTimeout(a),o&&clearTimeout(o.timeoutObject),d};a=setTimeout(c,r);let l={timeoutObject:a,clear:c,count:0};return s.set(t,l),l}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,s){let n,a=e;this.options.cwd&&!Le.isAbsolute(e)&&(a=Le.join(this.options.cwd,e));let c=new Date,l=o=>{vf.stat(a,(d,u)=>{if(d||!this._pendingWrites.has(e)){d&&d.code!=="ENOENT"&&s(d);return}let v=Number(new Date);o&&u.size!==o.size&&(this._pendingWrites.get(e).lastChange=v);let A=this._pendingWrites.get(e);v-A.lastChange>=t?(this._pendingWrites.delete(e),s(void 0,u)):n=setTimeout(l,this.options.awaitWriteFinish.pollInterval,u)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:c,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(n),r)}),n=setTimeout(l,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&VI.test(e))return!0;if(!this._userIgnored){let{cwd:r}=this.options,s=this.options.ignored,n=s&&s.map(v1(r)),a=hf(n).filter(l=>typeof l===yf&&!nf(l)).map(l=>l+lf),c=this._getGlobIgnored().map(v1(r)).concat(n,a);this._userIgnored=uf(c,void 0,ff)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){let r=t||this.options.disableGlobbing||!nf(e)?e:kI(e),s=this.options.followSymlinks;return new gf(e,r,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let t=Le.resolve(e);return this._watched.has(t)||this._watched.set(t,new mf(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let r=(e&&Number.parseInt(e.mode,10))&511;return!!(4&Number.parseInt(r.toString(8)[0],10))}_remove(e,t,r){let s=Le.join(e,t),n=Le.resolve(s);if(r=r??(this._watched.has(s)||this._watched.has(n)),!this._throttle("remove",s,100))return;!r&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,t,!0),this._getWatchedDir(s).getChildren().forEach(v=>this._remove(s,v));let l=this._getWatchedDir(e),o=l.has(t);l.remove(t),this._symlinkPaths.has(n)&&this._symlinkPaths.delete(n);let d=s;if(this.options.cwd&&(d=Le.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(d)&&this._pendingWrites.get(d).cancelWait()===wc)return;this._watched.delete(s),this._watched.delete(n);let u=r?LI:d1;o&&!this._isIgnored(s)&&this._emit(u,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){this._closeFile(e);let t=Le.dirname(e);this._getWatchedDir(t).remove(Le.basename(e))}_closeFile(e){let t=this._closers.get(e);t&&(t.forEach(r=>r()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;let r={type:af,alwaysStat:!0,lstat:!0,...t},s=AI(e,r);return this._streams.add(s),s.once(DI,()=>{s=void 0}),s.once(UI,()=>{s&&(this._streams.delete(s),s=void 0)}),s}};_f.FSWatcher=Tc;var rN=(i,e)=>{let t=new Tc(e);return t.add(i),t};_f.watch=rN});var S1=Q((uP,E1)=>{"use strict";U();var iN={wait:0,maxWait:1/0,leading:!1,trailing:!0},Ac=()=>{};E1.exports=sN;function sN(i,e={}){if(typeof i!="function")throw new Error("Required: the function to debounce");typeof e=="number"&&(e={wait:e}),e=Object.assign({},iN,e);let t=[],r={lastCall:new Date(0),lastFlush:new Date},s;return function(...c){clearTimeout(s),t.push(c);let l={now:new Date,...r};if(r.lastCall=l.now,l.sinceLastCall=l.now-l.lastCall,l.sinceLastFlush=l.now-l.lastFlush,Ac("[0] Data:",{opts:e,vars:l,[`sinceLastFlush (${l.sinceLastFlush}) >= (${e.maxWait}) maxWait`]:l.sinceLastFlush>=e.maxWait,[`sinceLastCall (${l.sinceLastCall}) >= (${e.wait}) wait`]:l.sinceLastCall>=e.wait,[`leading (${e.leading}) && (sinceLastCall >= wait)`]:e.leading&&l.sinceLastCall>=e.wait}),l.sinceLastFlush>=e.maxWait||e.leading&&l.sinceLastCall>=e.wait)return Ac("[1] Calling now"),i(n(l.now,t));e.trailing!==!1&&(Ac("[2] Setting timer"),s=setTimeout(()=>(Ac("[3] Timer launching"),i(n(l.now,t))),e.wait))};function n(a=new Date,c=t){return r.lastFlush=a,c.splice(0,c.length)}}});U();U();U();var Rs=Ve(Uc(),1);import{createRequire as XT}from"node:module";import{createServer as v2}from"node:https";import{createServer as y2}from"node:http";import{mkdir as x2}from"node:fs/promises";import{resolve as b2}from"node:path";import{homedir as E2}from"node:os";import TA from"node:process";import{readFile as NA,writeFile as BA,stat as OA}from"node:fs/promises";import LA from"node:path";U();var qg=Ve(Vg(),1),{Server:jg,Namespace:l4,Socket:u4}=qg.default;var v0=Ve(Uc(),1);U();U();U();U();U();U();U();U();U();U();var vr=Object.create(null);vr.open="0";vr.close="1";vr.ping="2";vr.pong="3";vr.message="4";vr.upgrade="5";vr.noop="6";var En=Object.create(null);Object.keys(vr).forEach(i=>{En[vr[i]]=i});var Sn={type:"error",data:"parser error"};var Cn=({type:i,data:e},t,r)=>e instanceof ArrayBuffer||ArrayBuffer.isView(e)?r(t?e:"b"+Hg(e,!0).toString("base64")):r(vr[i]+(e||"")),Hg=(i,e)=>Buffer.isBuffer(i)||i instanceof Uint8Array&&!e?i:i instanceof ArrayBuffer?Buffer.from(i):Buffer.from(i.buffer,i.byteOffset,i.byteLength),Eu;function Kg(i,e){if(i.data instanceof ArrayBuffer||ArrayBuffer.isView(i.data))return e(Hg(i.data,!1));Cn(i,!0,t=>{Eu||(Eu=new TextEncoder),e(Eu.encode(t))})}U();var wn=(i,e)=>{if(typeof i!="string")return{type:"message",data:Wg(i,e)};let t=i.charAt(0);if(t==="b"){let r=Buffer.from(i.substring(1),"base64");return{type:"message",data:Wg(r,e)}}return En[t]?i.length>1?{type:En[t],data:i.substring(1)}:{type:En[t]}:Sn},Wg=(i,e)=>{switch(e){case"arraybuffer":return i instanceof ArrayBuffer?i:Buffer.isBuffer(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i.buffer;case"nodebuffer":default:return Buffer.isBuffer(i)?i:Buffer.from(i)}};var Gg="",zg=(i,e)=>{let t=i.length,r=new Array(t),s=0;i.forEach((n,a)=>{Cn(n,!1,c=>{r[a]=c,++s===t&&e(r.join(Gg))})})},$g=(i,e)=>{let t=i.split(Gg),r=[];for(let s=0;s<t.length;s++){let n=wn(t[s],e);if(r.push(n),n.type==="error")break}return r};function Yg(){return new TransformStream({transform(i,e){Kg(i,t=>{let r=t.length,s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);let n=new DataView(s.buffer);n.setUint8(0,126),n.setUint16(1,r)}else{s=new Uint8Array(9);let n=new DataView(s.buffer);n.setUint8(0,127),n.setBigUint64(1,BigInt(r))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}var Su;function To(i){return i.reduce((e,t)=>e+t.length,0)}function Ao(i,e){if(i[0].length===e)return i.shift();let t=new Uint8Array(e),r=0;for(let s=0;s<e;s++)t[s]=i[0][r++],r===i[0].length&&(i.shift(),r=0);return i.length&&r<i[0].length&&(i[0]=i[0].slice(r)),t}function Zg(i,e){Su||(Su=new TextDecoder);let t=[],r=0,s=-1,n=!1;return new TransformStream({transform(a,c){for(t.push(a);;){if(r===0){if(To(t)<1)break;let l=Ao(t,1);n=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(To(t)<2)break;let l=Ao(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(To(t)<8)break;let l=Ao(t,8),o=new DataView(l.buffer,l.byteOffset,l.length),d=o.getUint32(0);if(d>Math.pow(2,21)-1){c.enqueue(Sn);break}s=d*Math.pow(2,32)+o.getUint32(4),r=3}else{if(To(t)<s)break;let l=Ao(t,s);c.enqueue(wn(n?l:Su.decode(l),e)),r=0}if(s===0||s>i){c.enqueue(Sn);break}}}})}var Cu=4;hi();U();U();var yr=global;function ko(i,...e){return e.reduce((t,r)=>(i.hasOwnProperty(r)&&(t[r]=i[r]),t),{})}var yw=yr.setTimeout,_w=yr.clearTimeout;function $r(i,e){e.useNativeTimers?(i.setTimeoutFn=yw.bind(yr),i.clearTimeoutFn=_w.bind(yr)):(i.setTimeoutFn=yr.setTimeout.bind(yr),i.clearTimeoutFn=yr.clearTimeout.bind(yr))}var xw=1.33;function Qg(i){return typeof i=="string"?bw(i):Math.ceil((i.byteLength||i.size)*xw)}function bw(i){let e=0,t=0;for(let r=0,s=i.length;r<s;r++)e=i.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}var ev=Ve(Ue(),1);U();function Xg(i){let e="";for(let t in i)i.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(i[t]));return e}function Jg(i){let e={},t=i.split("&");for(let r=0,s=t.length;r<s;r++){let n=t[r].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}var Ew=(0,ev.default)("engine.io-client:transport"),wu=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Yr=class extends De{constructor(e){super(),this.writable=!1,$r(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new wu(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):Ew("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=wn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=Xg(e);return t.length?"?"+t:""}};var uv=Ve(Ue(),1);U();var sv="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Tu=64,Sw={},tv=0,Ro=0,rv;function iv(i){let e="";do e=sv[i%Tu]+e,i=Math.floor(i/Tu);while(i>0);return e}function Io(){let i=iv(+new Date);return i!==rv?(tv=0,rv=i):i+"."+iv(tv++)}for(;Ro<Tu;Ro++)Sw[sv[Ro]]=Ro;U();var Ru=Ve(ov(),1),Iu=Ru.default||Ru;function cv(){return new ku}function ww(i){let e=i.split("; "),t=e[0].indexOf("=");if(t===-1)return;let r=e[0].substring(0,t).trim();if(!r.length)return;let s=e[0].substring(t+1).trim();s.charCodeAt(0)===34&&(s=s.slice(1,-1));let n={name:r,value:s};for(let a=1;a<e.length;a++){let c=e[a].split("=");if(c.length!==2)continue;let l=c[0].trim(),o=c[1].trim();switch(l){case"Expires":n.expires=new Date(o);break;case"Max-Age":let d=new Date;d.setUTCSeconds(d.getUTCSeconds()+parseInt(o,10)),n.expires=d;break;default:}}return n}var ku=class{constructor(){this.cookies=new Map}parseCookies(e){let t=e.getResponseHeader("set-cookie");t&&t.forEach(r=>{let s=ww(r);s&&this.cookies.set(s.name,s)})}addCookies(e){let t=[];this.cookies.forEach((r,s)=>{var n;((n=r.expires)===null||n===void 0?void 0:n.getTime())<Date.now()?this.cookies.delete(s):t.push(`${s}=${r.value}`)}),t.length&&(e.setDisableHeaderCheck(!0),e.setRequestHeader("cookie",t.join("; ")))}};hi();var Vt=(0,uv.default)("engine.io-client:polling");function Tw(){}var Aw=function(){return new Iu({xdomain:!1}).responseType!=null}(),No=class extends Yr{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let r=location.protocol==="https:",s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}let t=e&&e.forceBase64;this.supportsBinary=Aw&&!t,this.opts.withCredentials&&(this.cookieJar=cv())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=()=>{Vt("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(Vt("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Vt("pre-pause polling complete"),--r||t()})),this.writable||(Vt("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Vt("pre-pause writing complete"),--r||t()}))}else t()}poll(){Vt("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){Vt("polling got data %s",e);let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};$g(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():Vt('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{Vt("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(Vt("transport open - closing"),e()):(Vt("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,zg(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Io()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new xi(this.uri(),e)}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(s,n)=>{this.onError("xhr post error",s,n)})}doPoll(){Vt("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},xi=class i extends De{constructor(e,t){super(),$r(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=t.data!==void 0?t.data:null,this.create()}create(){var e;let t=ko(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let r=this.xhr=new Iu(t);try{Vt("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},Vt("xhr data %s",this.data),r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Tw,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};xi.requestsCount=0;xi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",lv);else if(typeof addEventListener=="function"){let i="onpagehide"in yr?"pagehide":"unload";addEventListener(i,lv,!1)}}function lv(){for(let i in xi.requests)xi.requests.hasOwnProperty(i)&&xi.requests[i].abort()}U();U();U();var UT=Ve(hv(),1),MT=Ve(Fu(),1),FT=Ve(qu(),1),fy=Ve($u(),1),VT=Ve(py(),1);var dy=fy.default;var Un=dy,qo=!1,hy="nodebuffer",ji=process.nextTick;var gy=Ve(Ue(),1);var qT=(0,gy.default)("engine.io-client:websocket"),my=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",jo=class extends Yr{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,r=my?{}:ko(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=qo&&!my?t?new Un(e,t):new Un(e):new Un(e,t,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;Cn(r,this.supportsBinary,n=>{let a={};qo||(r.options&&(a.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof n=="string"?Buffer.byteLength(n):n.length)<this.opts.perMessageDeflate.threshold&&(a.compress=!1));try{qo?this.ws.send(n):this.ws.send(n,a)}catch{qT("websocket closed before onclose event")}s&&ji(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Io()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Un}};U();var vy=Ve(Ue(),1),Mn=(0,vy.default)("engine.io-client:webtransport"),Ho=class extends Yr{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{Mn("transport closed gracefully"),this.onClose()}).catch(e=>{Mn("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=Zg(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),s=Yg();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();let n=()=>{r.read().then(({done:c,value:l})=>{if(c){Mn("session is closed");return}Mn("received chunk: %o",l),this.onPacket(l),n()}).catch(c=>{Mn("an error occurred while reading: %s",c)})};n();let a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;this.writer.write(r).then(()=>{s&&ji(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var Zu={websocket:jo,webtransport:Ho,polling:No};U();var jT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,HT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ss(i){let e=i,t=i.indexOf("["),r=i.indexOf("]");t!=-1&&r!=-1&&(i=i.substring(0,t)+i.substring(t,r).replace(/:/g,";")+i.substring(r,i.length));let s=jT.exec(i||""),n={},a=14;for(;a--;)n[HT[a]]=s[a]||"";return t!=-1&&r!=-1&&(n.source=e,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n.pathNames=KT(n,n.path),n.queryKey=WT(n,n.query),n}function KT(i,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function WT(i,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,n){s&&(t[s]=n)}),t}var yy=Ve(Ue(),1);hi();var He=(0,yy.default)("engine.io-client:socket"),Hi=class i extends De{constructor(e,t={}){super(),this.binaryType=hy,this.writeBuffer=[],e&&typeof e=="object"&&(t=e,e=null),e?(e=Ss(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ss(t.host).host),$r(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Jg(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){He('creating transport "%s"',e);let t=Object.assign({},this.opts.query);t.EIO=Cu,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return He("options: %j",r),new Zu[e](r)}open(){let e;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){He("error while creating transport: %s",t),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){He("setting transport %s",e.name),this.transport&&(He("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",t=>this.onClose("transport close",t))}probe(e){He('probing transport "%s"',e);let t=this.createTransport(e),r=!1;i.priorWebsocketSuccess=!1;let s=()=>{r||(He('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(He('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;i.priorWebsocketSuccess=t.name==="websocket",He('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||this.readyState!=="closed"&&(He("changing transport and sending upgrade packet"),d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{He('probe transport "%s" failed',e);let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function n(){r||(r=!0,d(),t.close(),t=null)}let a=u=>{let v=new Error("probe error: "+u);v.transport=t.name,n(),He('probe transport "%s" failed because of error: %s',e,u),this.emitReserved("upgradeError",v)};function c(){a("transport closed")}function l(){a("socket closed")}function o(u){t&&u.name!==t.name&&(He('"%s" works - aborting "%s"',u.name,t.name),n())}let d=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",c),this.off("close",l),this.off("upgrading",o)};t.once("open",s),t.once("error",a),t.once("close",c),this.once("close",l),this.once("upgrading",o),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onOpen(){if(He("socket open"),this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){He("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(He('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else He('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();He("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){let s=this.writeBuffer[r].data;if(s&&(t+=Qg(s)),r>0&&t>this.maxPayload)return He("only send %d out of %d packets",r,this.writeBuffer.length),this.writeBuffer.slice(0,r);t+=2}return He("payload size is %d (max: %d)",t,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,s){if(typeof t=="function"&&(s=t,t=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let n={type:e,data:t,options:r};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),s&&this.once("flush",s),this.flush()}close(){let e=()=>{this.onClose("forced close"),He("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){He("socket error %j",e),i.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(He('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],r=0,s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}};Hi.protocol=Cu;var fO=Hi.protocol;var xy=Ve(Ue(),1),_y=(0,xy.default)("socket.io-client:url");function by(i,e="",t){let r=i;t=t||typeof location<"u"&&location,i==null&&(i=t.protocol+"//"+t.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=t.protocol+i:i=t.host+i),/^(https?|wss?):\/\//.test(i)||(_y("protocol-less url %s",i),typeof t<"u"?i=t.protocol+"//"+i:i="https://"+i),_y("parse %s",i),r=Ss(i)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let n=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+n+":"+r.port+e,r.href=r.protocol+"://"+n+(t&&t.port===r.port?"":":"+r.port),r}U();U();var ip={};Sf(ip,{Decoder:()=>tp,Encoder:()=>ep,PacketType:()=>Re,protocol:()=>Ay});U();hi();U();U();var GT=typeof ArrayBuffer=="function",zT=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,Ey=Object.prototype.toString,$T=typeof Blob=="function"||typeof Blob<"u"&&Ey.call(Blob)==="[object BlobConstructor]",YT=typeof File=="function"||typeof File<"u"&&Ey.call(File)==="[object FileConstructor]";function Vn(i){return GT&&(i instanceof ArrayBuffer||zT(i))||$T&&i instanceof Blob||YT&&i instanceof File}function Fn(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,r=i.length;t<r;t++)if(Fn(i[t]))return!0;return!1}if(Vn(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Fn(i.toJSON(),!0);for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&Fn(i[t]))return!0;return!1}function Sy(i){let e=[],t=i.data,r=i;return r.data=Qu(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Qu(i,e){if(!i)return i;if(Vn(i)){let t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){let t=new Array(i.length);for(let r=0;r<i.length;r++)t[r]=Qu(i[r],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){let t={};for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=Qu(i[r],e));return t}return i}function Cy(i,e){return i.data=Xu(i.data,e),delete i.attachments,i}function Xu(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=Xu(i[t],e);else if(typeof i=="object")for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=Xu(i[t],e));return i}var Ty=Ve(Ue(),1),Ju=(0,Ty.default)("socket.io-parser"),ZT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ay=5,Re;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(Re||(Re={}));var ep=class{constructor(e){this.replacer=e}encode(e){return Ju("encoding packet %j",e),(e.type===Re.EVENT||e.type===Re.ACK)&&Fn(e)?this.encodeAsBinary({type:e.type===Re.EVENT?Re.BINARY_EVENT:Re.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Re.BINARY_EVENT||e.type===Re.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),Ju("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=Sy(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}};function wy(i){return Object.prototype.toString.call(i)==="[object Object]"}var tp=class i extends De{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===Re.BINARY_EVENT;r||t.type===Re.BINARY_ACK?(t.type=r?Re.EVENT:Re.ACK,this.reconstructor=new rp(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Vn(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(Re[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Re.BINARY_EVENT||r.type===Re.BINARY_ACK){let n=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let a=e.substring(n,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(e.charAt(t+1)==="/"){let n=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(n,t)}else r.nsp="/";let s=e.charAt(t+1);if(s!==""&&Number(s)==s){let n=t+1;for(;++t;){let a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){let n=this.tryParse(e.substr(t));if(i.isPayloadValid(r.type,n))r.data=n;else throw new Error("invalid payload")}return Ju("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Re.CONNECT:return wy(t);case Re.DISCONNECT:return t===void 0;case Re.CONNECT_ERROR:return typeof t=="string"||wy(t);case Re.EVENT:case Re.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&ZT.indexOf(t[0])===-1);case Re.ACK:case Re.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},rp=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=Cy(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};U();function Xt(i,e,t){return i.on(e,t),function(){i.off(e,t)}}hi();var ky=Ve(Ue(),1),at=(0,ky.default)("socket.io-client:socket"),QT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Cs=class extends De{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Xt(e,"open",this.onopen.bind(this)),Xt(e,"packet",this.onpacket.bind(this)),Xt(e,"error",this.onerror.bind(this)),Xt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(QT.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:Re.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let a=this.ids++;at("emitting packet with ack id %d",a);let c=t.pop();this._registerAckCallback(a,c),r.id=a}let s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)?at("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r),this.flags={},this}_registerAckCallback(e,t){var r;let s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}let n=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&(at("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(c,1));at("event with ack id %d has timed out after %d ms",e,s),t.call(this,new Error("operation has timed out"))},s),a=(...c)=>{this.io.clearTimeoutFn(n),t.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((r,s)=>{let n=(a,c)=>a?s(a):r(c);n.withError=!0,t.push(n),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...n)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(at("packet [%d] is discarded after %d tries",r.id,r.tryCount),this._queue.shift(),t&&t(s)):(at("packet [%d] was successfully sent",r.id),this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(at("draining queue"),!this.connected||this._queue.length===0)return;let t=this._queue[0];if(t.pending&&!e){at("packet [%d] has already been sent and is waiting for an ack",t.id);return}t.pending=!0,t.tryCount++,at("sending packet [%d] (try n\xB0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){at("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Re.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){at("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Re.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Re.EVENT:case Re.BINARY_EVENT:this.onevent(e);break;case Re.ACK:case Re.BINARY_ACK:this.onack(e);break;case Re.DISCONNECT:this.ondisconnect();break;case Re.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];at("emitting event %j",t),e.id!=null&&(at("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...s){r||(r=!0,at("sending ack %j",s),t.packet({type:Re.ACK,id:e,data:s}))}}onack(e){let t=this.acks[e.id];if(typeof t!="function"){at("bad ack %s",e.id);return}delete this.acks[e.id],at("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)}onconnect(e,t){at("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){at("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(at("performing disconnect (%s)",this.nsp),this.packet({type:Re.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};U();function Ki(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Ki.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*i);i=Math.floor(e*10)&1?i+t:i-t}return Math.min(i,this.max)|0};Ki.prototype.reset=function(){this.attempts=0};Ki.prototype.setMin=function(i){this.ms=i};Ki.prototype.setMax=function(i){this.max=i};Ki.prototype.setJitter=function(i){this.jitter=i};hi();var Ry=Ve(Ue(),1),kt=(0,Ry.default)("socket.io-client:manager"),ws=class extends De{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,$r(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ki({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let s=t.parser||ip;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(kt("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;kt("opening %s",this.uri),this.engine=new Hi(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let s=Xt(t,"open",function(){r.onopen(),e&&e()}),n=c=>{kt("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=Xt(t,"error",n);if(this._timeout!==!1){let c=this._timeout;kt("connect attempt will timeout after %d",c);let l=this.setTimeoutFn(()=>{kt("connect attempt timed out after %d",c),s(),n(new Error("timeout")),t.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){kt("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Xt(e,"ping",this.onping.bind(this)),Xt(e,"data",this.ondata.bind(this)),Xt(e,"error",this.onerror.bind(this)),Xt(e,"close",this.onclose.bind(this)),Xt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){ji(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){kt("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Cs(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active){kt("socket %s is still active, skipping close",r);return}this._close()}_packet(e){kt("writing packet %j",e);let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){kt("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){kt("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){kt("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)kt("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();kt("will wait %dms before reconnect attempt",t),this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(kt("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(kt("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):(kt("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Ny=Ve(Ue(),1),Iy=(0,Ny.default)("socket.io-client"),qn={};function Ko(i,e){typeof i=="object"&&(e=i,i=void 0),e=e||{};let t=by(i,e.path||"/socket.io"),r=t.source,s=t.id,n=t.path,a=qn[s]&&n in qn[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a,l;return c?(Iy("ignoring socket cache for %s",r),l=new ws(r,e)):(qn[s]||(Iy("new io instance for %s",r),qn[s]=new ws(r,e)),l=qn[s]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Ko,{Manager:ws,Socket:Cs,io:Ko,connect:Ko});var Ts=XT(import.meta.url),JT=Object.create,Ly=Object.defineProperty,e2=Object.getOwnPropertyDescriptor,Py=Object.getOwnPropertyNames,t2=Object.getPrototypeOf,r2=Object.prototype.hasOwnProperty,hp=(i=>typeof Ts<"u"?Ts:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof Ts<"u"?Ts:e)[t]}):i)(function(i){if(typeof Ts<"u")return Ts.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')}),Ee=(i,e)=>function(){return e||(0,i[Py(i)[0]])((e={exports:{}}).exports,e),e.exports},i2=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Py(e))!r2.call(i,s)&&s!==t&&Ly(i,s,{get:()=>e[s],enumerable:!(r=e2(e,s))||r.enumerable});return i},s2=(i,e,t)=>(t=i!=null?JT(t2(i)):{},i2(e||!i||!i.__esModule?Ly(t,"default",{value:i,enumerable:!0}):t,i)),Ae=Ee({"../../node_modules/node-forge/lib/forge.js"(i,e){"use strict";e.exports={options:{usePureJavaScript:!1}}}}),n2=Ee({"../../node_modules/node-forge/lib/baseN.js"(i,e){"use strict";var t={};e.exports=t;var r={};t.encode=function(n,a,c){if(typeof a!="string")throw new TypeError('"alphabet" must be a string.');if(c!==void 0&&typeof c!="number")throw new TypeError('"maxline" must be a number.');var l="";if(!(n instanceof Uint8Array))l=s(n,a);else{var o=0,d=a.length,u=a.charAt(0),v=[0];for(o=0;o<n.length;++o){for(var A=0,_=n[o];A<v.length;++A)_+=v[A]<<8,v[A]=_%d,_=_/d|0;for(;_>0;)v.push(_%d),_=_/d|0}for(o=0;n[o]===0&&o<n.length-1;++o)l+=u;for(o=v.length-1;o>=0;--o)l+=a[v[o]]}if(c){var h=new RegExp(".{1,"+c+"}","g");l=l.match(h).join(`\r
`)}return l},t.decode=function(n,a){if(typeof n!="string")throw new TypeError('"input" must be a string.');if(typeof a!="string")throw new TypeError('"alphabet" must be a string.');var c=r[a];if(!c){c=r[a]=[];for(var l=0;l<a.length;++l)c[a.charCodeAt(l)]=l}n=n.replace(/\s/g,"");for(var o=a.length,d=a.charAt(0),u=[0],l=0;l<n.length;l++){var v=c[n.charCodeAt(l)];if(v===void 0)return;for(var A=0,_=v;A<u.length;++A)_+=u[A]*o,u[A]=_&255,_>>=8;for(;_>0;)u.push(_&255),_>>=8}for(var h=0;n[h]===d&&h<n.length-1;++h)u.push(0);return typeof Buffer<"u"?Buffer.from(u.reverse()):new Uint8Array(u.reverse())};function s(n,a){var c=0,l=a.length,o=a.charAt(0),d=[0];for(c=0;c<n.length();++c){for(var u=0,v=n.at(c);u<d.length;++u)v+=d[u]<<8,d[u]=v%l,v=v/l|0;for(;v>0;)d.push(v%l),v=v/l|0}var A="";for(c=0;n.at(c)===0&&c<n.length()-1;++c)A+=o;for(c=d.length-1;c>=0;--c)A+=a[d[c]];return A}}}),Oe=Ee({"../../node_modules/node-forge/lib/util.js"(i,e){"use strict";var t=Ae(),r=n2(),s=e.exports=t.util=t.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){s.nextTick=process.nextTick,typeof setImmediate=="function"?s.setImmediate=setImmediate:s.setImmediate=s.nextTick;return}if(typeof setImmediate=="function"){s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s.nextTick=function(f){return setImmediate(f)};return}if(s.setImmediate=function(f){setTimeout(f,0)},typeof window<"u"&&typeof window.postMessage=="function"){let f=function(T){if(T.source===window&&T.data===b){T.stopPropagation();var P=C.slice();C.length=0,P.forEach(function(q){q()})}};var p=f,b="forge.setImmediate",C=[];s.setImmediate=function(T){C.push(T),C.length===1&&window.postMessage(b,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver<"u"){var k=Date.now(),B=!0,x=document.createElement("div"),C=[];new MutationObserver(function(){var T=C.slice();C.length=0,T.forEach(function(P){P()})}).observe(x,{attributes:!0});var m=s.setImmediate;s.setImmediate=function(T){Date.now()-k>15?(k=Date.now(),m(T)):(C.push(T),C.length===1&&x.setAttribute("a",B=!B))}}s.nextTick=s.setImmediate})(),s.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,s.globalScope=function(){return s.isNodejs?global:typeof self>"u"?window:self}(),s.isArray=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},s.isArrayBuffer=function(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer},s.isArrayBufferView=function(p){return p&&s.isArrayBuffer(p.buffer)&&p.byteLength!==void 0};function n(p){if(!(p===8||p===16||p===24||p===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+p)}s.ByteBuffer=a;function a(p){if(this.data="",this.read=0,typeof p=="string")this.data=p;else if(s.isArrayBuffer(p)||s.isArrayBufferView(p))if(typeof Buffer<"u"&&p instanceof Buffer)this.data=p.toString("binary");else{var b=new Uint8Array(p);try{this.data=String.fromCharCode.apply(null,b)}catch{for(var C=0;C<b.length;++C)this.putByte(b[C])}}else(p instanceof a||typeof p=="object"&&typeof p.data=="string"&&typeof p.read=="number")&&(this.data=p.data,this.read=p.read);this._constructedStringLength=0}s.ByteStringBuffer=a;var c=4096;s.ByteStringBuffer.prototype._optimizeConstructedString=function(p){this._constructedStringLength+=p,this._constructedStringLength>c&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(p){return this.putBytes(String.fromCharCode(p))},s.ByteStringBuffer.prototype.fillWithByte=function(p,b){p=String.fromCharCode(p);for(var C=this.data;b>0;)b&1&&(C+=p),b>>>=1,b>0&&(p+=p);return this.data=C,this._optimizeConstructedString(b),this},s.ByteStringBuffer.prototype.putBytes=function(p){return this.data+=p,this._optimizeConstructedString(p.length),this},s.ByteStringBuffer.prototype.putString=function(p){return this.putBytes(s.encodeUtf8(p))},s.ByteStringBuffer.prototype.putInt16=function(p){return this.putBytes(String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},s.ByteStringBuffer.prototype.putInt24=function(p){return this.putBytes(String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},s.ByteStringBuffer.prototype.putInt32=function(p){return this.putBytes(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},s.ByteStringBuffer.prototype.putInt16Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>24&255))},s.ByteStringBuffer.prototype.putInt=function(p,b){n(b);var C="";do b-=8,C+=String.fromCharCode(p>>b&255);while(b>0);return this.putBytes(C)},s.ByteStringBuffer.prototype.putSignedInt=function(p,b){return p<0&&(p+=2<<b-1),this.putInt(p,b)},s.ByteStringBuffer.prototype.putBuffer=function(p){return this.putBytes(p.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var p=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,p},s.ByteStringBuffer.prototype.getInt24=function(){var p=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,p},s.ByteStringBuffer.prototype.getInt32=function(){var p=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,p},s.ByteStringBuffer.prototype.getInt16Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,p},s.ByteStringBuffer.prototype.getInt24Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,p},s.ByteStringBuffer.prototype.getInt32Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,p},s.ByteStringBuffer.prototype.getInt=function(p){n(p);var b=0;do b=(b<<8)+this.data.charCodeAt(this.read++),p-=8;while(p>0);return b},s.ByteStringBuffer.prototype.getSignedInt=function(p){var b=this.getInt(p),C=2<<p-2;return b>=C&&(b-=C<<1),b},s.ByteStringBuffer.prototype.getBytes=function(p){var b;return p?(p=Math.min(this.length(),p),b=this.data.slice(this.read,this.read+p),this.read+=p):p===0?b="":(b=this.read===0?this.data:this.data.slice(this.read),this.clear()),b},s.ByteStringBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},s.ByteStringBuffer.prototype.at=function(p){return this.data.charCodeAt(this.read+p)},s.ByteStringBuffer.prototype.setAt=function(p,b){return this.data=this.data.substr(0,this.read+p)+String.fromCharCode(b)+this.data.substr(this.read+p+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var p=s.createBuffer(this.data);return p.read=this.read,p},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(p){var b=Math.max(0,this.length()-p);return this.data=this.data.substr(this.read,b),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var p="",b=this.read;b<this.data.length;++b){var C=this.data.charCodeAt(b);C<16&&(p+="0"),p+=C.toString(16)}return p},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())};function l(p,b){b=b||{},this.read=b.readOffset||0,this.growSize=b.growSize||1024;var C=s.isArrayBuffer(p),k=s.isArrayBufferView(p);if(C||k){C?this.data=new DataView(p):this.data=new DataView(p.buffer,p.byteOffset,p.byteLength),this.write="writeOffset"in b?b.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,p!=null&&this.putBytes(p),"writeOffset"in b&&(this.write=b.writeOffset)}s.DataBuffer=l,s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(p,b){if(this.length()>=p)return this;b=Math.max(b||this.growSize,p);var C=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),k=new Uint8Array(this.length()+b);return k.set(C),this.data=new DataView(k.buffer),this},s.DataBuffer.prototype.putByte=function(p){return this.accommodate(1),this.data.setUint8(this.write++,p),this},s.DataBuffer.prototype.fillWithByte=function(p,b){this.accommodate(b);for(var C=0;C<b;++C)this.data.setUint8(p);return this},s.DataBuffer.prototype.putBytes=function(p,b){if(s.isArrayBufferView(p)){var C=new Uint8Array(p.buffer,p.byteOffset,p.byteLength),k=C.byteLength-C.byteOffset;this.accommodate(k);var B=new Uint8Array(this.data.buffer,this.write);return B.set(C),this.write+=k,this}if(s.isArrayBuffer(p)){var C=new Uint8Array(p);this.accommodate(C.byteLength);var B=new Uint8Array(this.data.buffer);return B.set(C,this.write),this.write+=C.byteLength,this}if(p instanceof s.DataBuffer||typeof p=="object"&&typeof p.read=="number"&&typeof p.write=="number"&&s.isArrayBufferView(p.data)){var C=new Uint8Array(p.data.byteLength,p.read,p.length());this.accommodate(C.byteLength);var B=new Uint8Array(p.data.byteLength,this.write);return B.set(C),this.write+=C.byteLength,this}if(p instanceof s.ByteStringBuffer&&(p=p.data,b="binary"),b=b||"binary",typeof p=="string"){var x;if(b==="hex")return this.accommodate(Math.ceil(p.length/2)),x=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(p,x,this.write),this;if(b==="base64")return this.accommodate(Math.ceil(p.length/4)*3),x=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(p,x,this.write),this;if(b==="utf8"&&(p=s.encodeUtf8(p),b="binary"),b==="binary"||b==="raw")return this.accommodate(p.length),x=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(x),this;if(b==="utf16")return this.accommodate(p.length*2),x=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(x),this;throw new Error("Invalid encoding: "+b)}throw Error("Invalid parameter: "+p)},s.DataBuffer.prototype.putBuffer=function(p){return this.putBytes(p),p.clear(),this},s.DataBuffer.prototype.putString=function(p){return this.putBytes(p,"utf16")},s.DataBuffer.prototype.putInt16=function(p){return this.accommodate(2),this.data.setInt16(this.write,p),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(p){return this.accommodate(3),this.data.setInt16(this.write,p>>8&65535),this.data.setInt8(this.write,p>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(p){return this.accommodate(4),this.data.setInt32(this.write,p),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(p){return this.accommodate(2),this.data.setInt16(this.write,p,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(p){return this.accommodate(3),this.data.setInt8(this.write,p>>16&255),this.data.setInt16(this.write,p>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(p){return this.accommodate(4),this.data.setInt32(this.write,p,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(p,b){n(b),this.accommodate(b/8);do b-=8,this.data.setInt8(this.write++,p>>b&255);while(b>0);return this},s.DataBuffer.prototype.putSignedInt=function(p,b){return n(b),this.accommodate(b/8),p<0&&(p+=2<<b-1),this.putInt(p,b)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var p=this.data.getInt16(this.read);return this.read+=2,p},s.DataBuffer.prototype.getInt24=function(){var p=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,p},s.DataBuffer.prototype.getInt32=function(){var p=this.data.getInt32(this.read);return this.read+=4,p},s.DataBuffer.prototype.getInt16Le=function(){var p=this.data.getInt16(this.read,!0);return this.read+=2,p},s.DataBuffer.prototype.getInt24Le=function(){var p=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,p},s.DataBuffer.prototype.getInt32Le=function(){var p=this.data.getInt32(this.read,!0);return this.read+=4,p},s.DataBuffer.prototype.getInt=function(p){n(p);var b=0;do b=(b<<8)+this.data.getInt8(this.read++),p-=8;while(p>0);return b},s.DataBuffer.prototype.getSignedInt=function(p){var b=this.getInt(p),C=2<<p-2;return b>=C&&(b-=C<<1),b},s.DataBuffer.prototype.getBytes=function(p){var b;return p?(p=Math.min(this.length(),p),b=this.data.slice(this.read,this.read+p),this.read+=p):p===0?b="":(b=this.read===0?this.data:this.data.slice(this.read),this.clear()),b},s.DataBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},s.DataBuffer.prototype.at=function(p){return this.data.getUint8(this.read+p)},s.DataBuffer.prototype.setAt=function(p,b){return this.data.setUint8(p,b),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var p=new Uint8Array(this.data.buffer,this.read),b=new Uint8Array(p.byteLength);b.set(p),this.data=new DataView(b),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(p){return this.write=Math.max(0,this.length()-p),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var p="",b=this.read;b<this.data.byteLength;++b){var C=this.data.getUint8(b);C<16&&(p+="0"),p+=C.toString(16)}return p},s.DataBuffer.prototype.toString=function(p){var b=new Uint8Array(this.data,this.read,this.length());if(p=p||"utf8",p==="binary"||p==="raw")return s.binary.raw.encode(b);if(p==="hex")return s.binary.hex.encode(b);if(p==="base64")return s.binary.base64.encode(b);if(p==="utf8")return s.text.utf8.decode(b);if(p==="utf16")return s.text.utf16.decode(b);throw new Error("Invalid encoding: "+p)},s.createBuffer=function(p,b){return b=b||"raw",p!==void 0&&b==="utf8"&&(p=s.encodeUtf8(p)),new s.ByteBuffer(p)},s.fillString=function(p,b){for(var C="";b>0;)b&1&&(C+=p),b>>>=1,b>0&&(p+=p);return C},s.xorBytes=function(p,b,C){for(var k="",B="",x="",m=0,f=0;C>0;--C,++m)B=p.charCodeAt(m)^b.charCodeAt(m),f>=10&&(k+=x,x="",f=0),x+=String.fromCharCode(B),++f;return k+=x,k},s.hexToBytes=function(p){var b="",C=0;for(p.length&!0&&(C=1,b+=String.fromCharCode(parseInt(p[0],16)));C<p.length;C+=2)b+=String.fromCharCode(parseInt(p.substr(C,2),16));return b},s.bytesToHex=function(p){return s.createBuffer(p).toHex()},s.int32ToBytes=function(p){return String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255)};var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(p,b){for(var C="",k="",B,x,m,f=0;f<p.length;)B=p.charCodeAt(f++),x=p.charCodeAt(f++),m=p.charCodeAt(f++),C+=o.charAt(B>>2),C+=o.charAt((B&3)<<4|x>>4),isNaN(x)?C+="==":(C+=o.charAt((x&15)<<2|m>>6),C+=isNaN(m)?"=":o.charAt(m&63)),b&&C.length>b&&(k+=C.substr(0,b)+`\r
`,C=C.substr(b));return k+=C,k},s.decode64=function(p){p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var b="",C,k,B,x,m=0;m<p.length;)C=d[p.charCodeAt(m++)-43],k=d[p.charCodeAt(m++)-43],B=d[p.charCodeAt(m++)-43],x=d[p.charCodeAt(m++)-43],b+=String.fromCharCode(C<<2|k>>4),B!==64&&(b+=String.fromCharCode((k&15)<<4|B>>2),x!==64&&(b+=String.fromCharCode((B&3)<<6|x)));return b},s.encodeUtf8=function(p){return unescape(encodeURIComponent(p))},s.decodeUtf8=function(p){return decodeURIComponent(escape(p))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r.encode,decode:r.decode}},s.binary.raw.encode=function(p){return String.fromCharCode.apply(null,p)},s.binary.raw.decode=function(p,b,C){var k=b;k||(k=new Uint8Array(p.length)),C=C||0;for(var B=C,x=0;x<p.length;++x)k[B++]=p.charCodeAt(x);return b?B-C:k},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(p,b,C){var k=b;k||(k=new Uint8Array(Math.ceil(p.length/2))),C=C||0;var B=0,x=C;for(p.length&1&&(B=1,k[x++]=parseInt(p[0],16));B<p.length;B+=2)k[x++]=parseInt(p.substr(B,2),16);return b?x-C:k},s.binary.base64.encode=function(p,b){for(var C="",k="",B,x,m,f=0;f<p.byteLength;)B=p[f++],x=p[f++],m=p[f++],C+=o.charAt(B>>2),C+=o.charAt((B&3)<<4|x>>4),isNaN(x)?C+="==":(C+=o.charAt((x&15)<<2|m>>6),C+=isNaN(m)?"=":o.charAt(m&63)),b&&C.length>b&&(k+=C.substr(0,b)+`\r
`,C=C.substr(b));return k+=C,k},s.binary.base64.decode=function(p,b,C){var k=b;k||(k=new Uint8Array(Math.ceil(p.length/4)*3)),p=p.replace(/[^A-Za-z0-9\+\/\=]/g,""),C=C||0;for(var B,x,m,f,T=0,P=C;T<p.length;)B=d[p.charCodeAt(T++)-43],x=d[p.charCodeAt(T++)-43],m=d[p.charCodeAt(T++)-43],f=d[p.charCodeAt(T++)-43],k[P++]=B<<2|x>>4,m!==64&&(k[P++]=(x&15)<<4|m>>2,f!==64&&(k[P++]=(m&3)<<6|f));return b?P-C:k.subarray(0,P)},s.binary.base58.encode=function(p,b){return s.binary.baseN.encode(p,u,b)},s.binary.base58.decode=function(p,b){return s.binary.baseN.decode(p,u,b)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(p,b,C){p=s.encodeUtf8(p);var k=b;k||(k=new Uint8Array(p.length)),C=C||0;for(var B=C,x=0;x<p.length;++x)k[B++]=p.charCodeAt(x);return b?B-C:k},s.text.utf8.decode=function(p){return s.decodeUtf8(String.fromCharCode.apply(null,p))},s.text.utf16.encode=function(p,b,C){var k=b;k||(k=new Uint8Array(p.length*2));var B=new Uint16Array(k.buffer);C=C||0;for(var x=C,m=C,f=0;f<p.length;++f)B[m++]=p.charCodeAt(f),x+=2;return b?x-C:k},s.text.utf16.decode=function(p){return String.fromCharCode.apply(null,new Uint16Array(p.buffer))},s.deflate=function(p,b,C){if(b=s.decode64(p.deflate(s.encode64(b)).rval),C){var k=2,B=b.charCodeAt(1);B&32&&(k=6),b=b.substring(k,b.length-4)}return b},s.inflate=function(p,b,C){var k=p.inflate(s.encode64(b)).rval;return k===null?null:s.decode64(k)};var v=function(p,b,C){if(!p)throw new Error("WebStorage not available.");var k;if(C===null?k=p.removeItem(b):(C=s.encode64(JSON.stringify(C)),k=p.setItem(b,C)),typeof k<"u"&&k.rval!==!0){var B=new Error(k.error.message);throw B.id=k.error.id,B.name=k.error.name,B}},A=function(p,b){if(!p)throw new Error("WebStorage not available.");var C=p.getItem(b);if(p.init)if(C.rval===null){if(C.error){var k=new Error(C.error.message);throw k.id=C.error.id,k.name=C.error.name,k}C=null}else C=C.rval;return C!==null&&(C=JSON.parse(s.decode64(C))),C},_=function(p,b,C,k){var B=A(p,b);B===null&&(B={}),B[C]=k,v(p,b,B)},h=function(p,b,C){var k=A(p,b);return k!==null&&(k=C in k?k[C]:null),k},E=function(p,b,C){var k=A(p,b);if(k!==null&&C in k){delete k[C];var B=!0;for(var x in k){B=!1;break}B&&(k=null),v(p,b,k)}},w=function(p,b){v(p,b,null)},S=function(p,b,C){var k=null;typeof C>"u"&&(C=["web","flash"]);var B,x=!1,m=null;for(var f in C){B=C[f];try{if(B==="flash"||B==="both"){if(b[0]===null)throw new Error("Flash local storage not available.");k=p.apply(this,b),x=B==="flash"}(B==="web"||B==="both")&&(b[0]=localStorage,k=p.apply(this,b),x=!0)}catch(T){m=T}if(x)break}if(!x)throw m;return k};s.setItem=function(p,b,C,k,B){S(_,arguments,B)},s.getItem=function(p,b,C,k){return S(h,arguments,k)},s.removeItem=function(p,b,C,k){S(E,arguments,k)},s.clearItems=function(p,b,C){S(w,arguments,C)},s.isEmpty=function(p){for(var b in p)if(p.hasOwnProperty(b))return!1;return!0},s.format=function(p){for(var b=/%./g,C,k,B=0,x=[],m=0;C=b.exec(p);){k=p.substring(m,b.lastIndex-2),k.length>0&&x.push(k),m=b.lastIndex;var f=C[0][1];switch(f){case"s":case"o":B<arguments.length?x.push(arguments[B+++1]):x.push("<?>");break;case"%":x.push("%");break;default:x.push("<%"+f+"?>")}}return x.push(p.substring(m)),x.join("")},s.formatNumber=function(p,b,C,k){var B=p,x=isNaN(b=Math.abs(b))?2:b,m=C===void 0?",":C,f=k===void 0?".":k,T=B<0?"-":"",P=parseInt(B=Math.abs(+B||0).toFixed(x),10)+"",q=P.length>3?P.length%3:0;return T+(q?P.substr(0,q)+f:"")+P.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+f)+(x?m+Math.abs(B-P).toFixed(x).slice(2):"")},s.formatSize=function(p){return p>=1073741824?p=s.formatNumber(p/1073741824,2,".","")+" GiB":p>=1048576?p=s.formatNumber(p/1048576,2,".","")+" MiB":p>=1024?p=s.formatNumber(p/1024,0)+" KiB":p=s.formatNumber(p,0)+" bytes",p},s.bytesFromIP=function(p){return p.indexOf(".")!==-1?s.bytesFromIPv4(p):p.indexOf(":")!==-1?s.bytesFromIPv6(p):null},s.bytesFromIPv4=function(p){if(p=p.split("."),p.length!==4)return null;for(var b=s.createBuffer(),C=0;C<p.length;++C){var k=parseInt(p[C],10);if(isNaN(k))return null;b.putByte(k)}return b.getBytes()},s.bytesFromIPv6=function(p){var b=0;p=p.split(":").filter(function(m){return m.length===0&&++b,!0});for(var C=(8-p.length+b)*2,k=s.createBuffer(),B=0;B<8;++B){if(!p[B]||p[B].length===0){k.fillWithByte(0,C),C=0;continue}var x=s.hexToBytes(p[B]);x.length<2&&k.putByte(0),k.putBytes(x)}return k.getBytes()},s.bytesToIP=function(p){return p.length===4?s.bytesToIPv4(p):p.length===16?s.bytesToIPv6(p):null},s.bytesToIPv4=function(p){if(p.length!==4)return null;for(var b=[],C=0;C<p.length;++C)b.push(p.charCodeAt(C));return b.join(".")},s.bytesToIPv6=function(p){if(p.length!==16)return null;for(var b=[],C=[],k=0,B=0;B<p.length;B+=2){for(var x=s.bytesToHex(p[B]+p[B+1]);x[0]==="0"&&x!=="0";)x=x.substr(1);if(x==="0"){var m=C[C.length-1],f=b.length;!m||f!==m.end+1?C.push({start:f,end:f}):(m.end=f,m.end-m.start>C[k].end-C[k].start&&(k=C.length-1))}b.push(x)}if(C.length>0){var T=C[k];T.end-T.start>0&&(b.splice(T.start,T.end-T.start+1,""),T.start===0&&b.unshift(""),T.end===7&&b.push(""))}return b.join(":")},s.estimateCores=function(p,b){if(typeof p=="function"&&(b=p,p={}),p=p||{},"cores"in s&&!p.update)return b(null,s.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,b(null,s.cores);if(typeof Worker>"u")return s.cores=1,b(null,s.cores);if(typeof Blob>"u")return s.cores=2,b(null,s.cores);var C=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(m){for(var f=Date.now(),T=f+4;Date.now()<T;);self.postMessage({st:f,et:T})})}.toString(),")()"],{type:"application/javascript"}));k([],5,16);function k(m,f,T){if(f===0){var P=Math.floor(m.reduce(function(q,M){return q+M},0)/m.length);return s.cores=Math.max(1,P),URL.revokeObjectURL(C),b(null,s.cores)}B(T,function(q,M){m.push(x(T,M)),k(m,f-1,T)})}function B(m,f){for(var T=[],P=[],q=0;q<m;++q){var M=new Worker(C);M.addEventListener("message",function(D){if(P.push(D.data),P.length===m){for(var V=0;V<m;++V)T[V].terminate();f(null,P)}}),T.push(M)}for(var q=0;q<m;++q)T[q].postMessage(q)}function x(m,f){for(var T=[],P=0;P<m;++P)for(var q=f[P],M=T[P]=[],D=0;D<m;++D)if(P!==D){var V=f[D];(q.st>V.st&&q.st<V.et||V.st>q.st&&V.st<q.et)&&M.push(D)}return T.reduce(function(K,G){return Math.max(K,G.length)},0)}}}}),mp=Ee({"../../node_modules/node-forge/lib/cipher.js"(i,e){"use strict";var t=Ae();Oe(),e.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(s,n){var a=s;if(typeof a=="string"&&(a=t.cipher.getAlgorithm(a),a&&(a=a())),!a)throw new Error("Unsupported algorithm: "+s);return new t.cipher.BlockCipher({algorithm:a,key:n,decrypt:!1})},t.cipher.createDecipher=function(s,n){var a=s;if(typeof a=="string"&&(a=t.cipher.getAlgorithm(a),a&&(a=a())),!a)throw new Error("Unsupported algorithm: "+s);return new t.cipher.BlockCipher({algorithm:a,key:n,decrypt:!0})},t.cipher.registerAlgorithm=function(s,n){s=s.toUpperCase(),t.cipher.algorithms[s]=n},t.cipher.getAlgorithm=function(s){return s=s.toUpperCase(),s in t.cipher.algorithms?t.cipher.algorithms[s]:null};var r=t.cipher.BlockCipher=function(s){this.algorithm=s.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=s.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=s.decrypt,this.algorithm.initialize(s)};r.prototype.start=function(s){s=s||{};var n={};for(var a in s)n[a]=s[a];n.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=s.output||t.util.createBuffer(),this.mode.start(n)},r.prototype.update=function(s){for(s&&this._input.putBuffer(s);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(s){s&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(a){return s(this.blockSize,a,!1)},this.mode.unpad=function(a){return s(this.blockSize,a,!0)});var n={};return n.decrypt=this._decrypt,n.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,n)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,n))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,n))}}}),Dy=Ee({"../../node_modules/node-forge/lib/cipherModes.js"(i,e){"use strict";var t=Ae();Oe(),t.cipher=t.cipher||{};var r=e.exports=t.cipher.modes=t.cipher.modes||{};r.ecb=function(c){c=c||{},this.name="ECB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(c){},r.ecb.prototype.encrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d])},r.ecb.prototype.decrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d])},r.ecb.prototype.pad=function(c,l){var o=c.length()===this.blockSize?this.blockSize:this.blockSize-c.length();return c.fillWithByte(o,o),!0},r.ecb.prototype.unpad=function(c,l){if(l.overflow>0)return!1;var o=c.length(),d=c.at(o-1);return d>this.blockSize<<2?!1:(c.truncate(d),!0)},r.cbc=function(c){c=c||{},this.name="CBC",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(c){if(c.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in c)this._iv=s(c.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},r.cbc.prototype.encrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^c.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(c,l,o){if(c.length()<this.blockSize&&!(o&&c.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=c.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(c,l){var o=c.length()===this.blockSize?this.blockSize:this.blockSize-c.length();return c.fillWithByte(o,o),!0},r.cbc.prototype.unpad=function(c,l){if(l.overflow>0)return!1;var o=c.length(),d=c.at(o-1);return d>this.blockSize<<2?!1:(c.truncate(d),!0)},r.cfb=function(c){c=c||{},this.name="CFB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=s(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(c,l,o){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)this._inBlock[u]=c.getInt32()^this._outBlock[u],l.putInt32(this._inBlock[u]);return}var v=(this.blockSize-d)%this.blockSize;v>0&&(v=this.blockSize-v),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialBlock[u]=c.getInt32()^this._outBlock[u],this._partialOutput.putInt32(this._partialBlock[u]);if(v>0)c.read-=this.blockSize;else for(var u=0;u<this._ints;++u)this._inBlock[u]=this._partialBlock[u];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),v>0&&!o)return l.putBytes(this._partialOutput.getBytes(v-this._partialBytes)),this._partialBytes=v,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.cfb.prototype.decrypt=function(c,l,o){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)this._inBlock[u]=c.getInt32(),l.putInt32(this._inBlock[u]^this._outBlock[u]);return}var v=(this.blockSize-d)%this.blockSize;v>0&&(v=this.blockSize-v),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialBlock[u]=c.getInt32(),this._partialOutput.putInt32(this._partialBlock[u]^this._outBlock[u]);if(v>0)c.read-=this.blockSize;else for(var u=0;u<this._ints;++u)this._inBlock[u]=this._partialBlock[u];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),v>0&&!o)return l.putBytes(this._partialOutput.getBytes(v-this._partialBytes)),this._partialBytes=v,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb=function(c){c=c||{},this.name="OFB",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=s(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(c,l,o){var d=c.length();if(c.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)l.putInt32(c.getInt32()^this._outBlock[u]),this._inBlock[u]=this._outBlock[u];return}var v=(this.blockSize-d)%this.blockSize;v>0&&(v=this.blockSize-v),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialOutput.putInt32(c.getInt32()^this._outBlock[u]);if(v>0)c.read-=this.blockSize;else for(var u=0;u<this._ints;++u)this._inBlock[u]=this._outBlock[u];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),v>0&&!o)return l.putBytes(this._partialOutput.getBytes(v-this._partialBytes)),this._partialBytes=v,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(c){c=c||{},this.name="CTR",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");this._iv=s(c.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(c,l,o){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var u=0;u<this._ints;++u)l.putInt32(c.getInt32()^this._outBlock[u]);else{var v=(this.blockSize-d)%this.blockSize;v>0&&(v=this.blockSize-v),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialOutput.putInt32(c.getInt32()^this._outBlock[u]);if(v>0&&(c.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),v>0&&!o)return l.putBytes(this._partialOutput.getBytes(v-this._partialBytes)),this._partialBytes=v,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}n(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(c){c=c||{},this.name="GCM",this.cipher=c.cipher,this.blockSize=c.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(c){if(!("iv"in c))throw new Error("Invalid IV parameter.");var l=t.util.createBuffer(c.iv);this._cipherLength=0;var o;if("additionalData"in c?o=t.util.createBuffer(c.additionalData):o=t.util.createBuffer(),"tagLength"in c?this._tagLength=c.tagLength:this._tagLength=128,this._tag=null,c.decrypt&&(this._tag=t.util.createBuffer(c.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=l.length();if(d===12)this._j0=[l.getInt32(),l.getInt32(),l.getInt32(),1];else{for(this._j0=[0,0,0,0];l.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(d*8)))}this._inBlock=this._j0.slice(0),n(this._inBlock),this._partialBytes=0,o=t.util.createBuffer(o),this._aDataLength=a(o.length()*8);var u=o.length()%this.blockSize;for(u&&o.fillWithByte(0,this.blockSize-u),this._s=[0,0,0,0];o.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()])},r.gcm.prototype.encrypt=function(c,l,o){var d=c.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var u=0;u<this._ints;++u)l.putInt32(this._outBlock[u]^=c.getInt32());this._cipherLength+=this.blockSize}else{var v=(this.blockSize-d)%this.blockSize;v>0&&(v=this.blockSize-v),this._partialOutput.clear();for(var u=0;u<this._ints;++u)this._partialOutput.putInt32(c.getInt32()^this._outBlock[u]);if(v<=0||o){if(o){var A=d%this.blockSize;this._cipherLength+=A,this._partialOutput.truncate(this.blockSize-A)}else this._cipherLength+=this.blockSize;for(var u=0;u<this._ints;++u)this._outBlock[u]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),v>0&&!o)return c.read-=this.blockSize,l.putBytes(this._partialOutput.getBytes(v-this._partialBytes)),this._partialBytes=v,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),n(this._inBlock)},r.gcm.prototype.decrypt=function(c,l,o){var d=c.length();if(d<this.blockSize&&!(o&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock),this._hashBlock[0]=c.getInt32(),this._hashBlock[1]=c.getInt32(),this._hashBlock[2]=c.getInt32(),this._hashBlock[3]=c.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var u=0;u<this._ints;++u)l.putInt32(this._outBlock[u]^this._hashBlock[u]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(c,l){var o=!0;l.decrypt&&l.overflow&&c.truncate(this.blockSize-l.overflow),this.tag=t.util.createBuffer();var d=this._aDataLength.concat(a(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var u=[];this.cipher.encrypt(this._j0,u);for(var v=0;v<this._ints;++v)this.tag.putInt32(this._s[v]^u[v]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),l.decrypt&&this.tag.bytes()!==this._tag&&(o=!1),o},r.gcm.prototype.multiply=function(c,l){for(var o=[0,0,0,0],d=l.slice(0),u=0;u<128;++u){var v=c[u/32|0]&1<<31-u%32;v&&(o[0]^=d[0],o[1]^=d[1],o[2]^=d[2],o[3]^=d[3]),this.pow(d,d)}return o},r.gcm.prototype.pow=function(c,l){for(var o=c[3]&1,d=3;d>0;--d)l[d]=c[d]>>>1|(c[d-1]&1)<<31;l[0]=c[0]>>>1,o&&(l[0]^=this._R)},r.gcm.prototype.tableMultiply=function(c){for(var l=[0,0,0,0],o=0;o<32;++o){var d=o/8|0,u=c[d]>>>(7-o%8)*4&15,v=this._m[o][u];l[0]^=v[0],l[1]^=v[1],l[2]^=v[2],l[3]^=v[3]}return l},r.gcm.prototype.ghash=function(c,l,o){return l[0]^=o[0],l[1]^=o[1],l[2]^=o[2],l[3]^=o[3],this.tableMultiply(l)},r.gcm.prototype.generateHashTable=function(c,l){for(var o=8/l,d=4*o,u=16*o,v=new Array(u),A=0;A<u;++A){var _=[0,0,0,0],h=A/d|0,E=(d-1-A%d)*l;_[h]=1<<l-1<<E,v[A]=this.generateSubHashTable(this.multiply(_,c),l)}return v},r.gcm.prototype.generateSubHashTable=function(c,l){var o=1<<l,d=o>>>1,u=new Array(o);u[d]=c.slice(0);for(var v=d>>>1;v>0;)this.pow(u[2*v],u[v]=[]),v>>=1;for(v=2;v<d;){for(var A=1;A<v;++A){var _=u[v],h=u[A];u[v+A]=[_[0]^h[0],_[1]^h[1],_[2]^h[2],_[3]^h[3]]}v*=2}for(u[0]=[0,0,0,0],v=d+1;v<o;++v){var E=u[v^d];u[v]=[c[0]^E[0],c[1]^E[1],c[2]^E[2],c[3]^E[3]]}return u};function s(c,l){if(typeof c=="string"&&(c=t.util.createBuffer(c)),t.util.isArray(c)&&c.length>4){var o=c;c=t.util.createBuffer();for(var d=0;d<o.length;++d)c.putByte(o[d])}if(c.length()<l)throw new Error("Invalid IV length; got "+c.length()+" bytes and expected "+l+" bytes.");if(!t.util.isArray(c)){for(var u=[],v=l/4,d=0;d<v;++d)u.push(c.getInt32());c=u}return c}function n(c){c[c.length-1]=c[c.length-1]+1&4294967295}function a(c){return[c/4294967296|0,c&4294967295]}}}),zi=Ee({"../../node_modules/node-forge/lib/aes.js"(i,e){"use strict";var t=Ae();mp(),Dy(),Oe(),e.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(h,E,w,S){var p=_({key:h,output:w,decrypt:!1,mode:S});return p.start(E),p},t.aes.createEncryptionCipher=function(h,E){return _({key:h,output:null,decrypt:!1,mode:E})},t.aes.startDecrypting=function(h,E,w,S){var p=_({key:h,output:w,decrypt:!0,mode:S});return p.start(E),p},t.aes.createDecryptionCipher=function(h,E){return _({key:h,output:null,decrypt:!0,mode:E})},t.aes.Algorithm=function(h,E){s||u();var w=this;w.name=h,w.mode=new E({blockSize:16,cipher:{encrypt:function(S,p){return A(w._w,S,p,!1)},decrypt:function(S,p){return A(w._w,S,p,!0)}}}),w._init=!1},t.aes.Algorithm.prototype.initialize=function(h){if(!this._init){var E=h.key,w;if(typeof E=="string"&&(E.length===16||E.length===24||E.length===32))E=t.util.createBuffer(E);else if(t.util.isArray(E)&&(E.length===16||E.length===24||E.length===32)){w=E,E=t.util.createBuffer();for(var S=0;S<w.length;++S)E.putByte(w[S])}if(!t.util.isArray(E)){w=E,E=[];var p=w.length();if(p===16||p===24||p===32){p=p>>>2;for(var S=0;S<p;++S)E.push(w.getInt32())}}if(!t.util.isArray(E)||!(E.length===4||E.length===6||E.length===8))throw new Error("Invalid key parameter.");var b=this.mode.name,C=["CFB","OFB","CTR","GCM"].indexOf(b)!==-1;this._w=v(E,h.decrypt&&!C),this._init=!0}},t.aes._expandKey=function(h,E){return s||u(),v(h,E)},t.aes._updateBlock=A,r("AES-ECB",t.cipher.modes.ecb),r("AES-CBC",t.cipher.modes.cbc),r("AES-CFB",t.cipher.modes.cfb),r("AES-OFB",t.cipher.modes.ofb),r("AES-CTR",t.cipher.modes.ctr),r("AES-GCM",t.cipher.modes.gcm);function r(h,E){var w=function(){return new t.aes.Algorithm(h,E)};t.cipher.registerAlgorithm(h,w)}var s=!1,n=4,a,c,l,o,d;function u(){s=!0,l=[0,1,2,4,8,16,32,64,128,27,54];for(var h=new Array(256),E=0;E<128;++E)h[E]=E<<1,h[E+128]=E+128<<1^283;a=new Array(256),c=new Array(256),o=new Array(4),d=new Array(4);for(var E=0;E<4;++E)o[E]=new Array(256),d[E]=new Array(256);for(var w=0,S=0,p,b,C,k,B,x,m,E=0;E<256;++E){k=S^S<<1^S<<2^S<<3^S<<4,k=k>>8^k&255^99,a[w]=k,c[k]=w,B=h[k],p=h[w],b=h[p],C=h[b],x=B<<24^k<<16^k<<8^(k^B),m=(p^b^C)<<24^(w^C)<<16^(w^b^C)<<8^(w^p^C);for(var f=0;f<4;++f)o[f][w]=x,d[f][k]=m,x=x<<24|x>>>8,m=m<<24|m>>>8;w===0?w=S=1:(w=p^h[h[h[p^C]]],S^=h[h[S]])}}function v(h,E){for(var w=h.slice(0),S,p=1,b=w.length,C=b+6+1,k=n*C,B=b;B<k;++B)S=w[B-1],B%b===0?(S=a[S>>>16&255]<<24^a[S>>>8&255]<<16^a[S&255]<<8^a[S>>>24]^l[p]<<24,p++):b>6&&B%b===4&&(S=a[S>>>24]<<24^a[S>>>16&255]<<16^a[S>>>8&255]<<8^a[S&255]),w[B]=w[B-b]^S;if(E){var x,m=d[0],f=d[1],T=d[2],P=d[3],q=w.slice(0);k=w.length;for(var B=0,M=k-n;B<k;B+=n,M-=n)if(B===0||B===k-n)q[B]=w[M],q[B+1]=w[M+3],q[B+2]=w[M+2],q[B+3]=w[M+1];else for(var D=0;D<n;++D)x=w[M+D],q[B+(3&-D)]=m[a[x>>>24]]^f[a[x>>>16&255]]^T[a[x>>>8&255]]^P[a[x&255]];w=q}return w}function A(h,E,w,S){var p=h.length/4-1,b,C,k,B,x;S?(b=d[0],C=d[1],k=d[2],B=d[3],x=c):(b=o[0],C=o[1],k=o[2],B=o[3],x=a);var m,f,T,P,q,M,D;m=E[0]^h[0],f=E[S?3:1]^h[1],T=E[2]^h[2],P=E[S?1:3]^h[3];for(var V=3,K=1;K<p;++K)q=b[m>>>24]^C[f>>>16&255]^k[T>>>8&255]^B[P&255]^h[++V],M=b[f>>>24]^C[T>>>16&255]^k[P>>>8&255]^B[m&255]^h[++V],D=b[T>>>24]^C[P>>>16&255]^k[m>>>8&255]^B[f&255]^h[++V],P=b[P>>>24]^C[m>>>16&255]^k[f>>>8&255]^B[T&255]^h[++V],m=q,f=M,T=D;w[0]=x[m>>>24]<<24^x[f>>>16&255]<<16^x[T>>>8&255]<<8^x[P&255]^h[++V],w[S?3:1]=x[f>>>24]<<24^x[T>>>16&255]<<16^x[P>>>8&255]<<8^x[m&255]^h[++V],w[2]=x[T>>>24]<<24^x[P>>>16&255]<<16^x[m>>>8&255]<<8^x[f&255]^h[++V],w[S?1:3]=x[P>>>24]<<24^x[m>>>16&255]<<16^x[f>>>8&255]<<8^x[T&255]^h[++V]}function _(h){h=h||{};var E=(h.mode||"CBC").toUpperCase(),w="AES-"+E,S;h.decrypt?S=t.cipher.createDecipher(w,h.key):S=t.cipher.createCipher(w,h.key);var p=S.start;return S.start=function(b,C){var k=null;C instanceof t.util.ByteBuffer&&(k=C,C={}),C=C||{},C.output=k,C.iv=b,p.call(S,C)},S}}}),$i=Ee({"../../node_modules/node-forge/lib/oids.js"(i,e){"use strict";var t=Ae();t.pki=t.pki||{};var r=e.exports=t.pki.oids=t.oids=t.oids||{};function s(a,c){r[a]=c,r[c]=a}function n(a,c){r[a]=c}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),n("2.5.29.1","authorityKeyIdentifier"),n("2.5.29.2","keyAttributes"),n("2.5.29.3","certificatePolicies"),n("2.5.29.4","keyUsageRestriction"),n("2.5.29.5","policyMapping"),n("2.5.29.6","subtreesConstraint"),n("2.5.29.7","subjectAltName"),n("2.5.29.8","issuerAltName"),n("2.5.29.9","subjectDirectoryAttributes"),n("2.5.29.10","basicConstraints"),n("2.5.29.11","nameConstraints"),n("2.5.29.12","policyConstraints"),n("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),n("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),n("2.5.29.20","cRLNumber"),n("2.5.29.21","cRLReason"),n("2.5.29.22","expirationDate"),n("2.5.29.23","instructionCode"),n("2.5.29.24","invalidityDate"),n("2.5.29.25","cRLDistributionPoints"),n("2.5.29.26","issuingDistributionPoint"),n("2.5.29.27","deltaCRLIndicator"),n("2.5.29.28","issuingDistributionPoint"),n("2.5.29.29","certificateIssuer"),n("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),n("2.5.29.33","policyMappings"),n("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),n("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),n("2.5.29.46","freshestCRL"),n("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")}}),Or=Ee({"../../node_modules/node-forge/lib/asn1.js"(i,e){"use strict";var t=Ae();Oe(),$i();var r=e.exports=t.asn1=t.asn1||{};r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(l,o,d,u,v){if(t.util.isArray(u)){for(var A=[],_=0;_<u.length;++_)u[_]!==void 0&&A.push(u[_]);u=A}var h={tagClass:l,type:o,constructed:d,composed:d||t.util.isArray(u),value:u};return v&&"bitStringContents"in v&&(h.bitStringContents=v.bitStringContents,h.original=r.copy(h)),h},r.copy=function(l,o){var d;if(t.util.isArray(l)){d=[];for(var u=0;u<l.length;++u)d.push(r.copy(l[u],o));return d}return typeof l=="string"?l:(d={tagClass:l.tagClass,type:l.type,constructed:l.constructed,composed:l.composed,value:r.copy(l.value,o)},o&&!o.excludeBitStringContents&&(d.bitStringContents=l.bitStringContents),d)},r.equals=function(l,o,d){if(t.util.isArray(l)){if(!t.util.isArray(o)||l.length!==o.length)return!1;for(var u=0;u<l.length;++u)if(!r.equals(l[u],o[u]))return!1;return!0}if(typeof l!=typeof o)return!1;if(typeof l=="string")return l===o;var v=l.tagClass===o.tagClass&&l.type===o.type&&l.constructed===o.constructed&&l.composed===o.composed&&r.equals(l.value,o.value);return d&&d.includeBitStringContents&&(v=v&&l.bitStringContents===o.bitStringContents),v},r.getBerValueLength=function(l){var o=l.getByte();if(o!==128){var d,u=o&128;return u?d=l.getInt((o&127)<<3):d=o,d}};function s(l,o,d){if(d>o){var u=new Error("Too few bytes to parse DER.");throw u.available=l.length(),u.remaining=o,u.requested=d,u}}var n=function(l,o){var d=l.getByte();if(o--,d!==128){var u,v=d&128;if(!v)u=d;else{var A=d&127;s(l,o,A),u=l.getInt(A<<3)}if(u<0)throw new Error("Negative length: "+u);return u}};r.fromDer=function(l,o){o===void 0&&(o={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof o=="boolean"&&(o={strict:o,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in o||(o.strict=!0),"parseAllBytes"in o||(o.parseAllBytes=!0),"decodeBitStrings"in o||(o.decodeBitStrings=!0),typeof l=="string"&&(l=t.util.createBuffer(l));var d=l.length(),u=a(l,l.length(),0,o);if(o.parseAllBytes&&l.length()!==0){var v=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw v.byteCount=d,v.remaining=l.length(),v}return u};function a(l,o,d,u){var v;s(l,o,2);var A=l.getByte();o--;var _=A&192,h=A&31;v=l.length();var E=n(l,o);if(o-=v-l.length(),E!==void 0&&E>o){if(u.strict){var w=new Error("Too few bytes to read ASN.1 value.");throw w.available=l.length(),w.remaining=o,w.requested=E,w}E=o}var S,p,b=(A&32)===32;if(b)if(S=[],E===void 0)for(;;){if(s(l,o,2),l.bytes(2)==="\0\0"){l.getBytes(2),o-=2;break}v=l.length(),S.push(a(l,o,d+1,u)),o-=v-l.length()}else for(;E>0;)v=l.length(),S.push(a(l,E,d+1,u)),o-=v-l.length(),E-=v-l.length();if(S===void 0&&_===r.Class.UNIVERSAL&&h===r.Type.BITSTRING&&(p=l.bytes(E)),S===void 0&&u.decodeBitStrings&&_===r.Class.UNIVERSAL&&h===r.Type.BITSTRING&&E>1){var C=l.read,k=o,B=0;if(h===r.Type.BITSTRING&&(s(l,o,1),B=l.getByte(),o--),B===0)try{v=l.length();var x={strict:!0,decodeBitStrings:!0},m=a(l,o,d+1,x),f=v-l.length();o-=f,h==r.Type.BITSTRING&&f++;var T=m.tagClass;f===E&&(T===r.Class.UNIVERSAL||T===r.Class.CONTEXT_SPECIFIC)&&(S=[m])}catch{}S===void 0&&(l.read=C,o=k)}if(S===void 0){if(E===void 0){if(u.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");E=o}if(h===r.Type.BMPSTRING)for(S="";E>0;E-=2)s(l,o,2),S+=String.fromCharCode(l.getInt16()),o-=2;else S=l.getBytes(E),o-=E}var P=p===void 0?null:{bitStringContents:p};return r.create(_,h,b,S,P)}r.toDer=function(l){var o=t.util.createBuffer(),d=l.tagClass|l.type,u=t.util.createBuffer(),v=!1;if("bitStringContents"in l&&(v=!0,l.original&&(v=r.equals(l,l.original))),v)u.putBytes(l.bitStringContents);else if(l.composed){l.constructed?d|=32:u.putByte(0);for(var A=0;A<l.value.length;++A)l.value[A]!==void 0&&u.putBuffer(r.toDer(l.value[A]))}else if(l.type===r.Type.BMPSTRING)for(var A=0;A<l.value.length;++A)u.putInt16(l.value.charCodeAt(A));else l.type===r.Type.INTEGER&&l.value.length>1&&(l.value.charCodeAt(0)===0&&!(l.value.charCodeAt(1)&128)||l.value.charCodeAt(0)===255&&(l.value.charCodeAt(1)&128)===128)?u.putBytes(l.value.substr(1)):u.putBytes(l.value);if(o.putByte(d),u.length()<=127)o.putByte(u.length()&127);else{var _=u.length(),h="";do h+=String.fromCharCode(_&255),_=_>>>8;while(_>0);o.putByte(h.length|128);for(var A=h.length-1;A>=0;--A)o.putByte(h.charCodeAt(A))}return o.putBuffer(u),o},r.oidToDer=function(l){var o=l.split("."),d=t.util.createBuffer();d.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var u,v,A,_,h=2;h<o.length;++h){u=!0,v=[],A=parseInt(o[h],10);do _=A&127,A=A>>>7,u||(_|=128),v.push(_),u=!1;while(A>0);for(var E=v.length-1;E>=0;--E)d.putByte(v[E])}return d},r.derToOid=function(l){var o;typeof l=="string"&&(l=t.util.createBuffer(l));var d=l.getByte();o=Math.floor(d/40)+"."+d%40;for(var u=0;l.length()>0;)d=l.getByte(),u=u<<7,d&128?u+=d&127:(o+="."+(u+d),u=0);return o},r.utcTimeToDate=function(l){var o=new Date,d=parseInt(l.substr(0,2),10);d=d>=50?1900+d:2e3+d;var u=parseInt(l.substr(2,2),10)-1,v=parseInt(l.substr(4,2),10),A=parseInt(l.substr(6,2),10),_=parseInt(l.substr(8,2),10),h=0;if(l.length>11){var E=l.charAt(10),w=10;E!=="+"&&E!=="-"&&(h=parseInt(l.substr(10,2),10),w+=2)}if(o.setUTCFullYear(d,u,v),o.setUTCHours(A,_,h,0),w&&(E=l.charAt(w),E==="+"||E==="-")){var S=parseInt(l.substr(w+1,2),10),p=parseInt(l.substr(w+4,2),10),b=S*60+p;b*=6e4,E==="+"?o.setTime(+o-b):o.setTime(+o+b)}return o},r.generalizedTimeToDate=function(l){var o=new Date,d=parseInt(l.substr(0,4),10),u=parseInt(l.substr(4,2),10)-1,v=parseInt(l.substr(6,2),10),A=parseInt(l.substr(8,2),10),_=parseInt(l.substr(10,2),10),h=parseInt(l.substr(12,2),10),E=0,w=0,S=!1;l.charAt(l.length-1)==="Z"&&(S=!0);var p=l.length-5,b=l.charAt(p);if(b==="+"||b==="-"){var C=parseInt(l.substr(p+1,2),10),k=parseInt(l.substr(p+4,2),10);w=C*60+k,w*=6e4,b==="+"&&(w*=-1),S=!0}return l.charAt(14)==="."&&(E=parseFloat(l.substr(14),10)*1e3),S?(o.setUTCFullYear(d,u,v),o.setUTCHours(A,_,h,E),o.setTime(+o+w)):(o.setFullYear(d,u,v),o.setHours(A,_,h,E)),o},r.dateToUtcTime=function(l){if(typeof l=="string")return l;var o="",d=[];d.push((""+l.getUTCFullYear()).substr(2)),d.push(""+(l.getUTCMonth()+1)),d.push(""+l.getUTCDate()),d.push(""+l.getUTCHours()),d.push(""+l.getUTCMinutes()),d.push(""+l.getUTCSeconds());for(var u=0;u<d.length;++u)d[u].length<2&&(o+="0"),o+=d[u];return o+="Z",o},r.dateToGeneralizedTime=function(l){if(typeof l=="string")return l;var o="",d=[];d.push(""+l.getUTCFullYear()),d.push(""+(l.getUTCMonth()+1)),d.push(""+l.getUTCDate()),d.push(""+l.getUTCHours()),d.push(""+l.getUTCMinutes()),d.push(""+l.getUTCSeconds());for(var u=0;u<d.length;++u)d[u].length<2&&(o+="0"),o+=d[u];return o+="Z",o},r.integerToDer=function(l){var o=t.util.createBuffer();if(l>=-128&&l<128)return o.putSignedInt(l,8);if(l>=-32768&&l<32768)return o.putSignedInt(l,16);if(l>=-8388608&&l<8388608)return o.putSignedInt(l,24);if(l>=-2147483648&&l<2147483648)return o.putSignedInt(l,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=l,d},r.derToInteger=function(l){typeof l=="string"&&(l=t.util.createBuffer(l));var o=l.length()*8;if(o>32)throw new Error("Integer too large; max is 32-bits.");return l.getSignedInt(o)},r.validate=function(l,o,d,u){var v=!1;if((l.tagClass===o.tagClass||typeof o.tagClass>"u")&&(l.type===o.type||typeof o.type>"u"))if(l.constructed===o.constructed||typeof o.constructed>"u"){if(v=!0,o.value&&t.util.isArray(o.value))for(var A=0,_=0;v&&_<o.value.length;++_)v=o.value[_].optional||!1,l.value[A]&&(v=r.validate(l.value[A],o.value[_],d,u),v?++A:o.value[_].optional&&(v=!0)),!v&&u&&u.push("["+o.name+'] Tag class "'+o.tagClass+'", type "'+o.type+'" expected value length "'+o.value.length+'", got "'+l.value.length+'"');if(v&&d&&(o.capture&&(d[o.capture]=l.value),o.captureAsn1&&(d[o.captureAsn1]=l),o.captureBitStringContents&&"bitStringContents"in l&&(d[o.captureBitStringContents]=l.bitStringContents),o.captureBitStringValue&&"bitStringContents"in l)){var h;if(l.bitStringContents.length<2)d[o.captureBitStringValue]="";else{var E=l.bitStringContents.charCodeAt(0);if(E!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[o.captureBitStringValue]=l.bitStringContents.slice(1)}}}else u&&u.push("["+o.name+'] Expected constructed "'+o.constructed+'", got "'+l.constructed+'"');else u&&(l.tagClass!==o.tagClass&&u.push("["+o.name+'] Expected tag class "'+o.tagClass+'", got "'+l.tagClass+'"'),l.type!==o.type&&u.push("["+o.name+'] Expected type "'+o.type+'", got "'+l.type+'"'));return v};var c=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(l,o,d){var u="";o=o||0,d=d||2,o>0&&(u+=`
`);for(var v="",A=0;A<o*d;++A)v+=" ";switch(u+=v+"Tag: ",l.tagClass){case r.Class.UNIVERSAL:u+="Universal:";break;case r.Class.APPLICATION:u+="Application:";break;case r.Class.CONTEXT_SPECIFIC:u+="Context-Specific:";break;case r.Class.PRIVATE:u+="Private:";break}if(l.tagClass===r.Class.UNIVERSAL)switch(u+=l.type,l.type){case r.Type.NONE:u+=" (None)";break;case r.Type.BOOLEAN:u+=" (Boolean)";break;case r.Type.INTEGER:u+=" (Integer)";break;case r.Type.BITSTRING:u+=" (Bit string)";break;case r.Type.OCTETSTRING:u+=" (Octet string)";break;case r.Type.NULL:u+=" (Null)";break;case r.Type.OID:u+=" (Object Identifier)";break;case r.Type.ODESC:u+=" (Object Descriptor)";break;case r.Type.EXTERNAL:u+=" (External or Instance of)";break;case r.Type.REAL:u+=" (Real)";break;case r.Type.ENUMERATED:u+=" (Enumerated)";break;case r.Type.EMBEDDED:u+=" (Embedded PDV)";break;case r.Type.UTF8:u+=" (UTF8)";break;case r.Type.ROID:u+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:u+=" (Sequence)";break;case r.Type.SET:u+=" (Set)";break;case r.Type.PRINTABLESTRING:u+=" (Printable String)";break;case r.Type.IA5String:u+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:u+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:u+=" (Generalized time)";break;case r.Type.BMPSTRING:u+=" (BMP String)";break}else u+=l.type;if(u+=`
`,u+=v+"Constructed: "+l.constructed+`
`,l.composed){for(var _=0,h="",A=0;A<l.value.length;++A)l.value[A]!==void 0&&(_+=1,h+=r.prettyPrint(l.value[A],o+1,d),A+1<l.value.length&&(h+=","));u+=v+"Sub values: "+_+h}else{if(u+=v+"Value: ",l.type===r.Type.OID){var E=r.derToOid(l.value);u+=E,t.pki&&t.pki.oids&&E in t.pki.oids&&(u+=" ("+t.pki.oids[E]+") ")}if(l.type===r.Type.INTEGER)try{u+=r.derToInteger(l.value)}catch{u+="0x"+t.util.bytesToHex(l.value)}else if(l.type===r.Type.BITSTRING){if(l.value.length>1?u+="0x"+t.util.bytesToHex(l.value.slice(1)):u+="(none)",l.value.length>0){var w=l.value.charCodeAt(0);w==1?u+=" (1 unused bit shown)":w>1&&(u+=" ("+w+" unused bits shown)")}}else if(l.type===r.Type.OCTETSTRING)c.test(l.value)||(u+="("+l.value+") "),u+="0x"+t.util.bytesToHex(l.value);else if(l.type===r.Type.UTF8)try{u+=t.util.decodeUtf8(l.value)}catch(S){if(S.message==="URI malformed")u+="0x"+t.util.bytesToHex(l.value)+" (malformed UTF8)";else throw S}else l.type===r.Type.PRINTABLESTRING||l.type===r.Type.IA5String?u+=l.value:c.test(l.value)?u+="0x"+t.util.bytesToHex(l.value):l.value.length===0?u+="[null]":u+=l.value}return u}}}),ti=Ee({"../../node_modules/node-forge/lib/md.js"(i,e){"use strict";var t=Ae();e.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}}}),oa=Ee({"../../node_modules/node-forge/lib/hmac.js"(i,e){"use strict";var t=Ae();ti(),Oe();var r=e.exports=t.hmac=t.hmac||{};r.create=function(){var s=null,n=null,a=null,c=null,l={};return l.start=function(o,d){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in t.md.algorithms)n=t.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else n=o;if(d===null)d=s;else{if(typeof d=="string")d=t.util.createBuffer(d);else if(t.util.isArray(d)){var u=d;d=t.util.createBuffer();for(var v=0;v<u.length;++v)d.putByte(u[v])}var A=d.length();A>n.blockLength&&(n.start(),n.update(d.bytes()),d=n.digest()),a=t.util.createBuffer(),c=t.util.createBuffer(),A=d.length();for(var v=0;v<A;++v){var u=d.at(v);a.putByte(54^u),c.putByte(92^u)}if(A<n.blockLength)for(var u=n.blockLength-A,v=0;v<u;++v)a.putByte(54),c.putByte(92);s=d,a=a.bytes(),c=c.bytes()}n.start(),n.update(a)},l.update=function(o){n.update(o)},l.getMac=function(){var o=n.digest().bytes();return n.start(),n.update(c),n.update(o),n.digest()},l.digest=l.getMac,l}}}),gp=Ee({"../../node_modules/node-forge/lib/md5.js"(i,e){"use strict";var t=Ae();ti(),Oe();var r=e.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=r,r.create=function(){l||o();var u=null,v=t.util.createBuffer(),A=new Array(16),_={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return _.start=function(){_.messageLength=0,_.fullMessageLength=_.messageLength64=[];for(var h=_.messageLengthSize/4,E=0;E<h;++E)_.fullMessageLength.push(0);return v=t.util.createBuffer(),u={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},_},_.start(),_.update=function(h,E){E==="utf8"&&(h=t.util.encodeUtf8(h));var w=h.length;_.messageLength+=w,w=[w/4294967296>>>0,w>>>0];for(var S=_.fullMessageLength.length-1;S>=0;--S)_.fullMessageLength[S]+=w[1],w[1]=w[0]+(_.fullMessageLength[S]/4294967296>>>0),_.fullMessageLength[S]=_.fullMessageLength[S]>>>0,w[0]=w[1]/4294967296>>>0;return v.putBytes(h),d(u,A,v),(v.read>2048||v.length()===0)&&v.compact(),_},_.digest=function(){var h=t.util.createBuffer();h.putBytes(v.bytes());var E=_.fullMessageLength[_.fullMessageLength.length-1]+_.messageLengthSize,w=E&_.blockLength-1;h.putBytes(s.substr(0,_.blockLength-w));for(var S,p=0,b=_.fullMessageLength.length-1;b>=0;--b)S=_.fullMessageLength[b]*8+p,p=S/4294967296>>>0,h.putInt32Le(S>>>0);var C={h0:u.h0,h1:u.h1,h2:u.h2,h3:u.h3};d(C,A,h);var k=t.util.createBuffer();return k.putInt32Le(C.h0),k.putInt32Le(C.h1),k.putInt32Le(C.h2),k.putInt32Le(C.h3),k},_};var s=null,n=null,a=null,c=null,l=!1;function o(){s="\x80",s+=t.util.fillString("\0",64),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var u=0;u<64;++u)c[u]=Math.floor(Math.abs(Math.sin(u+1))*4294967296);l=!0}function d(u,v,A){for(var _,h,E,w,S,p,b,C,k=A.length();k>=64;){for(h=u.h0,E=u.h1,w=u.h2,S=u.h3,C=0;C<16;++C)v[C]=A.getInt32Le(),p=S^E&(w^S),_=h+p+c[C]+v[C],b=a[C],h=S,S=w,w=E,E+=_<<b|_>>>32-b;for(;C<32;++C)p=w^S&(E^w),_=h+p+c[C]+v[n[C]],b=a[C],h=S,S=w,w=E,E+=_<<b|_>>>32-b;for(;C<48;++C)p=E^w^S,_=h+p+c[C]+v[n[C]],b=a[C],h=S,S=w,w=E,E+=_<<b|_>>>32-b;for(;C<64;++C)p=w^(E|~S),_=h+p+c[C]+v[n[C]],b=a[C],h=S,S=w,w=E,E+=_<<b|_>>>32-b;u.h0=u.h0+h|0,u.h1=u.h1+E|0,u.h2=u.h2+w|0,u.h3=u.h3+S|0,k-=64}}}}),Ls=Ee({"../../node_modules/node-forge/lib/pem.js"(i,e){"use strict";var t=Ae();Oe();var r=e.exports=t.pem=t.pem||{};r.encode=function(a,c){c=c||{};var l="-----BEGIN "+a.type+`-----\r
`,o;if(a.procType&&(o={name:"Proc-Type",values:[String(a.procType.version),a.procType.type]},l+=s(o)),a.contentDomain&&(o={name:"Content-Domain",values:[a.contentDomain]},l+=s(o)),a.dekInfo&&(o={name:"DEK-Info",values:[a.dekInfo.algorithm]},a.dekInfo.parameters&&o.values.push(a.dekInfo.parameters),l+=s(o)),a.headers)for(var d=0;d<a.headers.length;++d)l+=s(a.headers[d]);return a.procType&&(l+=`\r
`),l+=t.util.encode64(a.body,c.maxline||64)+`\r
`,l+="-----END "+a.type+`-----\r
`,l},r.decode=function(a){for(var c=[],l=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,u;u=l.exec(a),!!u;){var v=u[1];v==="NEW CERTIFICATE REQUEST"&&(v="CERTIFICATE REQUEST");var A={type:v,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(u[3])};if(c.push(A),!!u[2]){for(var _=u[2].split(d),h=0;u&&h<_.length;){for(var E=_[h].replace(/\s+$/,""),w=h+1;w<_.length;++w){var S=_[w];if(!/\s/.test(S[0]))break;E+=S,h=w}if(u=E.match(o),u){for(var p={name:u[1],values:[]},b=u[2].split(","),C=0;C<b.length;++C)p.values.push(n(b[C]));if(A.procType)if(!A.contentDomain&&p.name==="Content-Domain")A.contentDomain=b[0]||"";else if(!A.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');A.dekInfo={algorithm:b[0],parameters:b[1]||null}}else A.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');A.procType={version:b[0],type:b[1]}}}++h}if(A.procType==="ENCRYPTED"&&!A.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(c.length===0)throw new Error("Invalid PEM formatted message.");return c};function s(a){for(var c=a.name+": ",l=[],o=function(_,h){return" "+h},d=0;d<a.values.length;++d)l.push(a.values[d].replace(/^(\S+\r\n)/,o));c+=l.join(",")+`\r
`;for(var u=0,v=-1,d=0;d<c.length;++d,++u)if(u>65&&v!==-1){var A=c[v];A===","?(++v,c=c.substr(0,v)+`\r
 `+c.substr(v)):c=c.substr(0,v)+`\r
`+A+c.substr(v+1),u=d-v-1,v=-1,++d}else(c[d]===" "||c[d]==="	"||c[d]===",")&&(v=d);return c}function n(a){return a.replace(/^\s+/,"")}}}),tc=Ee({"../../node_modules/node-forge/lib/des.js"(i,e){"use strict";var t=Ae();mp(),Dy(),Oe(),e.exports=t.des=t.des||{},t.des.startEncrypting=function(h,E,w,S){var p=_({key:h,output:w,decrypt:!1,mode:S||(E===null?"ECB":"CBC")});return p.start(E),p},t.des.createEncryptionCipher=function(h,E){return _({key:h,output:null,decrypt:!1,mode:E})},t.des.startDecrypting=function(h,E,w,S){var p=_({key:h,output:w,decrypt:!0,mode:S||(E===null?"ECB":"CBC")});return p.start(E),p},t.des.createDecryptionCipher=function(h,E){return _({key:h,output:null,decrypt:!0,mode:E})},t.des.Algorithm=function(h,E){var w=this;w.name=h,w.mode=new E({blockSize:8,cipher:{encrypt:function(S,p){return A(w._keys,S,p,!1)},decrypt:function(S,p){return A(w._keys,S,p,!0)}}}),w._init=!1},t.des.Algorithm.prototype.initialize=function(h){if(!this._init){var E=t.util.createBuffer(h.key);if(this.name.indexOf("3DES")===0&&E.length()!==24)throw new Error("Invalid Triple-DES key size: "+E.length()*8);this._keys=v(E),this._init=!0}},r("DES-ECB",t.cipher.modes.ecb),r("DES-CBC",t.cipher.modes.cbc),r("DES-CFB",t.cipher.modes.cfb),r("DES-OFB",t.cipher.modes.ofb),r("DES-CTR",t.cipher.modes.ctr),r("3DES-ECB",t.cipher.modes.ecb),r("3DES-CBC",t.cipher.modes.cbc),r("3DES-CFB",t.cipher.modes.cfb),r("3DES-OFB",t.cipher.modes.ofb),r("3DES-CTR",t.cipher.modes.ctr);function r(h,E){var w=function(){return new t.des.Algorithm(h,E)};t.cipher.registerAlgorithm(h,w)}var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],n=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],a=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],o=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],u=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function v(h){for(var E=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],w=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],S=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],p=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],b=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],C=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],k=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],B=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],x=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],m=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],T=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],P=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],q=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],M=h.length()>8?3:1,D=[],V=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],K=0,G,Z=0;Z<M;Z++){var te=h.getInt32(),se=h.getInt32();G=(te>>>4^se)&252645135,se^=G,te^=G<<4,G=(se>>>-16^te)&65535,te^=G,se^=G<<-16,G=(te>>>2^se)&858993459,se^=G,te^=G<<2,G=(se>>>-16^te)&65535,te^=G,se^=G<<-16,G=(te>>>1^se)&1431655765,se^=G,te^=G<<1,G=(se>>>8^te)&16711935,te^=G,se^=G<<8,G=(te>>>1^se)&1431655765,se^=G,te^=G<<1,G=te<<8|se>>>20&240,te=se<<24|se<<8&16711680|se>>>8&65280|se>>>24&240,se=G;for(var ne=0;ne<V.length;++ne){V[ne]?(te=te<<2|te>>>26,se=se<<2|se>>>26):(te=te<<1|te>>>27,se=se<<1|se>>>27),te&=-15,se&=-15;var ve=E[te>>>28]|w[te>>>24&15]|S[te>>>20&15]|p[te>>>16&15]|b[te>>>12&15]|C[te>>>8&15]|k[te>>>4&15],xe=B[se>>>28]|x[se>>>24&15]|m[se>>>20&15]|f[se>>>16&15]|T[se>>>12&15]|P[se>>>8&15]|q[se>>>4&15];G=(xe>>>16^ve)&65535,D[K++]=ve^G,D[K++]=xe^G<<16}}return D}function A(h,E,w,S){var p=h.length===32?3:9,b;p===3?b=S?[30,-2,-2]:[0,32,2]:b=S?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var C,k=E[0],B=E[1];C=(k>>>4^B)&252645135,B^=C,k^=C<<4,C=(k>>>16^B)&65535,B^=C,k^=C<<16,C=(B>>>2^k)&858993459,k^=C,B^=C<<2,C=(B>>>8^k)&16711935,k^=C,B^=C<<8,C=(k>>>1^B)&1431655765,B^=C,k^=C<<1,k=k<<1|k>>>31,B=B<<1|B>>>31;for(var x=0;x<p;x+=3){for(var m=b[x+1],f=b[x+2],T=b[x];T!=m;T+=f){var P=B^h[T],q=(B>>>4|B<<28)^h[T+1];C=k,k=B,B=C^(n[P>>>24&63]|c[P>>>16&63]|o[P>>>8&63]|u[P&63]|s[q>>>24&63]|a[q>>>16&63]|l[q>>>8&63]|d[q&63])}C=k,k=B,B=C}k=k>>>1|k<<31,B=B>>>1|B<<31,C=(k>>>1^B)&1431655765,B^=C,k^=C<<1,C=(B>>>8^k)&16711935,k^=C,B^=C<<8,C=(B>>>2^k)&858993459,k^=C,B^=C<<2,C=(k>>>16^B)&65535,B^=C,k^=C<<16,C=(k>>>4^B)&252645135,B^=C,k^=C<<4,w[0]=k,w[1]=B}function _(h){h=h||{};var E=(h.mode||"CBC").toUpperCase(),w="DES-"+E,S;h.decrypt?S=t.cipher.createDecipher(w,h.key):S=t.cipher.createCipher(w,h.key);var p=S.start;return S.start=function(b,C){var k=null;C instanceof t.util.ByteBuffer&&(k=C,C={}),C=C||{},C.output=k,C.iv=b,p.call(S,C)},S}}}),vp=Ee({"../../node_modules/node-forge/lib/pbkdf2.js"(i,e){"use strict";var t=Ae();oa(),ti(),Oe();var r=t.pkcs5=t.pkcs5||{},s;t.util.isNodejs&&!t.options.usePureJavaScript&&(s=hp("crypto")),e.exports=t.pbkdf2=r.pbkdf2=function(n,a,c,l,o,d){if(typeof o=="function"&&(d=o,o=null),t.util.isNodejs&&!t.options.usePureJavaScript&&s.pbkdf2&&(o===null||typeof o!="object")&&(s.pbkdf2Sync.length>4||!o||o==="sha1"))return typeof o!="string"&&(o="sha1"),n=Buffer.from(n,"binary"),a=Buffer.from(a,"binary"),d?s.pbkdf2Sync.length===4?s.pbkdf2(n,a,c,l,function(x,m){if(x)return d(x);d(null,m.toString("binary"))}):s.pbkdf2(n,a,c,l,o,function(x,m){if(x)return d(x);d(null,m.toString("binary"))}):s.pbkdf2Sync.length===4?s.pbkdf2Sync(n,a,c,l).toString("binary"):s.pbkdf2Sync(n,a,c,l,o).toString("binary");if((typeof o>"u"||o===null)&&(o="sha1"),typeof o=="string"){if(!(o in t.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=t.md[o].create()}var u=o.digestLength;if(l>4294967295*u){var v=new Error("Derived key is too long.");if(d)return d(v);throw v}var A=Math.ceil(l/u),_=l-(A-1)*u,h=t.hmac.create();h.start(o,n);var E="",w,S,p;if(!d){for(var b=1;b<=A;++b){h.start(null,null),h.update(a),h.update(t.util.int32ToBytes(b)),w=p=h.digest().getBytes();for(var C=2;C<=c;++C)h.start(null,null),h.update(p),S=h.digest().getBytes(),w=t.util.xorBytes(w,S,u),p=S;E+=b<A?w:w.substr(0,_)}return E}var b=1,C;function k(){if(b>A)return d(null,E);h.start(null,null),h.update(a),h.update(t.util.int32ToBytes(b)),w=p=h.digest().getBytes(),C=2,B()}function B(){if(C<=c)return h.start(null,null),h.update(p),S=h.digest().getBytes(),w=t.util.xorBytes(w,S,u),p=S,++C,t.util.setImmediate(B);E+=b<A?w:w.substr(0,_),++b,k()}k()}}}),Uy=Ee({"../../node_modules/node-forge/lib/sha256.js"(i,e){"use strict";var t=Ae();ti(),Oe();var r=e.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=r,r.create=function(){n||c();var o=null,d=t.util.createBuffer(),u=new Array(64),v={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return v.start=function(){v.messageLength=0,v.fullMessageLength=v.messageLength64=[];for(var A=v.messageLengthSize/4,_=0;_<A;++_)v.fullMessageLength.push(0);return d=t.util.createBuffer(),o={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},v},v.start(),v.update=function(A,_){_==="utf8"&&(A=t.util.encodeUtf8(A));var h=A.length;v.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var E=v.fullMessageLength.length-1;E>=0;--E)v.fullMessageLength[E]+=h[1],h[1]=h[0]+(v.fullMessageLength[E]/4294967296>>>0),v.fullMessageLength[E]=v.fullMessageLength[E]>>>0,h[0]=h[1]/4294967296>>>0;return d.putBytes(A),l(o,u,d),(d.read>2048||d.length()===0)&&d.compact(),v},v.digest=function(){var A=t.util.createBuffer();A.putBytes(d.bytes());var _=v.fullMessageLength[v.fullMessageLength.length-1]+v.messageLengthSize,h=_&v.blockLength-1;A.putBytes(s.substr(0,v.blockLength-h));for(var E,w,S=v.fullMessageLength[0]*8,p=0;p<v.fullMessageLength.length-1;++p)E=v.fullMessageLength[p+1]*8,w=E/4294967296>>>0,S+=w,A.putInt32(S>>>0),S=E>>>0;A.putInt32(S);var b={h0:o.h0,h1:o.h1,h2:o.h2,h3:o.h3,h4:o.h4,h5:o.h5,h6:o.h6,h7:o.h7};l(b,u,A);var C=t.util.createBuffer();return C.putInt32(b.h0),C.putInt32(b.h1),C.putInt32(b.h2),C.putInt32(b.h3),C.putInt32(b.h4),C.putInt32(b.h5),C.putInt32(b.h6),C.putInt32(b.h7),C},v};var s=null,n=!1,a=null;function c(){s="\x80",s+=t.util.fillString("\0",64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0}function l(o,d,u){for(var v,A,_,h,E,w,S,p,b,C,k,B,x,m,f,T=u.length();T>=64;){for(S=0;S<16;++S)d[S]=u.getInt32();for(;S<64;++S)v=d[S-2],v=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,A=d[S-15],A=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,d[S]=v+d[S-7]+A+d[S-16]|0;for(p=o.h0,b=o.h1,C=o.h2,k=o.h3,B=o.h4,x=o.h5,m=o.h6,f=o.h7,S=0;S<64;++S)h=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),E=m^B&(x^m),_=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),w=p&b|C&(p^b),v=f+h+E+a[S]+d[S],A=_+w,f=m,m=x,x=B,B=k+v>>>0,k=C,C=b,b=p,p=v+A>>>0;o.h0=o.h0+p|0,o.h1=o.h1+b|0,o.h2=o.h2+C|0,o.h3=o.h3+k|0,o.h4=o.h4+B|0,o.h5=o.h5+x|0,o.h6=o.h6+m|0,o.h7=o.h7+f|0,T-=64}}}}),My=Ee({"../../node_modules/node-forge/lib/prng.js"(i,e){"use strict";var t=Ae();Oe();var r=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r=hp("crypto"));var s=e.exports=t.prng=t.prng||{};s.create=function(n){for(var a={plugin:n,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},c=n.md,l=new Array(32),o=0;o<32;++o)l[o]=c.create();a.pools=l,a.pool=0,a.generate=function(_,h){if(!h)return a.generateSync(_);var E=a.plugin.cipher,w=a.plugin.increment,S=a.plugin.formatKey,p=a.plugin.formatSeed,b=t.util.createBuffer();a.key=null,C();function C(k){if(k)return h(k);if(b.length()>=_)return h(null,b.getBytes(_));if(a.generated>1048575&&(a.key=null),a.key===null)return t.util.nextTick(function(){d(C)});var B=E(a.key,a.seed);a.generated+=B.length,b.putBytes(B),a.key=S(E(a.key,w(a.seed))),a.seed=p(E(a.key,a.seed)),t.util.setImmediate(C)}},a.generateSync=function(_){var h=a.plugin.cipher,E=a.plugin.increment,w=a.plugin.formatKey,S=a.plugin.formatSeed;a.key=null;for(var p=t.util.createBuffer();p.length()<_;){a.generated>1048575&&(a.key=null),a.key===null&&u();var b=h(a.key,a.seed);a.generated+=b.length,p.putBytes(b),a.key=w(h(a.key,E(a.seed))),a.seed=S(h(a.key,a.seed))}return p.getBytes(_)};function d(_){if(a.pools[0].messageLength>=32)return v(),_();var h=32-a.pools[0].messageLength<<5;a.seedFile(h,function(E,w){if(E)return _(E);a.collect(w),v(),_()})}function u(){if(a.pools[0].messageLength>=32)return v();var _=32-a.pools[0].messageLength<<5;a.collect(a.seedFileSync(_)),v()}function v(){a.reseeds=a.reseeds===4294967295?0:a.reseeds+1;var _=a.plugin.md.create();_.update(a.keyBytes);for(var h=1,E=0;E<32;++E)a.reseeds%h===0&&(_.update(a.pools[E].digest().getBytes()),a.pools[E].start()),h=h<<1;a.keyBytes=_.digest().getBytes(),_.start(),_.update(a.keyBytes);var w=_.digest().getBytes();a.key=a.plugin.formatKey(a.keyBytes),a.seed=a.plugin.formatSeed(w),a.generated=0}function A(_){var h=null,E=t.util.globalScope,w=E.crypto||E.msCrypto;w&&w.getRandomValues&&(h=function(f){return w.getRandomValues(f)});var S=t.util.createBuffer();if(h)for(;S.length()<_;){var p=Math.max(1,Math.min(_-S.length(),65536)/4),b=new Uint32Array(Math.floor(p));try{h(b);for(var C=0;C<b.length;++C)S.putInt32(b[C])}catch(f){if(!(typeof QuotaExceededError<"u"&&f instanceof QuotaExceededError))throw f}}if(S.length()<_)for(var k,B,x,m=Math.floor(Math.random()*65536);S.length()<_;){B=16807*(m&65535),k=16807*(m>>16),B+=(k&32767)<<16,B+=k>>15,B=(B&2147483647)+(B>>31),m=B&4294967295;for(var C=0;C<3;++C)x=m>>>(C<<3),x^=Math.floor(Math.random()*256),S.putByte(x&255)}return S.getBytes(_)}return r?(a.seedFile=function(_,h){r.randomBytes(_,function(E,w){if(E)return h(E);h(null,w.toString())})},a.seedFileSync=function(_){return r.randomBytes(_).toString()}):(a.seedFile=function(_,h){try{h(null,A(_))}catch(E){h(E)}},a.seedFileSync=A),a.collect=function(_){for(var h=_.length,E=0;E<h;++E)a.pools[a.pool].update(_.substr(E,1)),a.pool=a.pool===31?0:a.pool+1},a.collectInt=function(_,h){for(var E="",w=0;w<h;w+=8)E+=String.fromCharCode(_>>w&255);a.collect(E)},a.registerWorker=function(_){if(_===self)a.seedFile=function(E,w){function S(p){var b=p.data;b.forge&&b.forge.prng&&(self.removeEventListener("message",S),w(b.forge.prng.err,b.forge.prng.bytes))}self.addEventListener("message",S),self.postMessage({forge:{prng:{needed:E}}})};else{var h=function(E){var w=E.data;w.forge&&w.forge.prng&&a.seedFile(w.forge.prng.needed,function(S,p){_.postMessage({forge:{prng:{err:S,bytes:p}}})})};_.addEventListener("message",h)}},a}}}),Sr=Ee({"../../node_modules/node-forge/lib/random.js"(i,e){"use strict";var t=Ae();zi(),Uy(),My(),Oe(),function(){if(t.random&&t.random.getBytes){e.exports=t.random;return}(function(r){var s={},n=new Array(4),a=t.util.createBuffer();s.formatKey=function(_){var h=t.util.createBuffer(_);return _=new Array(4),_[0]=h.getInt32(),_[1]=h.getInt32(),_[2]=h.getInt32(),_[3]=h.getInt32(),t.aes._expandKey(_,!1)},s.formatSeed=function(_){var h=t.util.createBuffer(_);return _=new Array(4),_[0]=h.getInt32(),_[1]=h.getInt32(),_[2]=h.getInt32(),_[3]=h.getInt32(),_},s.cipher=function(_,h){return t.aes._updateBlock(_,h,n,!1),a.putInt32(n[0]),a.putInt32(n[1]),a.putInt32(n[2]),a.putInt32(n[3]),a.getBytes()},s.increment=function(_){return++_[3],_},s.md=t.md.sha256;function c(){var _=t.prng.create(s);return _.getBytes=function(h,E){return _.generate(h,E)},_.getBytesSync=function(h){return _.generate(h)},_}var l=c(),o=null,d=t.util.globalScope,u=d.crypto||d.msCrypto;if(u&&u.getRandomValues&&(o=function(_){return u.getRandomValues(_)}),t.options.usePureJavaScript||!t.util.isNodejs&&!o){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var v="";for(var A in navigator)try{typeof navigator[A]=="string"&&(v+=navigator[A])}catch{}l.collect(v),v=null}r&&(r().mousemove(function(_){l.collectInt(_.clientX,16),l.collectInt(_.clientY,16)}),r().keypress(function(_){l.collectInt(_.charCode,8)}))}if(!t.random)t.random=l;else for(var A in l)t.random[A]=l[A];t.random.createInstance=c,e.exports=t.random})(typeof jQuery<"u"?jQuery:null)}()}}),Fy=Ee({"../../node_modules/node-forge/lib/rc2.js"(i,e){"use strict";var t=Ae();Oe();var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],n=function(l,o){return l<<o&65535|(l&65535)>>16-o},a=function(l,o){return(l&65535)>>o|l<<16-o&65535};e.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(l,o){typeof l=="string"&&(l=t.util.createBuffer(l)),o=o||128;var d=l,u=l.length(),v=o,A=Math.ceil(v/8),_=255>>(v&7),h;for(h=u;h<128;h++)d.putByte(r[d.at(h-1)+d.at(h-u)&255]);for(d.setAt(128-A,r[d.at(128-A)&_]),h=127-A;h>=0;h--)d.setAt(h,r[d.at(h+1)^d.at(h+A)]);return d};var c=function(l,o,d){var u=!1,v=null,A=null,_=null,h,E,w,S,p=[];for(l=t.rc2.expandKey(l,o),w=0;w<64;w++)p.push(l.getInt16Le());d?(h=function(k){for(w=0;w<4;w++)k[w]+=p[S]+(k[(w+3)%4]&k[(w+2)%4])+(~k[(w+3)%4]&k[(w+1)%4]),k[w]=n(k[w],s[w]),S++},E=function(k){for(w=0;w<4;w++)k[w]+=p[k[(w+3)%4]&63]}):(h=function(k){for(w=3;w>=0;w--)k[w]=a(k[w],s[w]),k[w]-=p[S]+(k[(w+3)%4]&k[(w+2)%4])+(~k[(w+3)%4]&k[(w+1)%4]),S--},E=function(k){for(w=3;w>=0;w--)k[w]-=p[k[(w+3)%4]&63]});var b=function(k){var B=[];for(w=0;w<4;w++){var x=v.getInt16Le();_!==null&&(d?x^=_.getInt16Le():_.putInt16Le(x)),B.push(x&65535)}S=d?0:63;for(var m=0;m<k.length;m++)for(var f=0;f<k[m][0];f++)k[m][1](B);for(w=0;w<4;w++)_!==null&&(d?_.putInt16Le(B[w]):B[w]^=_.getInt16Le()),A.putInt16Le(B[w])},C=null;return C={start:function(k,B){k&&typeof k=="string"&&(k=t.util.createBuffer(k)),u=!1,v=t.util.createBuffer(),A=B||new t.util.createBuffer,_=k,C.output=A},update:function(k){for(u||v.putBuffer(k);v.length()>=8;)b([[5,h],[1,E],[6,h],[1,E],[5,h]])},finish:function(k){var B=!0;if(d)if(k)B=k(8,v,!d);else{var x=v.length()===8?8:8-v.length();v.fillWithByte(x,x)}if(B&&(u=!0,C.update()),!d&&(B=v.length()===0,B))if(k)B=k(8,A,!d);else{var m=A.length(),f=A.at(m-1);f>m?B=!1:A.truncate(f)}return B}},C};t.rc2.startEncrypting=function(l,o,d){var u=t.rc2.createEncryptionCipher(l,128);return u.start(o,d),u},t.rc2.createEncryptionCipher=function(l,o){return c(l,o,!0)},t.rc2.startDecrypting=function(l,o,d){var u=t.rc2.createDecryptionCipher(l,128);return u.start(o,d),u},t.rc2.createDecryptionCipher=function(l,o){return c(l,o,!1)}}}),rc=Ee({"../../node_modules/node-forge/lib/jsbn.js"(i,e){"use strict";var t=Ae();e.exports=t.jsbn=t.jsbn||{};var r,s=0xdeadbeefcafe,n=(s&16777215)==15715070;function a(R,O,F){this.data=[],R!=null&&(typeof R=="number"?this.fromNumber(R,O,F):O==null&&typeof R!="string"?this.fromString(R,256):this.fromString(R,O))}t.jsbn.BigInteger=a;function c(){return new a(null)}function l(R,O,F,W,X,ee){for(;--ee>=0;){var pe=O*this.data[R++]+F.data[W]+X;X=Math.floor(pe/67108864),F.data[W++]=pe&67108863}return X}function o(R,O,F,W,X,ee){for(var pe=O&32767,oe=O>>15;--ee>=0;){var Pe=this.data[R]&32767,Ct=this.data[R++]>>15,tr=oe*Pe+Ct*pe;Pe=pe*Pe+((tr&32767)<<15)+F.data[W]+(X&1073741823),X=(Pe>>>30)+(tr>>>15)+oe*Ct+(X>>>30),F.data[W++]=Pe&1073741823}return X}function d(R,O,F,W,X,ee){for(var pe=O&16383,oe=O>>14;--ee>=0;){var Pe=this.data[R]&16383,Ct=this.data[R++]>>14,tr=oe*Pe+Ct*pe;Pe=pe*Pe+((tr&16383)<<14)+F.data[W]+X,X=(Pe>>28)+(tr>>14)+oe*Ct,F.data[W++]=Pe&268435455}return X}typeof navigator>"u"?(a.prototype.am=d,r=28):n&&navigator.appName=="Microsoft Internet Explorer"?(a.prototype.am=o,r=30):n&&navigator.appName!="Netscape"?(a.prototype.am=l,r=26):(a.prototype.am=d,r=28),a.prototype.DB=r,a.prototype.DM=(1<<r)-1,a.prototype.DV=1<<r;var u=52;a.prototype.FV=Math.pow(2,u),a.prototype.F1=u-r,a.prototype.F2=2*r-u;var v="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array,_,h;for(_=48,h=0;h<=9;++h)A[_++]=h;for(_=97,h=10;h<36;++h)A[_++]=h;for(_=65,h=10;h<36;++h)A[_++]=h;function E(R){return v.charAt(R)}function w(R,O){var F=A[R.charCodeAt(O)];return F??-1}function S(R){for(var O=this.t-1;O>=0;--O)R.data[O]=this.data[O];R.t=this.t,R.s=this.s}function p(R){this.t=1,this.s=R<0?-1:0,R>0?this.data[0]=R:R<-1?this.data[0]=R+this.DV:this.t=0}function b(R){var O=c();return O.fromInt(R),O}function C(R,O){var F;if(O==16)F=4;else if(O==8)F=3;else if(O==256)F=8;else if(O==2)F=1;else if(O==32)F=5;else if(O==4)F=2;else{this.fromRadix(R,O);return}this.t=0,this.s=0;for(var W=R.length,X=!1,ee=0;--W>=0;){var pe=F==8?R[W]&255:w(R,W);if(pe<0){R.charAt(W)=="-"&&(X=!0);continue}X=!1,ee==0?this.data[this.t++]=pe:ee+F>this.DB?(this.data[this.t-1]|=(pe&(1<<this.DB-ee)-1)<<ee,this.data[this.t++]=pe>>this.DB-ee):this.data[this.t-1]|=pe<<ee,ee+=F,ee>=this.DB&&(ee-=this.DB)}F==8&&R[0]&128&&(this.s=-1,ee>0&&(this.data[this.t-1]|=(1<<this.DB-ee)-1<<ee)),this.clamp(),X&&a.ZERO.subTo(this,this)}function k(){for(var R=this.s&this.DM;this.t>0&&this.data[this.t-1]==R;)--this.t}function B(R){if(this.s<0)return"-"+this.negate().toString(R);var O;if(R==16)O=4;else if(R==8)O=3;else if(R==2)O=1;else if(R==32)O=5;else if(R==4)O=2;else return this.toRadix(R);var F=(1<<O)-1,W,X=!1,ee="",pe=this.t,oe=this.DB-pe*this.DB%O;if(pe-- >0)for(oe<this.DB&&(W=this.data[pe]>>oe)>0&&(X=!0,ee=E(W));pe>=0;)oe<O?(W=(this.data[pe]&(1<<oe)-1)<<O-oe,W|=this.data[--pe]>>(oe+=this.DB-O)):(W=this.data[pe]>>(oe-=O)&F,oe<=0&&(oe+=this.DB,--pe)),W>0&&(X=!0),X&&(ee+=E(W));return X?ee:"0"}function x(){var R=c();return a.ZERO.subTo(this,R),R}function m(){return this.s<0?this.negate():this}function f(R){var O=this.s-R.s;if(O!=0)return O;var F=this.t;if(O=F-R.t,O!=0)return this.s<0?-O:O;for(;--F>=0;)if((O=this.data[F]-R.data[F])!=0)return O;return 0}function T(R){var O=1,F;return(F=R>>>16)!=0&&(R=F,O+=16),(F=R>>8)!=0&&(R=F,O+=8),(F=R>>4)!=0&&(R=F,O+=4),(F=R>>2)!=0&&(R=F,O+=2),(F=R>>1)!=0&&(R=F,O+=1),O}function P(){return this.t<=0?0:this.DB*(this.t-1)+T(this.data[this.t-1]^this.s&this.DM)}function q(R,O){var F;for(F=this.t-1;F>=0;--F)O.data[F+R]=this.data[F];for(F=R-1;F>=0;--F)O.data[F]=0;O.t=this.t+R,O.s=this.s}function M(R,O){for(var F=R;F<this.t;++F)O.data[F-R]=this.data[F];O.t=Math.max(this.t-R,0),O.s=this.s}function D(R,O){var F=R%this.DB,W=this.DB-F,X=(1<<W)-1,ee=Math.floor(R/this.DB),pe=this.s<<F&this.DM,oe;for(oe=this.t-1;oe>=0;--oe)O.data[oe+ee+1]=this.data[oe]>>W|pe,pe=(this.data[oe]&X)<<F;for(oe=ee-1;oe>=0;--oe)O.data[oe]=0;O.data[ee]=pe,O.t=this.t+ee+1,O.s=this.s,O.clamp()}function V(R,O){O.s=this.s;var F=Math.floor(R/this.DB);if(F>=this.t){O.t=0;return}var W=R%this.DB,X=this.DB-W,ee=(1<<W)-1;O.data[0]=this.data[F]>>W;for(var pe=F+1;pe<this.t;++pe)O.data[pe-F-1]|=(this.data[pe]&ee)<<X,O.data[pe-F]=this.data[pe]>>W;W>0&&(O.data[this.t-F-1]|=(this.s&ee)<<X),O.t=this.t-F,O.clamp()}function K(R,O){for(var F=0,W=0,X=Math.min(R.t,this.t);F<X;)W+=this.data[F]-R.data[F],O.data[F++]=W&this.DM,W>>=this.DB;if(R.t<this.t){for(W-=R.s;F<this.t;)W+=this.data[F],O.data[F++]=W&this.DM,W>>=this.DB;W+=this.s}else{for(W+=this.s;F<R.t;)W-=R.data[F],O.data[F++]=W&this.DM,W>>=this.DB;W-=R.s}O.s=W<0?-1:0,W<-1?O.data[F++]=this.DV+W:W>0&&(O.data[F++]=W),O.t=F,O.clamp()}function G(R,O){var F=this.abs(),W=R.abs(),X=F.t;for(O.t=X+W.t;--X>=0;)O.data[X]=0;for(X=0;X<W.t;++X)O.data[X+F.t]=F.am(0,W.data[X],O,X,0,F.t);O.s=0,O.clamp(),this.s!=R.s&&a.ZERO.subTo(O,O)}function Z(R){for(var O=this.abs(),F=R.t=2*O.t;--F>=0;)R.data[F]=0;for(F=0;F<O.t-1;++F){var W=O.am(F,O.data[F],R,2*F,0,1);(R.data[F+O.t]+=O.am(F+1,2*O.data[F],R,2*F+1,W,O.t-F-1))>=O.DV&&(R.data[F+O.t]-=O.DV,R.data[F+O.t+1]=1)}R.t>0&&(R.data[R.t-1]+=O.am(F,O.data[F],R,2*F,0,1)),R.s=0,R.clamp()}function te(R,O,F){var W=R.abs();if(!(W.t<=0)){var X=this.abs();if(X.t<W.t){O?.fromInt(0),F!=null&&this.copyTo(F);return}F==null&&(F=c());var ee=c(),pe=this.s,oe=R.s,Pe=this.DB-T(W.data[W.t-1]);Pe>0?(W.lShiftTo(Pe,ee),X.lShiftTo(Pe,F)):(W.copyTo(ee),X.copyTo(F));var Ct=ee.t,tr=ee.data[Ct-1];if(tr!=0){var Wt=tr*(1<<this.F1)+(Ct>1?ee.data[Ct-2]>>this.F2:0),Dr=this.FV/Wt,Sa=(1<<this.F1)/Wt,ur=1<<this.F2,pr=F.t,Ca=pr-Ct,ai=O??c();for(ee.dlShiftTo(Ca,ai),F.compareTo(ai)>=0&&(F.data[F.t++]=1,F.subTo(ai,F)),a.ONE.dlShiftTo(Ct,ai),ai.subTo(ee,ee);ee.t<Ct;)ee.data[ee.t++]=0;for(;--Ca>=0;){var Ic=F.data[--pr]==tr?this.DM:Math.floor(F.data[pr]*Dr+(F.data[pr-1]+ur)*Sa);if((F.data[pr]+=ee.am(0,Ic,F,Ca,0,Ct))<Ic)for(ee.dlShiftTo(Ca,ai),F.subTo(ai,F);F.data[pr]<--Ic;)F.subTo(ai,F)}O!=null&&(F.drShiftTo(Ct,O),pe!=oe&&a.ZERO.subTo(O,O)),F.t=Ct,F.clamp(),Pe>0&&F.rShiftTo(Pe,F),pe<0&&a.ZERO.subTo(F,F)}}}function se(R){var O=c();return this.abs().divRemTo(R,null,O),this.s<0&&O.compareTo(a.ZERO)>0&&R.subTo(O,O),O}function ne(R){this.m=R}function ve(R){return R.s<0||R.compareTo(this.m)>=0?R.mod(this.m):R}function xe(R){return R}function Ie(R){R.divRemTo(this.m,null,R)}function $(R,O,F){R.multiplyTo(O,F),this.reduce(F)}function ke(R,O){R.squareTo(O),this.reduce(O)}ne.prototype.convert=ve,ne.prototype.revert=xe,ne.prototype.reduce=Ie,ne.prototype.mulTo=$,ne.prototype.sqrTo=ke;function ae(){if(this.t<1)return 0;var R=this.data[0];if(!(R&1))return 0;var O=R&3;return O=O*(2-(R&15)*O)&15,O=O*(2-(R&255)*O)&255,O=O*(2-((R&65535)*O&65535))&65535,O=O*(2-R*O%this.DV)%this.DV,O>0?this.DV-O:-O}function ie(R){this.m=R,this.mp=R.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<R.DB-15)-1,this.mt2=2*R.t}function de(R){var O=c();return R.abs().dlShiftTo(this.m.t,O),O.divRemTo(this.m,null,O),R.s<0&&O.compareTo(a.ZERO)>0&&this.m.subTo(O,O),O}function y(R){var O=c();return R.copyTo(O),this.reduce(O),O}function L(R){for(;R.t<=this.mt2;)R.data[R.t++]=0;for(var O=0;O<this.m.t;++O){var F=R.data[O]&32767,W=F*this.mpl+((F*this.mph+(R.data[O]>>15)*this.mpl&this.um)<<15)&R.DM;for(F=O+this.m.t,R.data[F]+=this.m.am(0,W,R,O,0,this.m.t);R.data[F]>=R.DV;)R.data[F]-=R.DV,R.data[++F]++}R.clamp(),R.drShiftTo(this.m.t,R),R.compareTo(this.m)>=0&&R.subTo(this.m,R)}function N(R,O){R.squareTo(O),this.reduce(O)}function g(R,O,F){R.multiplyTo(O,F),this.reduce(F)}ie.prototype.convert=de,ie.prototype.revert=y,ie.prototype.reduce=L,ie.prototype.mulTo=g,ie.prototype.sqrTo=N;function I(){return(this.t>0?this.data[0]&1:this.s)==0}function H(R,O){if(R>4294967295||R<1)return a.ONE;var F=c(),W=c(),X=O.convert(this),ee=T(R)-1;for(X.copyTo(F);--ee>=0;)if(O.sqrTo(F,W),(R&1<<ee)>0)O.mulTo(W,X,F);else{var pe=F;F=W,W=pe}return O.revert(F)}function j(R,O){var F;return R<256||O.isEven()?F=new ne(O):F=new ie(O),this.exp(R,F)}a.prototype.copyTo=S,a.prototype.fromInt=p,a.prototype.fromString=C,a.prototype.clamp=k,a.prototype.dlShiftTo=q,a.prototype.drShiftTo=M,a.prototype.lShiftTo=D,a.prototype.rShiftTo=V,a.prototype.subTo=K,a.prototype.multiplyTo=G,a.prototype.squareTo=Z,a.prototype.divRemTo=te,a.prototype.invDigit=ae,a.prototype.isEven=I,a.prototype.exp=H,a.prototype.toString=B,a.prototype.negate=x,a.prototype.abs=m,a.prototype.compareTo=f,a.prototype.bitLength=P,a.prototype.mod=se,a.prototype.modPowInt=j,a.ZERO=b(0),a.ONE=b(1);function J(){var R=c();return this.copyTo(R),R}function le(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function he(){return this.t==0?this.s:this.data[0]<<24>>24}function z(){return this.t==0?this.s:this.data[0]<<16>>16}function ue(R){return Math.floor(Math.LN2*this.DB/Math.log(R))}function be(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Ne(R){if(R==null&&(R=10),this.signum()==0||R<2||R>36)return"0";var O=this.chunkSize(R),F=Math.pow(R,O),W=b(F),X=c(),ee=c(),pe="";for(this.divRemTo(W,X,ee);X.signum()>0;)pe=(F+ee.intValue()).toString(R).substr(1)+pe,X.divRemTo(W,X,ee);return ee.intValue().toString(R)+pe}function Ce(R,O){this.fromInt(0),O==null&&(O=10);for(var F=this.chunkSize(O),W=Math.pow(O,F),X=!1,ee=0,pe=0,oe=0;oe<R.length;++oe){var Pe=w(R,oe);if(Pe<0){R.charAt(oe)=="-"&&this.signum()==0&&(X=!0);continue}pe=O*pe+Pe,++ee>=F&&(this.dMultiply(W),this.dAddOffset(pe,0),ee=0,pe=0)}ee>0&&(this.dMultiply(Math.pow(O,ee)),this.dAddOffset(pe,0)),X&&a.ZERO.subTo(this,this)}function Ke(R,O,F){if(typeof O=="number")if(R<2)this.fromInt(1);else for(this.fromNumber(R,F),this.testBit(R-1)||this.bitwiseTo(a.ONE.shiftLeft(R-1),lt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(O);)this.dAddOffset(2,0),this.bitLength()>R&&this.subTo(a.ONE.shiftLeft(R-1),this);else{var W=new Array,X=R&7;W.length=(R>>3)+1,O.nextBytes(W),X>0?W[0]&=(1<<X)-1:W[0]=0,this.fromString(W,256)}}function et(){var R=this.t,O=new Array;O[0]=this.s;var F=this.DB-R*this.DB%8,W,X=0;if(R-- >0)for(F<this.DB&&(W=this.data[R]>>F)!=(this.s&this.DM)>>F&&(O[X++]=W|this.s<<this.DB-F);R>=0;)F<8?(W=(this.data[R]&(1<<F)-1)<<8-F,W|=this.data[--R]>>(F+=this.DB-8)):(W=this.data[R]>>(F-=8)&255,F<=0&&(F+=this.DB,--R)),W&128&&(W|=-256),X==0&&(this.s&128)!=(W&128)&&++X,(X>0||W!=this.s)&&(O[X++]=W);return O}function Ye(R){return this.compareTo(R)==0}function We(R){return this.compareTo(R)<0?this:R}function qe(R){return this.compareTo(R)>0?this:R}function je(R,O,F){var W,X,ee=Math.min(R.t,this.t);for(W=0;W<ee;++W)F.data[W]=O(this.data[W],R.data[W]);if(R.t<this.t){for(X=R.s&this.DM,W=ee;W<this.t;++W)F.data[W]=O(this.data[W],X);F.t=this.t}else{for(X=this.s&this.DM,W=ee;W<R.t;++W)F.data[W]=O(X,R.data[W]);F.t=R.t}F.s=O(this.s,R.s),F.clamp()}function ct(R,O){return R&O}function At(R){var O=c();return this.bitwiseTo(R,ct,O),O}function lt(R,O){return R|O}function Pt(R){var O=c();return this.bitwiseTo(R,lt,O),O}function Dt(R,O){return R^O}function Ht(R){var O=c();return this.bitwiseTo(R,Dt,O),O}function Kt(R,O){return R&~O}function cr(R){var O=c();return this.bitwiseTo(R,Kt,O),O}function wr(){for(var R=c(),O=0;O<this.t;++O)R.data[O]=this.DM&~this.data[O];return R.t=this.t,R.s=~this.s,R}function Pr(R){var O=c();return R<0?this.rShiftTo(-R,O):this.lShiftTo(R,O),O}function ni(R){var O=c();return R<0?this.lShiftTo(-R,O):this.rShiftTo(R,O),O}function ki(R){if(R==0)return-1;var O=0;return R&65535||(R>>=16,O+=16),R&255||(R>>=8,O+=8),R&15||(R>>=4,O+=4),R&3||(R>>=2,O+=2),R&1||++O,O}function Xi(){for(var R=0;R<this.t;++R)if(this.data[R]!=0)return R*this.DB+ki(this.data[R]);return this.s<0?this.t*this.DB:-1}function Hs(R){for(var O=0;R!=0;)R&=R-1,++O;return O}function Ea(){for(var R=0,O=this.s&this.DM,F=0;F<this.t;++F)R+=Hs(this.data[F]^O);return R}function ut(R){var O=Math.floor(R/this.DB);return O>=this.t?this.s!=0:(this.data[O]&1<<R%this.DB)!=0}function pt(R,O){var F=a.ONE.shiftLeft(R);return this.bitwiseTo(F,O,F),F}function ft(R){return this.changeBit(R,lt)}function dt(R){return this.changeBit(R,Kt)}function ht(R){return this.changeBit(R,Dt)}function mt(R,O){for(var F=0,W=0,X=Math.min(R.t,this.t);F<X;)W+=this.data[F]+R.data[F],O.data[F++]=W&this.DM,W>>=this.DB;if(R.t<this.t){for(W+=R.s;F<this.t;)W+=this.data[F],O.data[F++]=W&this.DM,W>>=this.DB;W+=this.s}else{for(W+=this.s;F<R.t;)W+=R.data[F],O.data[F++]=W&this.DM,W>>=this.DB;W+=R.s}O.s=W<0?-1:0,W>0?O.data[F++]=W:W<-1&&(O.data[F++]=this.DV+W),O.t=F,O.clamp()}function gt(R){var O=c();return this.addTo(R,O),O}function vt(R){var O=c();return this.subTo(R,O),O}function yt(R){var O=c();return this.multiplyTo(R,O),O}function _t(R){var O=c();return this.divRemTo(R,O,null),O}function xt(R){var O=c();return this.divRemTo(R,null,O),O}function bt(R){var O=c(),F=c();return this.divRemTo(R,O,F),new Array(O,F)}function Et(R){this.data[this.t]=this.am(0,R-1,this,0,0,this.t),++this.t,this.clamp()}function St(R,O){if(R!=0){for(;this.t<=O;)this.data[this.t++]=0;for(this.data[O]+=R;this.data[O]>=this.DV;)this.data[O]-=this.DV,++O>=this.t&&(this.data[this.t++]=0),++this.data[O]}}function Ge(){}function rt(R){return R}function W1(R,O,F){R.multiplyTo(O,F)}function G1(R,O){R.squareTo(O)}Ge.prototype.convert=rt,Ge.prototype.revert=rt,Ge.prototype.mulTo=W1,Ge.prototype.sqrTo=G1;function z1(R){return this.exp(R,new Ge)}function $1(R,O,F){var W=Math.min(this.t+R.t,O);for(F.s=0,F.t=W;W>0;)F.data[--W]=0;var X;for(X=F.t-this.t;W<X;++W)F.data[W+this.t]=this.am(0,R.data[W],F,W,0,this.t);for(X=Math.min(R.t,O);W<X;++W)this.am(0,R.data[W],F,W,0,O-W);F.clamp()}function Y1(R,O,F){--O;var W=F.t=this.t+R.t-O;for(F.s=0;--W>=0;)F.data[W]=0;for(W=Math.max(O-this.t,0);W<R.t;++W)F.data[this.t+W-O]=this.am(O-W,R.data[W],F,0,0,this.t+W-O);F.clamp(),F.drShiftTo(1,F)}function Ji(R){this.r2=c(),this.q3=c(),a.ONE.dlShiftTo(2*R.t,this.r2),this.mu=this.r2.divide(R),this.m=R}function Z1(R){if(R.s<0||R.t>2*this.m.t)return R.mod(this.m);if(R.compareTo(this.m)<0)return R;var O=c();return R.copyTo(O),this.reduce(O),O}function Q1(R){return R}function X1(R){for(R.drShiftTo(this.m.t-1,this.r2),R.t>this.m.t+1&&(R.t=this.m.t+1,R.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);R.compareTo(this.r2)<0;)R.dAddOffset(1,this.m.t+1);for(R.subTo(this.r2,R);R.compareTo(this.m)>=0;)R.subTo(this.m,R)}function J1(R,O){R.squareTo(O),this.reduce(O)}function ex(R,O,F){R.multiplyTo(O,F),this.reduce(F)}Ji.prototype.convert=Z1,Ji.prototype.revert=Q1,Ji.prototype.reduce=X1,Ji.prototype.mulTo=ex,Ji.prototype.sqrTo=J1;function tx(R,O){var F=R.bitLength(),W,X=b(1),ee;if(F<=0)return X;F<18?W=1:F<48?W=3:F<144?W=4:F<768?W=5:W=6,F<8?ee=new ne(O):O.isEven()?ee=new Ji(O):ee=new ie(O);var pe=new Array,oe=3,Pe=W-1,Ct=(1<<W)-1;if(pe[1]=ee.convert(this),W>1){var tr=c();for(ee.sqrTo(pe[1],tr);oe<=Ct;)pe[oe]=c(),ee.mulTo(tr,pe[oe-2],pe[oe]),oe+=2}var Wt=R.t-1,Dr,Sa=!0,ur=c(),pr;for(F=T(R.data[Wt])-1;Wt>=0;){for(F>=Pe?Dr=R.data[Wt]>>F-Pe&Ct:(Dr=(R.data[Wt]&(1<<F+1)-1)<<Pe-F,Wt>0&&(Dr|=R.data[Wt-1]>>this.DB+F-Pe)),oe=W;!(Dr&1);)Dr>>=1,--oe;if((F-=oe)<0&&(F+=this.DB,--Wt),Sa)pe[Dr].copyTo(X),Sa=!1;else{for(;oe>1;)ee.sqrTo(X,ur),ee.sqrTo(ur,X),oe-=2;oe>0?ee.sqrTo(X,ur):(pr=X,X=ur,ur=pr),ee.mulTo(ur,pe[Dr],X)}for(;Wt>=0&&!(R.data[Wt]&1<<F);)ee.sqrTo(X,ur),pr=X,X=ur,ur=pr,--F<0&&(F=this.DB-1,--Wt)}return ee.revert(X)}function rx(R){var O=this.s<0?this.negate():this.clone(),F=R.s<0?R.negate():R.clone();if(O.compareTo(F)<0){var W=O;O=F,F=W}var X=O.getLowestSetBit(),ee=F.getLowestSetBit();if(ee<0)return O;for(X<ee&&(ee=X),ee>0&&(O.rShiftTo(ee,O),F.rShiftTo(ee,F));O.signum()>0;)(X=O.getLowestSetBit())>0&&O.rShiftTo(X,O),(X=F.getLowestSetBit())>0&&F.rShiftTo(X,F),O.compareTo(F)>=0?(O.subTo(F,O),O.rShiftTo(1,O)):(F.subTo(O,F),F.rShiftTo(1,F));return ee>0&&F.lShiftTo(ee,F),F}function ix(R){if(R<=0)return 0;var O=this.DV%R,F=this.s<0?R-1:0;if(this.t>0)if(O==0)F=this.data[0]%R;else for(var W=this.t-1;W>=0;--W)F=(O*F+this.data[W])%R;return F}function sx(R){var O=R.isEven();if(this.isEven()&&O||R.signum()==0)return a.ZERO;for(var F=R.clone(),W=this.clone(),X=b(1),ee=b(0),pe=b(0),oe=b(1);F.signum()!=0;){for(;F.isEven();)F.rShiftTo(1,F),O?((!X.isEven()||!ee.isEven())&&(X.addTo(this,X),ee.subTo(R,ee)),X.rShiftTo(1,X)):ee.isEven()||ee.subTo(R,ee),ee.rShiftTo(1,ee);for(;W.isEven();)W.rShiftTo(1,W),O?((!pe.isEven()||!oe.isEven())&&(pe.addTo(this,pe),oe.subTo(R,oe)),pe.rShiftTo(1,pe)):oe.isEven()||oe.subTo(R,oe),oe.rShiftTo(1,oe);F.compareTo(W)>=0?(F.subTo(W,F),O&&X.subTo(pe,X),ee.subTo(oe,ee)):(W.subTo(F,W),O&&pe.subTo(X,pe),oe.subTo(ee,oe))}if(W.compareTo(a.ONE)!=0)return a.ZERO;if(oe.compareTo(R)>=0)return oe.subtract(R);if(oe.signum()<0)oe.addTo(R,oe);else return oe;return oe.signum()<0?oe.add(R):oe}var lr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],nx=(1<<26)/lr[lr.length-1];function ax(R){var O,F=this.abs();if(F.t==1&&F.data[0]<=lr[lr.length-1]){for(O=0;O<lr.length;++O)if(F.data[0]==lr[O])return!0;return!1}if(F.isEven())return!1;for(O=1;O<lr.length;){for(var W=lr[O],X=O+1;X<lr.length&&W<nx;)W*=lr[X++];for(W=F.modInt(W);O<X;)if(W%lr[O++]==0)return!1}return F.millerRabin(R)}function ox(R){var O=this.subtract(a.ONE),F=O.getLowestSetBit();if(F<=0)return!1;for(var W=O.shiftRight(F),X=cx(),ee,pe=0;pe<R;++pe){do ee=new a(this.bitLength(),X);while(ee.compareTo(a.ONE)<=0||ee.compareTo(O)>=0);var oe=ee.modPow(W,this);if(oe.compareTo(a.ONE)!=0&&oe.compareTo(O)!=0){for(var Pe=1;Pe++<F&&oe.compareTo(O)!=0;)if(oe=oe.modPowInt(2,this),oe.compareTo(a.ONE)==0)return!1;if(oe.compareTo(O)!=0)return!1}}return!0}function cx(){return{nextBytes:function(R){for(var O=0;O<R.length;++O)R[O]=Math.floor(Math.random()*256)}}}a.prototype.chunkSize=ue,a.prototype.toRadix=Ne,a.prototype.fromRadix=Ce,a.prototype.fromNumber=Ke,a.prototype.bitwiseTo=je,a.prototype.changeBit=pt,a.prototype.addTo=mt,a.prototype.dMultiply=Et,a.prototype.dAddOffset=St,a.prototype.multiplyLowerTo=$1,a.prototype.multiplyUpperTo=Y1,a.prototype.modInt=ix,a.prototype.millerRabin=ox,a.prototype.clone=J,a.prototype.intValue=le,a.prototype.byteValue=he,a.prototype.shortValue=z,a.prototype.signum=be,a.prototype.toByteArray=et,a.prototype.equals=Ye,a.prototype.min=We,a.prototype.max=qe,a.prototype.and=At,a.prototype.or=Pt,a.prototype.xor=Ht,a.prototype.andNot=cr,a.prototype.not=wr,a.prototype.shiftLeft=Pr,a.prototype.shiftRight=ni,a.prototype.getLowestSetBit=Xi,a.prototype.bitCount=Ea,a.prototype.testBit=ut,a.prototype.setBit=ft,a.prototype.clearBit=dt,a.prototype.flipBit=ht,a.prototype.add=gt,a.prototype.subtract=vt,a.prototype.multiply=yt,a.prototype.divide=_t,a.prototype.remainder=xt,a.prototype.divideAndRemainder=bt,a.prototype.modPow=tx,a.prototype.modInverse=sx,a.prototype.pow=z1,a.prototype.gcd=rx,a.prototype.isProbablePrime=ax}}),ca=Ee({"../../node_modules/node-forge/lib/sha1.js"(i,e){"use strict";var t=Ae();ti(),Oe();var r=e.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=r,r.create=function(){n||a();var l=null,o=t.util.createBuffer(),d=new Array(80),u={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var v=u.messageLengthSize/4,A=0;A<v;++A)u.fullMessageLength.push(0);return o=t.util.createBuffer(),l={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},u},u.start(),u.update=function(v,A){A==="utf8"&&(v=t.util.encodeUtf8(v));var _=v.length;u.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var h=u.fullMessageLength.length-1;h>=0;--h)u.fullMessageLength[h]+=_[1],_[1]=_[0]+(u.fullMessageLength[h]/4294967296>>>0),u.fullMessageLength[h]=u.fullMessageLength[h]>>>0,_[0]=_[1]/4294967296>>>0;return o.putBytes(v),c(l,d,o),(o.read>2048||o.length()===0)&&o.compact(),u},u.digest=function(){var v=t.util.createBuffer();v.putBytes(o.bytes());var A=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,_=A&u.blockLength-1;v.putBytes(s.substr(0,u.blockLength-_));for(var h,E,w=u.fullMessageLength[0]*8,S=0;S<u.fullMessageLength.length-1;++S)h=u.fullMessageLength[S+1]*8,E=h/4294967296>>>0,w+=E,v.putInt32(w>>>0),w=h>>>0;v.putInt32(w);var p={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3,h4:l.h4};c(p,d,v);var b=t.util.createBuffer();return b.putInt32(p.h0),b.putInt32(p.h1),b.putInt32(p.h2),b.putInt32(p.h3),b.putInt32(p.h4),b},u};var s=null,n=!1;function a(){s="\x80",s+=t.util.fillString("\0",64),n=!0}function c(l,o,d){for(var u,v,A,_,h,E,w,S,p=d.length();p>=64;){for(v=l.h0,A=l.h1,_=l.h2,h=l.h3,E=l.h4,S=0;S<16;++S)u=d.getInt32(),o[S]=u,w=h^A&(_^h),u=(v<<5|v>>>27)+w+E+1518500249+u,E=h,h=_,_=(A<<30|A>>>2)>>>0,A=v,v=u;for(;S<20;++S)u=o[S-3]^o[S-8]^o[S-14]^o[S-16],u=u<<1|u>>>31,o[S]=u,w=h^A&(_^h),u=(v<<5|v>>>27)+w+E+1518500249+u,E=h,h=_,_=(A<<30|A>>>2)>>>0,A=v,v=u;for(;S<32;++S)u=o[S-3]^o[S-8]^o[S-14]^o[S-16],u=u<<1|u>>>31,o[S]=u,w=A^_^h,u=(v<<5|v>>>27)+w+E+1859775393+u,E=h,h=_,_=(A<<30|A>>>2)>>>0,A=v,v=u;for(;S<40;++S)u=o[S-6]^o[S-16]^o[S-28]^o[S-32],u=u<<2|u>>>30,o[S]=u,w=A^_^h,u=(v<<5|v>>>27)+w+E+1859775393+u,E=h,h=_,_=(A<<30|A>>>2)>>>0,A=v,v=u;for(;S<60;++S)u=o[S-6]^o[S-16]^o[S-28]^o[S-32],u=u<<2|u>>>30,o[S]=u,w=A&_|h&(A^_),u=(v<<5|v>>>27)+w+E+2400959708+u,E=h,h=_,_=(A<<30|A>>>2)>>>0,A=v,v=u;for(;S<80;++S)u=o[S-6]^o[S-16]^o[S-28]^o[S-32],u=u<<2|u>>>30,o[S]=u,w=A^_^h,u=(v<<5|v>>>27)+w+E+3395469782+u,E=h,h=_,_=(A<<30|A>>>2)>>>0,A=v,v=u;l.h0=l.h0+v|0,l.h1=l.h1+A|0,l.h2=l.h2+_|0,l.h3=l.h3+h|0,l.h4=l.h4+E|0,p-=64}}}}),Vy=Ee({"../../node_modules/node-forge/lib/pkcs1.js"(i,e){"use strict";var t=Ae();Oe(),Sr(),ca();var r=e.exports=t.pkcs1=t.pkcs1||{};r.encode_rsa_oaep=function(n,a,c){var l,o,d,u;typeof c=="string"?(l=c,o=arguments[3]||void 0,d=arguments[4]||void 0):c&&(l=c.label||void 0,o=c.seed||void 0,d=c.md||void 0,c.mgf1&&c.mgf1.md&&(u=c.mgf1.md)),d?d.start():d=t.md.sha1.create(),u||(u=d);var v=Math.ceil(n.n.bitLength()/8),A=v-2*d.digestLength-2;if(a.length>A){var _=new Error("RSAES-OAEP input message length is too long.");throw _.length=a.length,_.maxLength=A,_}l||(l=""),d.update(l,"raw");for(var h=d.digest(),E="",w=A-a.length,S=0;S<w;S++)E+="\0";var p=h.getBytes()+E+""+a;if(!o)o=t.random.getBytes(d.digestLength);else if(o.length!==d.digestLength){var _=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw _.seedLength=o.length,_.digestLength=d.digestLength,_}var b=s(o,v-d.digestLength-1,u),C=t.util.xorBytes(p,b,p.length),k=s(C,d.digestLength,u),B=t.util.xorBytes(o,k,o.length);return"\0"+B+C},r.decode_rsa_oaep=function(n,a,c){var l,o,d;typeof c=="string"?(l=c,o=arguments[3]||void 0):c&&(l=c.label||void 0,o=c.md||void 0,c.mgf1&&c.mgf1.md&&(d=c.mgf1.md));var u=Math.ceil(n.n.bitLength()/8);if(a.length!==u){var C=new Error("RSAES-OAEP encoded message length is invalid.");throw C.length=a.length,C.expectedLength=u,C}if(o===void 0?o=t.md.sha1.create():o.start(),d||(d=o),u<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");l||(l=""),o.update(l,"raw");for(var v=o.digest().getBytes(),A=a.charAt(0),_=a.substring(1,o.digestLength+1),h=a.substring(1+o.digestLength),E=s(h,o.digestLength,d),w=t.util.xorBytes(_,E,_.length),S=s(w,u-o.digestLength-1,d),p=t.util.xorBytes(h,S,h.length),b=p.substring(0,o.digestLength),C=A!=="\0",k=0;k<o.digestLength;++k)C|=v.charAt(k)!==b.charAt(k);for(var B=1,x=o.digestLength,m=o.digestLength;m<p.length;m++){var f=p.charCodeAt(m),T=f&1^1,P=B?65534:0;C|=f&P,B=B&T,x+=B}if(C||p.charCodeAt(x)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(x+1)};function s(n,a,c){c||(c=t.md.sha1.create());for(var l="",o=Math.ceil(a/c.digestLength),d=0;d<o;++d){var u=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);c.start(),c.update(n+u),l+=c.digest().getBytes()}return l.substring(0,a)}}}),qy=Ee({"../../node_modules/node-forge/lib/prime.js"(i,e){"use strict";var t=Ae();Oe(),rc(),Sr(),function(){if(t.prime){e.exports=t.prime;return}var r=e.exports=t.prime=t.prime||{},s=t.jsbn.BigInteger,n=[6,4,2,4,2,4,6,2],a=new s(null);a.fromInt(30);var c=function(_,h){return _|h};r.generateProbablePrime=function(_,h,E){typeof h=="function"&&(E=h,h={}),h=h||{};var w=h.algorithm||"PRIMEINC";typeof w=="string"&&(w={name:w}),w.options=w.options||{};var S=h.prng||t.random,p={nextBytes:function(b){for(var C=S.getBytesSync(b.length),k=0;k<b.length;++k)b[k]=C.charCodeAt(k)}};if(w.name==="PRIMEINC")return l(_,p,w.options,E);throw new Error("Invalid prime generation algorithm: "+w.name)};function l(_,h,E,w){return"workers"in E?u(_,h,E,w):o(_,h,E,w)}function o(_,h,E,w){var S=v(_,h),p=0,b=A(S.bitLength());"millerRabinTests"in E&&(b=E.millerRabinTests);var C=10;"maxBlockTime"in E&&(C=E.maxBlockTime),d(S,_,h,p,b,C,w)}function d(_,h,E,w,S,p,b){var C=+new Date;do{if(_.bitLength()>h&&(_=v(h,E)),_.isProbablePrime(S))return b(null,_);_.dAddOffset(n[w++%8],0)}while(p<0||+new Date-C<p);t.util.setImmediate(function(){d(_,h,E,w,S,p,b)})}function u(_,h,E,w){if(typeof Worker>"u")return o(_,h,E,w);var S=v(_,h),p=E.workers,b=E.workLoad||100,C=b*30/8,k=E.workerScript||"forge/prime.worker.js";if(p===-1)return t.util.estimateCores(function(x,m){x&&(m=2),p=m-1,B()});B();function B(){p=Math.max(1,p);for(var x=[],m=0;m<p;++m)x[m]=new Worker(k);for(var f=p,m=0;m<p;++m)x[m].addEventListener("message",P);var T=!1;function P(q){if(!T){--f;var M=q.data;if(M.found){for(var D=0;D<x.length;++D)x[D].terminate();return T=!0,w(null,new s(M.prime,16))}S.bitLength()>_&&(S=v(_,h));var V=S.toString(16);q.target.postMessage({hex:V,workLoad:b}),S.dAddOffset(C,0)}}}}function v(_,h){var E=new s(_,h),w=_-1;return E.testBit(w)||E.bitwiseTo(s.ONE.shiftLeft(w),c,E),E.dAddOffset(31-E.mod(a).byteValue(),0),E}function A(_){return _<=100?27:_<=150?18:_<=200?15:_<=250?12:_<=300?9:_<=350?8:_<=400?7:_<=500?6:_<=600?5:_<=800?4:_<=1250?3:2}}()}}),ic=Ee({"../../node_modules/node-forge/lib/rsa.js"(i,e){"use strict";var t=Ae();Or(),rc(),$i(),Vy(),qy(),Sr(),Oe(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,s=t.util.isNodejs?hp("crypto"):null,n=t.asn1,a=t.util;t.pki=t.pki||{},e.exports=t.pki.rsa=t.rsa=t.rsa||{};var c=t.pki,l=[6,4,2,4,2,4,6,2],o={name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},u={name:"RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},v=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},A={name:"DigestInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,type:n.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},_=function(m){var f;if(m.algorithm in c.oids)f=c.oids[m.algorithm];else{var T=new Error("Unknown message digest algorithm.");throw T.algorithm=m.algorithm,T}var P=n.oidToDer(f).getBytes(),q=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),M=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);M.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,P)),M.value.push(n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,""));var D=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.digest().getBytes());return q.value.push(M),q.value.push(D),n.toDer(q).getBytes()},h=function(m,f,T){if(T)return m.modPow(f.e,f.n);if(!f.p||!f.q)return m.modPow(f.d,f.n);f.dP||(f.dP=f.d.mod(f.p.subtract(r.ONE))),f.dQ||(f.dQ=f.d.mod(f.q.subtract(r.ONE))),f.qInv||(f.qInv=f.q.modInverse(f.p));var P;do P=new r(t.util.bytesToHex(t.random.getBytes(f.n.bitLength()/8)),16);while(P.compareTo(f.n)>=0||!P.gcd(f.n).equals(r.ONE));m=m.multiply(P.modPow(f.e,f.n)).mod(f.n);for(var q=m.mod(f.p).modPow(f.dP,f.p),M=m.mod(f.q).modPow(f.dQ,f.q);q.compareTo(M)<0;)q=q.add(f.p);var D=q.subtract(M).multiply(f.qInv).mod(f.p).multiply(f.q).add(M);return D=D.multiply(P.modInverse(f.n)).mod(f.n),D};c.rsa.encrypt=function(m,f,T){var P=T,q,M=Math.ceil(f.n.bitLength()/8);T!==!1&&T!==!0?(P=T===2,q=E(m,f,T)):(q=t.util.createBuffer(),q.putBytes(m));for(var D=new r(q.toHex(),16),V=h(D,f,P),K=V.toString(16),G=t.util.createBuffer(),Z=M-Math.ceil(K.length/2);Z>0;)G.putByte(0),--Z;return G.putBytes(t.util.hexToBytes(K)),G.getBytes()},c.rsa.decrypt=function(m,f,T,P){var q=Math.ceil(f.n.bitLength()/8);if(m.length!==q){var M=new Error("Encrypted message length is invalid.");throw M.length=m.length,M.expected=q,M}var D=new r(t.util.createBuffer(m).toHex(),16);if(D.compareTo(f.n)>=0)throw new Error("Encrypted message is invalid.");for(var V=h(D,f,T),K=V.toString(16),G=t.util.createBuffer(),Z=q-Math.ceil(K.length/2);Z>0;)G.putByte(0),--Z;return G.putBytes(t.util.hexToBytes(K)),P!==!1?w(G.getBytes(),f,T):G.getBytes()},c.rsa.createKeyPairGenerationState=function(m,f,T){typeof m=="string"&&(m=parseInt(m,10)),m=m||2048,T=T||{};var P=T.prng||t.random,q={nextBytes:function(V){for(var K=P.getBytesSync(V.length),G=0;G<V.length;++G)V[G]=K.charCodeAt(G)}},M=T.algorithm||"PRIMEINC",D;if(M==="PRIMEINC")D={algorithm:M,state:0,bits:m,rng:q,eInt:f||65537,e:new r(null),p:null,q:null,qBits:m>>1,pBits:m-(m>>1),pqState:0,num:null,keys:null},D.e.fromInt(D.eInt);else throw new Error("Invalid key generation algorithm: "+M);return D},c.rsa.stepKeyPairGenerationState=function(m,f){"algorithm"in m||(m.algorithm="PRIMEINC");var T=new r(null);T.fromInt(30);for(var P=0,q=function(te,se){return te|se},M=+new Date,D,V=0;m.keys===null&&(f<=0||V<f);){if(m.state===0){var K=m.p===null?m.pBits:m.qBits,G=K-1;m.pqState===0?(m.num=new r(K,m.rng),m.num.testBit(G)||m.num.bitwiseTo(r.ONE.shiftLeft(G),q,m.num),m.num.dAddOffset(31-m.num.mod(T).byteValue(),0),P=0,++m.pqState):m.pqState===1?m.num.bitLength()>K?m.pqState=0:m.num.isProbablePrime(b(m.num.bitLength()))?++m.pqState:m.num.dAddOffset(l[P++%8],0):m.pqState===2?m.pqState=m.num.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)===0?3:0:m.pqState===3&&(m.pqState=0,m.p===null?m.p=m.num:m.q=m.num,m.p!==null&&m.q!==null&&++m.state,m.num=null)}else if(m.state===1)m.p.compareTo(m.q)<0&&(m.num=m.p,m.p=m.q,m.q=m.num),++m.state;else if(m.state===2)m.p1=m.p.subtract(r.ONE),m.q1=m.q.subtract(r.ONE),m.phi=m.p1.multiply(m.q1),++m.state;else if(m.state===3)m.phi.gcd(m.e).compareTo(r.ONE)===0?++m.state:(m.p=null,m.q=null,m.state=0);else if(m.state===4)m.n=m.p.multiply(m.q),m.n.bitLength()===m.bits?++m.state:(m.q=null,m.state=0);else if(m.state===5){var Z=m.e.modInverse(m.phi);m.keys={privateKey:c.rsa.setPrivateKey(m.n,m.e,Z,m.p,m.q,Z.mod(m.p1),Z.mod(m.q1),m.q.modInverse(m.p)),publicKey:c.rsa.setPublicKey(m.n,m.e)}}D=+new Date,V+=D-M,M=D}return m.keys!==null},c.rsa.generateKeyPair=function(m,f,T,P){if(arguments.length===1?typeof m=="object"?(T=m,m=void 0):typeof m=="function"&&(P=m,m=void 0):arguments.length===2?typeof m=="number"?typeof f=="function"?(P=f,f=void 0):typeof f!="number"&&(T=f,f=void 0):(T=m,P=f,m=void 0,f=void 0):arguments.length===3&&(typeof f=="number"?typeof T=="function"&&(P=T,T=void 0):(P=T,T=f,f=void 0)),T=T||{},m===void 0&&(m=T.bits||2048),f===void 0&&(f=T.e||65537),!t.options.usePureJavaScript&&!T.prng&&m>=256&&m<=16384&&(f===65537||f===3)){if(P){if(C("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:m,publicExponent:f,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(V,K,G){if(V)return P(V);P(null,{privateKey:c.privateKeyFromPem(G),publicKey:c.publicKeyFromPem(K)})});if(k("generateKey")&&k("exportKey"))return a.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:m,publicExponent:x(f),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(V){return a.globalScope.crypto.subtle.exportKey("pkcs8",V.privateKey)}).then(void 0,function(V){P(V)}).then(function(V){if(V){var K=c.privateKeyFromAsn1(n.fromDer(t.util.createBuffer(V)));P(null,{privateKey:K,publicKey:c.setRsaPublicKey(K.n,K.e)})}});if(B("generateKey")&&B("exportKey")){var q=a.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:m,publicExponent:x(f),hash:{name:"SHA-256"}},!0,["sign","verify"]);q.oncomplete=function(V){var K=V.target.result,G=a.globalScope.msCrypto.subtle.exportKey("pkcs8",K.privateKey);G.oncomplete=function(Z){var te=Z.target.result,se=c.privateKeyFromAsn1(n.fromDer(t.util.createBuffer(te)));P(null,{privateKey:se,publicKey:c.setRsaPublicKey(se.n,se.e)})},G.onerror=function(Z){P(Z)}},q.onerror=function(V){P(V)};return}}else if(C("generateKeyPairSync")){var M=s.generateKeyPairSync("rsa",{modulusLength:m,publicExponent:f,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c.privateKeyFromPem(M.privateKey),publicKey:c.publicKeyFromPem(M.publicKey)}}}var D=c.rsa.createKeyPairGenerationState(m,f,T);if(!P)return c.rsa.stepKeyPairGenerationState(D,0),D.keys;S(D,T,P)},c.setRsaPublicKey=c.rsa.setPublicKey=function(m,f){var T={n:m,e:f};return T.encrypt=function(P,q,M){if(typeof q=="string"?q=q.toUpperCase():q===void 0&&(q="RSAES-PKCS1-V1_5"),q==="RSAES-PKCS1-V1_5")q={encode:function(V,K,G){return E(V,K,2).getBytes()}};else if(q==="RSA-OAEP"||q==="RSAES-OAEP")q={encode:function(V,K){return t.pkcs1.encode_rsa_oaep(K,V,M)}};else if(["RAW","NONE","NULL",null].indexOf(q)!==-1)q={encode:function(V){return V}};else if(typeof q=="string")throw new Error('Unsupported encryption scheme: "'+q+'".');var D=q.encode(P,T,!0);return c.rsa.encrypt(D,T,!0)},T.verify=function(P,q,M,D){typeof M=="string"?M=M.toUpperCase():M===void 0&&(M="RSASSA-PKCS1-V1_5"),D===void 0&&(D={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in D||(D._parseAllDigestBytes=!0),M==="RSASSA-PKCS1-V1_5"?M={verify:function(K,G){G=w(G,T,!0);var Z=n.fromDer(G,{parseAllBytes:D._parseAllDigestBytes}),te={},se=[];if(!n.validate(Z,A,te,se)){var ne=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw ne.errors=se,ne}var ve=n.derToOid(te.algorithmIdentifier);if(!(ve===t.oids.md2||ve===t.oids.md5||ve===t.oids.sha1||ve===t.oids.sha224||ve===t.oids.sha256||ve===t.oids.sha384||ve===t.oids.sha512||ve===t.oids["sha512-224"]||ve===t.oids["sha512-256"])){var ne=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw ne.oid=ve,ne}if((ve===t.oids.md2||ve===t.oids.md5)&&!("parameters"in te))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return K===te.digest}}:(M==="NONE"||M==="NULL"||M===null)&&(M={verify:function(K,G){return G=w(G,T,!0),K===G}});var V=c.rsa.decrypt(q,T,!0,!1);return M.verify(P,V,T.n.bitLength())},T},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(m,f,T,P,q,M,D,V){var K={n:m,e:f,d:T,p:P,q,dP:M,dQ:D,qInv:V};return K.decrypt=function(G,Z,te){typeof Z=="string"?Z=Z.toUpperCase():Z===void 0&&(Z="RSAES-PKCS1-V1_5");var se=c.rsa.decrypt(G,K,!1,!1);if(Z==="RSAES-PKCS1-V1_5")Z={decode:w};else if(Z==="RSA-OAEP"||Z==="RSAES-OAEP")Z={decode:function(ne,ve){return t.pkcs1.decode_rsa_oaep(ve,ne,te)}};else if(["RAW","NONE","NULL",null].indexOf(Z)!==-1)Z={decode:function(ne){return ne}};else throw new Error('Unsupported encryption scheme: "'+Z+'".');return Z.decode(se,K,!1)},K.sign=function(G,Z){var te=!1;typeof Z=="string"&&(Z=Z.toUpperCase()),Z===void 0||Z==="RSASSA-PKCS1-V1_5"?(Z={encode:_},te=1):(Z==="NONE"||Z==="NULL"||Z===null)&&(Z={encode:function(){return G}},te=1);var se=Z.encode(G,K.n.bitLength());return c.rsa.encrypt(se,K,te)},K},c.wrapRsaPrivateKey=function(m){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(c.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(m).getBytes())])},c.privateKeyFromAsn1=function(m){var f={},T=[];if(n.validate(m,o,f,T)&&(m=n.fromDer(t.util.createBuffer(f.privateKey))),f={},T=[],!n.validate(m,d,f,T)){var P=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw P.errors=T,P}var q,M,D,V,K,G,Z,te;return q=t.util.createBuffer(f.privateKeyModulus).toHex(),M=t.util.createBuffer(f.privateKeyPublicExponent).toHex(),D=t.util.createBuffer(f.privateKeyPrivateExponent).toHex(),V=t.util.createBuffer(f.privateKeyPrime1).toHex(),K=t.util.createBuffer(f.privateKeyPrime2).toHex(),G=t.util.createBuffer(f.privateKeyExponent1).toHex(),Z=t.util.createBuffer(f.privateKeyExponent2).toHex(),te=t.util.createBuffer(f.privateKeyCoefficient).toHex(),c.setRsaPrivateKey(new r(q,16),new r(M,16),new r(D,16),new r(V,16),new r(K,16),new r(G,16),new r(Z,16),new r(te,16))},c.privateKeyToAsn1=c.privateKeyToRSAPrivateKey=function(m){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(0).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.e)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.d)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.p)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.q)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.dP)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.dQ)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.qInv))])},c.publicKeyFromAsn1=function(m){var f={},T=[];if(n.validate(m,v,f,T)){var P=n.derToOid(f.publicKeyOid);if(P!==c.oids.rsaEncryption){var q=new Error("Cannot read public key. Unknown OID.");throw q.oid=P,q}m=f.rsaPublicKey}if(T=[],!n.validate(m,u,f,T)){var q=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw q.errors=T,q}var M=t.util.createBuffer(f.publicKeyModulus).toHex(),D=t.util.createBuffer(f.publicKeyExponent).toHex();return c.setRsaPublicKey(new r(M,16),new r(D,16))},c.publicKeyToAsn1=c.publicKeyToSubjectPublicKeyInfo=function(m){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(c.oids.rsaEncryption).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,[c.publicKeyToRSAPublicKey(m)])])},c.publicKeyToRSAPublicKey=function(m){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.n)),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,p(m.e))])};function E(m,f,T){var P=t.util.createBuffer(),q=Math.ceil(f.n.bitLength()/8);if(m.length>q-11){var M=new Error("Message is too long for PKCS#1 v1.5 padding.");throw M.length=m.length,M.max=q-11,M}P.putByte(0),P.putByte(T);var D=q-3-m.length,V;if(T===0||T===1){V=T===0?0:255;for(var K=0;K<D;++K)P.putByte(V)}else for(;D>0;){for(var G=0,Z=t.random.getBytes(D),K=0;K<D;++K)V=Z.charCodeAt(K),V===0?++G:P.putByte(V);D=G}return P.putByte(0),P.putBytes(m),P}function w(m,f,T,P){var q=Math.ceil(f.n.bitLength()/8),M=t.util.createBuffer(m),D=M.getByte(),V=M.getByte();if(D!==0||T&&V!==0&&V!==1||!T&&V!=2||T&&V===0&&typeof P>"u")throw new Error("Encryption block is invalid.");var K=0;if(V===0){K=q-3-P;for(var G=0;G<K;++G)if(M.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(V===1)for(K=0;M.length()>1;){if(M.getByte()!==255){--M.read;break}++K}else if(V===2)for(K=0;M.length()>1;){if(M.getByte()===0){--M.read;break}++K}var Z=M.getByte();if(Z!==0||K!==q-3-M.length())throw new Error("Encryption block is invalid.");return M.getBytes()}function S(m,f,T){typeof f=="function"&&(T=f,f={}),f=f||{};var P={algorithm:{name:f.algorithm||"PRIMEINC",options:{workers:f.workers||2,workLoad:f.workLoad||100,workerScript:f.workerScript}}};"prng"in f&&(P.prng=f.prng),q();function q(){M(m.pBits,function(V,K){if(V)return T(V);if(m.p=K,m.q!==null)return D(V,m.q);M(m.qBits,D)})}function M(V,K){t.prime.generateProbablePrime(V,P,K)}function D(V,K){if(V)return T(V);if(m.q=K,m.p.compareTo(m.q)<0){var G=m.p;m.p=m.q,m.q=G}if(m.p.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)!==0){m.p=null,q();return}if(m.q.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)!==0){m.q=null,M(m.qBits,D);return}if(m.p1=m.p.subtract(r.ONE),m.q1=m.q.subtract(r.ONE),m.phi=m.p1.multiply(m.q1),m.phi.gcd(m.e).compareTo(r.ONE)!==0){m.p=m.q=null,q();return}if(m.n=m.p.multiply(m.q),m.n.bitLength()!==m.bits){m.q=null,M(m.qBits,D);return}var Z=m.e.modInverse(m.phi);m.keys={privateKey:c.rsa.setPrivateKey(m.n,m.e,Z,m.p,m.q,Z.mod(m.p1),Z.mod(m.q1),m.q.modInverse(m.p)),publicKey:c.rsa.setPublicKey(m.n,m.e)},T(null,m.keys)}}function p(m){var f=m.toString(16);f[0]>="8"&&(f="00"+f);var T=t.util.hexToBytes(f);return T.length>1&&(T.charCodeAt(0)===0&&!(T.charCodeAt(1)&128)||T.charCodeAt(0)===255&&(T.charCodeAt(1)&128)===128)?T.substr(1):T}function b(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}function C(m){return t.util.isNodejs&&typeof s[m]=="function"}function k(m){return typeof a.globalScope<"u"&&typeof a.globalScope.crypto=="object"&&typeof a.globalScope.crypto.subtle=="object"&&typeof a.globalScope.crypto.subtle[m]=="function"}function B(m){return typeof a.globalScope<"u"&&typeof a.globalScope.msCrypto=="object"&&typeof a.globalScope.msCrypto.subtle=="object"&&typeof a.globalScope.msCrypto.subtle[m]=="function"}function x(m){for(var f=t.util.hexToBytes(m.toString(16)),T=new Uint8Array(f.length),P=0;P<f.length;++P)T[P]=f.charCodeAt(P);return T}}}),jy=Ee({"../../node_modules/node-forge/lib/pbe.js"(i,e){"use strict";var t=Ae();zi(),Or(),tc(),ti(),$i(),vp(),Ls(),Sr(),Fy(),ic(),Oe(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,s=t.asn1,n=t.pki=t.pki||{};e.exports=n.pbe=t.pbe=t.pbe||{};var a=n.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},o={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};n.encryptPrivateKeyInfo=function(_,h,E){E=E||{},E.saltSize=E.saltSize||8,E.count=E.count||2048,E.algorithm=E.algorithm||"aes128",E.prfAlgorithm=E.prfAlgorithm||"sha1";var w=t.random.getBytesSync(E.saltSize),S=E.count,p=s.integerToDer(S),b,C,k;if(E.algorithm.indexOf("aes")===0||E.algorithm==="des"){var B,x,m;switch(E.algorithm){case"aes128":b=16,B=16,x=a["aes128-CBC"],m=t.aes.createEncryptionCipher;break;case"aes192":b=24,B=16,x=a["aes192-CBC"],m=t.aes.createEncryptionCipher;break;case"aes256":b=32,B=16,x=a["aes256-CBC"],m=t.aes.createEncryptionCipher;break;case"des":b=8,B=8,x=a.desCBC,m=t.des.createEncryptionCipher;break;default:var f=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw f.algorithm=E.algorithm,f}var T="hmacWith"+E.prfAlgorithm.toUpperCase(),P=v(T),q=t.pkcs5.pbkdf2(h,w,S,b,P),M=t.random.getBytesSync(B),D=m(q);D.start(M),D.update(s.toDer(_)),D.finish(),k=D.output.getBytes();var V=A(w,p,b,T);C=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a.pkcs5PBKDF2).getBytes()),V]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(x).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,M)])])])}else if(E.algorithm==="3des"){b=24;var K=new t.util.ByteBuffer(w),q=n.pbe.generatePkcs12Key(h,K,1,S,b),M=n.pbe.generatePkcs12Key(h,K,2,S,b),D=t.des.createEncryptionCipher(q);D.start(M),D.update(s.toDer(_)),D.finish(),k=D.output.getBytes(),C=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(a["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,w),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p.getBytes())])])}else{var f=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw f.algorithm=E.algorithm,f}var G=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[C,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,k)]);return G},n.decryptPrivateKeyInfo=function(_,h){var E=null,w={},S=[];if(!s.validate(_,c,w,S)){var p=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=S,p}var b=s.derToOid(w.encryptionOid),C=n.pbe.getCipher(b,w.encryptionParams,h),k=t.util.createBuffer(w.encryptedData);return C.update(k),C.finish()&&(E=s.fromDer(C.output)),E},n.encryptedPrivateKeyToPem=function(_,h){var E={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(_).getBytes()};return t.pem.encode(E,{maxline:h})},n.encryptedPrivateKeyFromPem=function(_){var h=t.pem.decode(_)[0];if(h.type!=="ENCRYPTED PRIVATE KEY"){var E=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw E.headerType=h.type,E}if(h.procType&&h.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(h.body)},n.encryptRsaPrivateKey=function(_,h,E){if(E=E||{},!E.legacy){var w=n.wrapRsaPrivateKey(n.privateKeyToAsn1(_));return w=n.encryptPrivateKeyInfo(w,h,E),n.encryptedPrivateKeyToPem(w)}var S,p,b,C;switch(E.algorithm){case"aes128":S="AES-128-CBC",b=16,p=t.random.getBytesSync(16),C=t.aes.createEncryptionCipher;break;case"aes192":S="AES-192-CBC",b=24,p=t.random.getBytesSync(16),C=t.aes.createEncryptionCipher;break;case"aes256":S="AES-256-CBC",b=32,p=t.random.getBytesSync(16),C=t.aes.createEncryptionCipher;break;case"3des":S="DES-EDE3-CBC",b=24,p=t.random.getBytesSync(8),C=t.des.createEncryptionCipher;break;case"des":S="DES-CBC",b=8,p=t.random.getBytesSync(8),C=t.des.createEncryptionCipher;break;default:var k=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+E.algorithm+'".');throw k.algorithm=E.algorithm,k}var B=t.pbe.opensslDeriveBytes(h,p.substr(0,8),b),x=C(B);x.start(p),x.update(s.toDer(n.privateKeyToAsn1(_))),x.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:S,parameters:t.util.bytesToHex(p).toUpperCase()},body:x.output.getBytes()};return t.pem.encode(m)},n.decryptRsaPrivateKey=function(_,h){var E=null,w=t.pem.decode(_)[0];if(w.type!=="ENCRYPTED PRIVATE KEY"&&w.type!=="PRIVATE KEY"&&w.type!=="RSA PRIVATE KEY"){var S=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw S.headerType=S,S}if(w.procType&&w.procType.type==="ENCRYPTED"){var p,b;switch(w.dekInfo.algorithm){case"DES-CBC":p=8,b=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":p=24,b=t.des.createDecryptionCipher;break;case"AES-128-CBC":p=16,b=t.aes.createDecryptionCipher;break;case"AES-192-CBC":p=24,b=t.aes.createDecryptionCipher;break;case"AES-256-CBC":p=32,b=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":p=5,b=function(m){return t.rc2.createDecryptionCipher(m,40)};break;case"RC2-64-CBC":p=8,b=function(m){return t.rc2.createDecryptionCipher(m,64)};break;case"RC2-128-CBC":p=16,b=function(m){return t.rc2.createDecryptionCipher(m,128)};break;default:var S=new Error('Could not decrypt private key; unsupported encryption algorithm "'+w.dekInfo.algorithm+'".');throw S.algorithm=w.dekInfo.algorithm,S}var C=t.util.hexToBytes(w.dekInfo.parameters),k=t.pbe.opensslDeriveBytes(h,C.substr(0,8),p),B=b(k);if(B.start(C),B.update(t.util.createBuffer(w.body)),B.finish())E=B.output.getBytes();else return E}else E=w.body;return w.type==="ENCRYPTED PRIVATE KEY"?E=n.decryptPrivateKeyInfo(s.fromDer(E),h):E=s.fromDer(E),E!==null&&(E=n.privateKeyFromAsn1(E)),E},n.pbe.generatePkcs12Key=function(_,h,E,w,S,p){var b,C;if(typeof p>"u"||p===null){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');p=t.md.sha1.create()}var k=p.digestLength,B=p.blockLength,x=new t.util.ByteBuffer,m=new t.util.ByteBuffer;if(_!=null){for(C=0;C<_.length;C++)m.putInt16(_.charCodeAt(C));m.putInt16(0)}var f=m.length(),T=h.length(),P=new t.util.ByteBuffer;P.fillWithByte(E,B);var q=B*Math.ceil(T/B),M=new t.util.ByteBuffer;for(C=0;C<q;C++)M.putByte(h.at(C%T));var D=B*Math.ceil(f/B),V=new t.util.ByteBuffer;for(C=0;C<D;C++)V.putByte(m.at(C%f));var K=M;K.putBuffer(V);for(var G=Math.ceil(S/k),Z=1;Z<=G;Z++){var te=new t.util.ByteBuffer;te.putBytes(P.bytes()),te.putBytes(K.bytes());for(var se=0;se<w;se++)p.start(),p.update(te.getBytes()),te=p.digest();var ne=new t.util.ByteBuffer;for(C=0;C<B;C++)ne.putByte(te.at(C%k));var ve=Math.ceil(T/B)+Math.ceil(f/B),xe=new t.util.ByteBuffer;for(b=0;b<ve;b++){var Ie=new t.util.ByteBuffer(K.getBytes(B)),$=511;for(C=ne.length()-1;C>=0;C--)$=$>>8,$+=ne.at(C)+Ie.at(C),Ie.setAt(C,$&255);xe.putBuffer(Ie)}K=xe,x.putBuffer(te)}return x.truncate(x.length()-S),x},n.pbe.getCipher=function(_,h,E){switch(_){case n.oids.pkcs5PBES2:return n.pbe.getCipherForPBES2(_,h,E);case n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case n.oids["pbewithSHAAnd40BitRC2-CBC"]:return n.pbe.getCipherForPKCS12PBE(_,h,E);default:var w=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw w.oid=_,w.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],w}},n.pbe.getCipherForPBES2=function(_,h,E){var w={},S=[];if(!s.validate(h,l,w,S)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=S,p}if(_=s.derToOid(w.kdfOid),_!==n.oids.pkcs5PBKDF2){var p=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw p.oid=_,p.supportedOids=["pkcs5PBKDF2"],p}if(_=s.derToOid(w.encOid),_!==n.oids["aes128-CBC"]&&_!==n.oids["aes192-CBC"]&&_!==n.oids["aes256-CBC"]&&_!==n.oids["des-EDE3-CBC"]&&_!==n.oids.desCBC){var p=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw p.oid=_,p.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],p}var b=w.kdfSalt,C=t.util.createBuffer(w.kdfIterationCount);C=C.getInt(C.length()<<3);var k,B;switch(n.oids[_]){case"aes128-CBC":k=16,B=t.aes.createDecryptionCipher;break;case"aes192-CBC":k=24,B=t.aes.createDecryptionCipher;break;case"aes256-CBC":k=32,B=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":k=24,B=t.des.createDecryptionCipher;break;case"desCBC":k=8,B=t.des.createDecryptionCipher;break}var x=u(w.prfOid),m=t.pkcs5.pbkdf2(E,b,C,k,x),f=w.encIv,T=B(m);return T.start(f),T},n.pbe.getCipherForPKCS12PBE=function(_,h,E){var w={},S=[];if(!s.validate(h,o,w,S)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=S,p}var b=t.util.createBuffer(w.salt),C=t.util.createBuffer(w.iterations);C=C.getInt(C.length()<<3);var k,B,x;switch(_){case n.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:k=24,B=8,x=t.des.startDecrypting;break;case n.oids["pbewithSHAAnd40BitRC2-CBC"]:k=5,B=8,x=function(q,M){var D=t.rc2.createDecryptionCipher(q,40);return D.start(M,null),D};break;default:var p=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw p.oid=_,p}var m=u(w.prfOid),f=n.pbe.generatePkcs12Key(E,b,1,C,k,m);m.start();var T=n.pbe.generatePkcs12Key(E,b,2,C,B,m);return x(f,T)},n.pbe.opensslDeriveBytes=function(_,h,E,w){if(typeof w>"u"||w===null){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');w=t.md.md5.create()}h===null&&(h="");for(var S=[d(w,_+h)],p=16,b=1;p<E;++b,p+=16)S.push(d(w,S[b-1]+_+h));return S.join("").substr(0,E)};function d(_,h){return _.start().update(h).digest().getBytes()}function u(_){var h;if(!_)h="hmacWithSHA1";else if(h=n.oids[s.derToOid(_)],!h){var E=new Error("Unsupported PRF OID.");throw E.oid=_,E.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],E}return v(h)}function v(_){var h=t.md;switch(_){case"hmacWithSHA224":h=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":_=_.substr(8).toLowerCase();break;default:var E=new Error("Unsupported PRF algorithm.");throw E.algorithm=_,E.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],E}if(!h||!(_ in h))throw new Error("Unknown hash algorithm: "+_);return h[_].create()}function A(_,h,E,w){var S=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,_),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,h.getBytes())]);return w!=="hmacWithSHA1"&&S.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.util.hexToBytes(E.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(n.oids[w]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])),S}}}),Hy=Ee({"../../node_modules/node-forge/lib/pkcs7asn1.js"(i,e){"use strict";var t=Ae();Or(),Oe();var r=t.asn1,s=e.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=s;var n={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=n;var a={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(a)},s.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(a)};var c={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},n,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}}),Ky=Ee({"../../node_modules/node-forge/lib/mgf1.js"(i,e){"use strict";var t=Ae();Oe(),t.mgf=t.mgf||{};var r=e.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{};r.create=function(s){var n={generate:function(a,c){for(var l=new t.util.ByteBuffer,o=Math.ceil(c/s.digestLength),d=0;d<o;d++){var u=new t.util.ByteBuffer;u.putInt32(d),s.start(),s.update(a+u.getBytes()),l.putBuffer(s.digest())}return l.truncate(l.length()-c),l.getBytes()}};return n}}}),a2=Ee({"../../node_modules/node-forge/lib/mgf.js"(i,e){"use strict";var t=Ae();Ky(),e.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1}}),yp=Ee({"../../node_modules/node-forge/lib/pss.js"(i,e){"use strict";var t=Ae();Sr(),Oe();var r=e.exports=t.pss=t.pss||{};r.create=function(s){arguments.length===3&&(s={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var n=s.md,a=s.mgf,c=n.digestLength,l=s.salt||null;typeof l=="string"&&(l=t.util.createBuffer(l));var o;if("saltLength"in s)o=s.saltLength;else if(l!==null)o=l.length();else throw new Error("Salt length not specified or specific salt not given.");if(l!==null&&l.length()!==o)throw new Error("Given salt length does not match length of given salt.");var d=s.prng||t.random,u={};return u.encode=function(v,A){var _,h=A-1,E=Math.ceil(h/8),w=v.digest().getBytes();if(E<c+o+2)throw new Error("Message is too long to encrypt.");var S;l===null?S=d.getBytesSync(o):S=l.bytes();var p=new t.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(w),p.putBytes(S),n.start(),n.update(p.getBytes());var b=n.digest().getBytes(),C=new t.util.ByteBuffer;C.fillWithByte(0,E-o-c-2),C.putByte(1),C.putBytes(S);var k=C.getBytes(),B=E-c-1,x=a.generate(b,B),m="";for(_=0;_<B;_++)m+=String.fromCharCode(k.charCodeAt(_)^x.charCodeAt(_));var f=65280>>8*E-h&255;return m=String.fromCharCode(m.charCodeAt(0)&~f)+m.substr(1),m+b+"\xBC"},u.verify=function(v,A,_){var h,E=_-1,w=Math.ceil(E/8);if(A=A.substr(-w),w<c+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(A.charCodeAt(w-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var S=w-c-1,p=A.substr(0,S),b=A.substr(S,c),C=65280>>8*w-E&255;if(p.charCodeAt(0)&C)throw new Error("Bits beyond keysize not zero as expected.");var k=a.generate(b,S),B="";for(h=0;h<S;h++)B+=String.fromCharCode(p.charCodeAt(h)^k.charCodeAt(h));B=String.fromCharCode(B.charCodeAt(0)&~C)+B.substr(1);var x=w-c-o-2;for(h=0;h<x;h++)if(B.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(B.charCodeAt(x)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=B.substr(-o),f=new t.util.ByteBuffer;f.fillWithByte(0,8),f.putBytes(v),f.putBytes(m),n.start(),n.update(f.getBytes());var T=n.digest().getBytes();return b===T},u}}}),_p=Ee({"../../node_modules/node-forge/lib/x509.js"(i,e){"use strict";var t=Ae();zi(),Or(),tc(),ti(),a2(),$i(),Ls(),yp(),ic(),Oe();var r=t.asn1,s=e.exports=t.pki=t.pki||{},n=s.oids,a={};a.CN=n.commonName,a.commonName="CN",a.C=n.countryName,a.countryName="C",a.L=n.localityName,a.localityName="L",a.ST=n.stateOrProvinceName,a.stateOrProvinceName="ST",a.O=n.organizationName,a.organizationName="O",a.OU=n.organizationalUnitName,a.organizationalUnitName="OU",a.E=n.emailAddress,a.emailAddress="E";var c=t.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},o={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},u={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};s.RDNAttributesAsArray=function(x,m){for(var f=[],T,P,q,M=0;M<x.value.length;++M){T=x.value[M];for(var D=0;D<T.value.length;++D)q={},P=T.value[D],q.type=r.derToOid(P.value[0].value),q.value=P.value[1].value,q.valueTagClass=P.value[1].type,q.type in n&&(q.name=n[q.type],q.name in a&&(q.shortName=a[q.name])),m&&(m.update(q.type),m.update(q.value)),f.push(q)}return f},s.CRIAttributesAsArray=function(x){for(var m=[],f=0;f<x.length;++f)for(var T=x[f],P=r.derToOid(T.value[0].value),q=T.value[1].value,M=0;M<q.length;++M){var D={};if(D.type=P,D.value=q[M].value,D.valueTagClass=q[M].type,D.type in n&&(D.name=n[D.type],D.name in a&&(D.shortName=a[D.name])),D.type===n.extensionRequest){D.extensions=[];for(var V=0;V<D.value.length;++V)D.extensions.push(s.certificateExtensionFromAsn1(D.value[V]))}m.push(D)}return m};function v(x,m){typeof m=="string"&&(m={shortName:m});for(var f=null,T,P=0;f===null&&P<x.attributes.length;++P)T=x.attributes[P],(m.type&&m.type===T.type||m.name&&m.name===T.name||m.shortName&&m.shortName===T.shortName)&&(f=T);return f}var A=function(x,m,f){var T={};if(x!==n["RSASSA-PSS"])return T;f&&(T={hash:{algorithmOid:n.sha1},mgf:{algorithmOid:n.mgf1,hash:{algorithmOid:n.sha1}},saltLength:20});var P={},q=[];if(!r.validate(m,o,P,q)){var M=new Error("Cannot read RSASSA-PSS parameter block.");throw M.errors=q,M}return P.hashOid!==void 0&&(T.hash=T.hash||{},T.hash.algorithmOid=r.derToOid(P.hashOid)),P.maskGenOid!==void 0&&(T.mgf=T.mgf||{},T.mgf.algorithmOid=r.derToOid(P.maskGenOid),T.mgf.hash=T.mgf.hash||{},T.mgf.hash.algorithmOid=r.derToOid(P.maskGenHashOid)),P.saltLength!==void 0&&(T.saltLength=P.saltLength.charCodeAt(0)),T},_=function(x){switch(n[x.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();case"RSASSA-PSS":return t.md.sha256.create();default:var m=new Error("Could not compute "+x.type+" digest. Unknown signature OID.");throw m.signatureOid=x.signatureOid,m}},h=function(x){var m=x.certificate,f;switch(m.signatureOid){case n.sha1WithRSAEncryption:case n.sha1WithRSASignature:break;case n["RSASSA-PSS"]:var T,P;if(T=n[m.signatureParameters.mgf.hash.algorithmOid],T===void 0||t.md[T]===void 0){var q=new Error("Unsupported MGF hash function.");throw q.oid=m.signatureParameters.mgf.hash.algorithmOid,q.name=T,q}if(P=n[m.signatureParameters.mgf.algorithmOid],P===void 0||t.mgf[P]===void 0){var q=new Error("Unsupported MGF function.");throw q.oid=m.signatureParameters.mgf.algorithmOid,q.name=P,q}if(P=t.mgf[P].create(t.md[T].create()),T=n[m.signatureParameters.hash.algorithmOid],T===void 0||t.md[T]===void 0){var q=new Error("Unsupported RSASSA-PSS hash function.");throw q.oid=m.signatureParameters.hash.algorithmOid,q.name=T,q}f=t.pss.create(t.md[T].create(),P,m.signatureParameters.saltLength);break}return m.publicKey.verify(x.md.digest().getBytes(),x.signature,f)};s.certificateFromPem=function(x,m,f){var T=t.pem.decode(x)[0];if(T.type!=="CERTIFICATE"&&T.type!=="X509 CERTIFICATE"&&T.type!=="TRUSTED CERTIFICATE"){var P=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw P.headerType=T.type,P}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var q=r.fromDer(T.body,f);return s.certificateFromAsn1(q,m)},s.certificateToPem=function(x,m){var f={type:"CERTIFICATE",body:r.toDer(s.certificateToAsn1(x)).getBytes()};return t.pem.encode(f,{maxline:m})},s.publicKeyFromPem=function(x){var m=t.pem.decode(x)[0];if(m.type!=="PUBLIC KEY"&&m.type!=="RSA PUBLIC KEY"){var f=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw f.headerType=m.type,f}if(m.procType&&m.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var T=r.fromDer(m.body);return s.publicKeyFromAsn1(T)},s.publicKeyToPem=function(x,m){var f={type:"PUBLIC KEY",body:r.toDer(s.publicKeyToAsn1(x)).getBytes()};return t.pem.encode(f,{maxline:m})},s.publicKeyToRSAPublicKeyPem=function(x,m){var f={type:"RSA PUBLIC KEY",body:r.toDer(s.publicKeyToRSAPublicKey(x)).getBytes()};return t.pem.encode(f,{maxline:m})},s.getPublicKeyFingerprint=function(x,m){m=m||{};var f=m.md||t.md.sha1.create(),T=m.type||"RSAPublicKey",P;switch(T){case"RSAPublicKey":P=r.toDer(s.publicKeyToRSAPublicKey(x)).getBytes();break;case"SubjectPublicKeyInfo":P=r.toDer(s.publicKeyToAsn1(x)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+m.type+'".')}f.start(),f.update(P);var q=f.digest();if(m.encoding==="hex"){var M=q.toHex();return m.delimiter?M.match(/.{2}/g).join(m.delimiter):M}else{if(m.encoding==="binary")return q.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".')}return q},s.certificationRequestFromPem=function(x,m,f){var T=t.pem.decode(x)[0];if(T.type!=="CERTIFICATE REQUEST"){var P=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw P.headerType=T.type,P}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var q=r.fromDer(T.body,f);return s.certificationRequestFromAsn1(q,m)},s.certificationRequestToPem=function(x,m){var f={type:"CERTIFICATE REQUEST",body:r.toDer(s.certificationRequestToAsn1(x)).getBytes()};return t.pem.encode(f,{maxline:m})},s.createCertificate=function(){var x={};return x.version=2,x.serialNumber="00",x.signatureOid=null,x.signature=null,x.siginfo={},x.siginfo.algorithmOid=null,x.validity={},x.validity.notBefore=new Date,x.validity.notAfter=new Date,x.issuer={},x.issuer.getField=function(m){return v(x.issuer,m)},x.issuer.addField=function(m){w([m]),x.issuer.attributes.push(m)},x.issuer.attributes=[],x.issuer.hash=null,x.subject={},x.subject.getField=function(m){return v(x.subject,m)},x.subject.addField=function(m){w([m]),x.subject.attributes.push(m)},x.subject.attributes=[],x.subject.hash=null,x.extensions=[],x.publicKey=null,x.md=null,x.setSubject=function(m,f){w(m),x.subject.attributes=m,delete x.subject.uniqueId,f&&(x.subject.uniqueId=f),x.subject.hash=null},x.setIssuer=function(m,f){w(m),x.issuer.attributes=m,delete x.issuer.uniqueId,f&&(x.issuer.uniqueId=f),x.issuer.hash=null},x.setExtensions=function(m){for(var f=0;f<m.length;++f)S(m[f],{cert:x});x.extensions=m},x.getExtension=function(m){typeof m=="string"&&(m={name:m});for(var f=null,T,P=0;f===null&&P<x.extensions.length;++P)T=x.extensions[P],(m.id&&T.id===m.id||m.name&&T.name===m.name)&&(f=T);return f},x.sign=function(m,f){x.md=f||t.md.sha1.create();var T=n[x.md.algorithm+"WithRSAEncryption"];if(!T){var P=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw P.algorithm=x.md.algorithm,P}x.signatureOid=x.siginfo.algorithmOid=T,x.tbsCertificate=s.getTBSCertificate(x);var q=r.toDer(x.tbsCertificate);x.md.update(q.getBytes()),x.signature=m.sign(x.md)},x.verify=function(m){var f=!1;if(!x.issued(m)){var T=m.issuer,P=x.subject,q=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw q.expectedIssuer=P.attributes,q.actualIssuer=T.attributes,q}var M=m.md;if(M===null){M=_({signatureOid:m.signatureOid,type:"certificate"});var D=m.tbsCertificate||s.getTBSCertificate(m),V=r.toDer(D);M.update(V.getBytes())}return M!==null&&(f=h({certificate:x,md:M,signature:m.signature})),f},x.isIssuer=function(m){var f=!1,T=x.issuer,P=m.subject;if(T.hash&&P.hash)f=T.hash===P.hash;else if(T.attributes.length===P.attributes.length){f=!0;for(var q,M,D=0;f&&D<T.attributes.length;++D)q=T.attributes[D],M=P.attributes[D],(q.type!==M.type||q.value!==M.value)&&(f=!1)}return f},x.issued=function(m){return m.isIssuer(x)},x.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(x.publicKey,{type:"RSAPublicKey"})},x.verifySubjectKeyIdentifier=function(){for(var m=n.subjectKeyIdentifier,f=0;f<x.extensions.length;++f){var T=x.extensions[f];if(T.id===m){var P=x.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(T.subjectKeyIdentifier)===P}}return!1},x},s.certificateFromAsn1=function(x,m){var f={},T=[];if(!r.validate(x,l,f,T)){var P=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw P.errors=T,P}var q=r.derToOid(f.publicKeyOid);if(q!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var M=s.createCertificate();M.version=f.certVersion?f.certVersion.charCodeAt(0):0;var D=t.util.createBuffer(f.certSerialNumber);M.serialNumber=D.toHex(),M.signatureOid=t.asn1.derToOid(f.certSignatureOid),M.signatureParameters=A(M.signatureOid,f.certSignatureParams,!0),M.siginfo.algorithmOid=t.asn1.derToOid(f.certinfoSignatureOid),M.siginfo.parameters=A(M.siginfo.algorithmOid,f.certinfoSignatureParams,!1),M.signature=f.certSignature;var V=[];if(f.certValidity1UTCTime!==void 0&&V.push(r.utcTimeToDate(f.certValidity1UTCTime)),f.certValidity2GeneralizedTime!==void 0&&V.push(r.generalizedTimeToDate(f.certValidity2GeneralizedTime)),f.certValidity3UTCTime!==void 0&&V.push(r.utcTimeToDate(f.certValidity3UTCTime)),f.certValidity4GeneralizedTime!==void 0&&V.push(r.generalizedTimeToDate(f.certValidity4GeneralizedTime)),V.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(V.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(M.validity.notBefore=V[0],M.validity.notAfter=V[1],M.tbsCertificate=f.tbsCertificate,m){M.md=_({signatureOid:M.signatureOid,type:"certificate"});var K=r.toDer(M.tbsCertificate);M.md.update(K.getBytes())}var G=t.md.sha1.create(),Z=r.toDer(f.certIssuer);G.update(Z.getBytes()),M.issuer.getField=function(ne){return v(M.issuer,ne)},M.issuer.addField=function(ne){w([ne]),M.issuer.attributes.push(ne)},M.issuer.attributes=s.RDNAttributesAsArray(f.certIssuer),f.certIssuerUniqueId&&(M.issuer.uniqueId=f.certIssuerUniqueId),M.issuer.hash=G.digest().toHex();var te=t.md.sha1.create(),se=r.toDer(f.certSubject);return te.update(se.getBytes()),M.subject.getField=function(ne){return v(M.subject,ne)},M.subject.addField=function(ne){w([ne]),M.subject.attributes.push(ne)},M.subject.attributes=s.RDNAttributesAsArray(f.certSubject),f.certSubjectUniqueId&&(M.subject.uniqueId=f.certSubjectUniqueId),M.subject.hash=te.digest().toHex(),f.certExtensions?M.extensions=s.certificateExtensionsFromAsn1(f.certExtensions):M.extensions=[],M.publicKey=s.publicKeyFromAsn1(f.subjectPublicKeyInfo),M},s.certificateExtensionsFromAsn1=function(x){for(var m=[],f=0;f<x.value.length;++f)for(var T=x.value[f],P=0;P<T.value.length;++P)m.push(s.certificateExtensionFromAsn1(T.value[P]));return m},s.certificateExtensionFromAsn1=function(x){var m={};if(m.id=r.derToOid(x.value[0].value),m.critical=!1,x.value[1].type===r.Type.BOOLEAN?(m.critical=x.value[1].value.charCodeAt(0)!==0,m.value=x.value[2].value):m.value=x.value[1].value,m.id in n){if(m.name=n[m.id],m.name==="keyUsage"){var f=r.fromDer(m.value),T=0,P=0;f.value.length>1&&(T=f.value.charCodeAt(1),P=f.value.length>2?f.value.charCodeAt(2):0),m.digitalSignature=(T&128)===128,m.nonRepudiation=(T&64)===64,m.keyEncipherment=(T&32)===32,m.dataEncipherment=(T&16)===16,m.keyAgreement=(T&8)===8,m.keyCertSign=(T&4)===4,m.cRLSign=(T&2)===2,m.encipherOnly=(T&1)===1,m.decipherOnly=(P&128)===128}else if(m.name==="basicConstraints"){var f=r.fromDer(m.value);f.value.length>0&&f.value[0].type===r.Type.BOOLEAN?m.cA=f.value[0].value.charCodeAt(0)!==0:m.cA=!1;var q=null;f.value.length>0&&f.value[0].type===r.Type.INTEGER?q=f.value[0].value:f.value.length>1&&(q=f.value[1].value),q!==null&&(m.pathLenConstraint=r.derToInteger(q))}else if(m.name==="extKeyUsage")for(var f=r.fromDer(m.value),M=0;M<f.value.length;++M){var D=r.derToOid(f.value[M].value);D in n?m[n[D]]=!0:m[D]=!0}else if(m.name==="nsCertType"){var f=r.fromDer(m.value),T=0;f.value.length>1&&(T=f.value.charCodeAt(1)),m.client=(T&128)===128,m.server=(T&64)===64,m.email=(T&32)===32,m.objsign=(T&16)===16,m.reserved=(T&8)===8,m.sslCA=(T&4)===4,m.emailCA=(T&2)===2,m.objCA=(T&1)===1}else if(m.name==="subjectAltName"||m.name==="issuerAltName"){m.altNames=[];for(var V,f=r.fromDer(m.value),K=0;K<f.value.length;++K){V=f.value[K];var G={type:V.type,value:V.value};switch(m.altNames.push(G),V.type){case 1:case 2:case 6:break;case 7:G.ip=t.util.bytesToIP(V.value);break;case 8:G.oid=r.derToOid(V.value);break;default:}}}else if(m.name==="subjectKeyIdentifier"){var f=r.fromDer(m.value);m.subjectKeyIdentifier=t.util.bytesToHex(f.value)}}return m},s.certificationRequestFromAsn1=function(x,m){var f={},T=[];if(!r.validate(x,u,f,T)){var P=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw P.errors=T,P}var q=r.derToOid(f.publicKeyOid);if(q!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var M=s.createCertificationRequest();if(M.version=f.csrVersion?f.csrVersion.charCodeAt(0):0,M.signatureOid=t.asn1.derToOid(f.csrSignatureOid),M.signatureParameters=A(M.signatureOid,f.csrSignatureParams,!0),M.siginfo.algorithmOid=t.asn1.derToOid(f.csrSignatureOid),M.siginfo.parameters=A(M.siginfo.algorithmOid,f.csrSignatureParams,!1),M.signature=f.csrSignature,M.certificationRequestInfo=f.certificationRequestInfo,m){M.md=_({signatureOid:M.signatureOid,type:"certification request"});var D=r.toDer(M.certificationRequestInfo);M.md.update(D.getBytes())}var V=t.md.sha1.create();return M.subject.getField=function(K){return v(M.subject,K)},M.subject.addField=function(K){w([K]),M.subject.attributes.push(K)},M.subject.attributes=s.RDNAttributesAsArray(f.certificationRequestInfoSubject,V),M.subject.hash=V.digest().toHex(),M.publicKey=s.publicKeyFromAsn1(f.subjectPublicKeyInfo),M.getAttribute=function(K){return v(M,K)},M.addAttribute=function(K){w([K]),M.attributes.push(K)},M.attributes=s.CRIAttributesAsArray(f.certificationRequestInfoAttributes||[]),M},s.createCertificationRequest=function(){var x={};return x.version=0,x.signatureOid=null,x.signature=null,x.siginfo={},x.siginfo.algorithmOid=null,x.subject={},x.subject.getField=function(m){return v(x.subject,m)},x.subject.addField=function(m){w([m]),x.subject.attributes.push(m)},x.subject.attributes=[],x.subject.hash=null,x.publicKey=null,x.attributes=[],x.getAttribute=function(m){return v(x,m)},x.addAttribute=function(m){w([m]),x.attributes.push(m)},x.md=null,x.setSubject=function(m){w(m),x.subject.attributes=m,x.subject.hash=null},x.setAttributes=function(m){w(m),x.attributes=m},x.sign=function(m,f){x.md=f||t.md.sha1.create();var T=n[x.md.algorithm+"WithRSAEncryption"];if(!T){var P=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw P.algorithm=x.md.algorithm,P}x.signatureOid=x.siginfo.algorithmOid=T,x.certificationRequestInfo=s.getCertificationRequestInfo(x);var q=r.toDer(x.certificationRequestInfo);x.md.update(q.getBytes()),x.signature=m.sign(x.md)},x.verify=function(){var m=!1,f=x.md;if(f===null){f=_({signatureOid:x.signatureOid,type:"certification request"});var T=x.certificationRequestInfo||s.getCertificationRequestInfo(x),P=r.toDer(T);f.update(P.getBytes())}return f!==null&&(m=h({certificate:x,md:f,signature:x.signature})),m},x};function E(x){for(var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),f,T,P=x.attributes,q=0;q<P.length;++q){f=P[q];var M=f.value,D=r.Type.PRINTABLESTRING;"valueTagClass"in f&&(D=f.valueTagClass,D===r.Type.UTF8&&(M=t.util.encodeUtf8(M))),T=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f.type).getBytes()),r.create(r.Class.UNIVERSAL,D,!1,M)])]),m.value.push(T)}return m}function w(x){for(var m,f=0;f<x.length;++f){if(m=x[f],typeof m.name>"u"&&(m.type&&m.type in s.oids?m.name=s.oids[m.type]:m.shortName&&m.shortName in a&&(m.name=s.oids[a[m.shortName]])),typeof m.type>"u")if(m.name&&m.name in s.oids)m.type=s.oids[m.name];else{var T=new Error("Attribute type not specified.");throw T.attribute=m,T}if(typeof m.shortName>"u"&&m.name&&m.name in a&&(m.shortName=a[m.name]),m.type===n.extensionRequest&&(m.valueConstructed=!0,m.valueTagClass=r.Type.SEQUENCE,!m.value&&m.extensions)){m.value=[];for(var P=0;P<m.extensions.length;++P)m.value.push(s.certificateExtensionToAsn1(S(m.extensions[P])))}if(typeof m.value>"u"){var T=new Error("Attribute value not specified.");throw T.attribute=m,T}}}function S(x,m){if(m=m||{},typeof x.name>"u"&&x.id&&x.id in s.oids&&(x.name=s.oids[x.id]),typeof x.id>"u")if(x.name&&x.name in s.oids)x.id=s.oids[x.name];else{var f=new Error("Extension ID not specified.");throw f.extension=x,f}if(typeof x.value<"u")return x;if(x.name==="keyUsage"){var T=0,P=0,q=0;x.digitalSignature&&(P|=128,T=7),x.nonRepudiation&&(P|=64,T=6),x.keyEncipherment&&(P|=32,T=5),x.dataEncipherment&&(P|=16,T=4),x.keyAgreement&&(P|=8,T=3),x.keyCertSign&&(P|=4,T=2),x.cRLSign&&(P|=2,T=1),x.encipherOnly&&(P|=1,T=0),x.decipherOnly&&(q|=128,T=7);var M=String.fromCharCode(T);q!==0?M+=String.fromCharCode(P)+String.fromCharCode(q):P!==0&&(M+=String.fromCharCode(P)),x.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,M)}else if(x.name==="basicConstraints")x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),x.cA&&x.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in x&&x.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(x.pathLenConstraint).getBytes()));else if(x.name==="extKeyUsage"){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var D=x.value.value;for(var V in x)x[V]===!0&&(V in n?D.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(n[V]).getBytes())):V.indexOf(".")!==-1&&D.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(V).getBytes())))}else if(x.name==="nsCertType"){var T=0,P=0;x.client&&(P|=128,T=7),x.server&&(P|=64,T=6),x.email&&(P|=32,T=5),x.objsign&&(P|=16,T=4),x.reserved&&(P|=8,T=3),x.sslCA&&(P|=4,T=2),x.emailCA&&(P|=2,T=1),x.objCA&&(P|=1,T=0);var M=String.fromCharCode(T);P!==0&&(M+=String.fromCharCode(P)),x.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,M)}else if(x.name==="subjectAltName"||x.name==="issuerAltName"){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var K,G=0;G<x.altNames.length;++G){K=x.altNames[G];var M=K.value;if(K.type===7&&K.ip){if(M=t.util.bytesFromIP(K.ip),M===null){var f=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw f.extension=x,f}}else K.type===8&&(K.oid?M=r.oidToDer(r.oidToDer(K.oid)):M=r.oidToDer(M));x.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,K.type,!1,M))}}else if(x.name==="nsComment"&&m.cert){if(!/^[\x00-\x7F]*$/.test(x.comment)||x.comment.length<1||x.comment.length>128)throw new Error('Invalid "nsComment" content.');x.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,x.comment)}else if(x.name==="subjectKeyIdentifier"&&m.cert){var Z=m.cert.generateSubjectKeyIdentifier();x.subjectKeyIdentifier=Z.toHex(),x.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Z.getBytes())}else if(x.name==="authorityKeyIdentifier"&&m.cert){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var D=x.value.value;if(x.keyIdentifier){var te=x.keyIdentifier===!0?m.cert.generateSubjectKeyIdentifier().getBytes():x.keyIdentifier;D.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,te))}if(x.authorityCertIssuer){var se=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[E(x.authorityCertIssuer===!0?m.cert.issuer:x.authorityCertIssuer)])];D.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,se))}if(x.serialNumber){var ne=t.util.hexToBytes(x.serialNumber===!0?m.cert.serialNumber:x.serialNumber);D.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,ne))}}else if(x.name==="cRLDistributionPoints"){x.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var D=x.value.value,ve=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),xe=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),K,G=0;G<x.altNames.length;++G){K=x.altNames[G];var M=K.value;if(K.type===7&&K.ip){if(M=t.util.bytesFromIP(K.ip),M===null){var f=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw f.extension=x,f}}else K.type===8&&(K.oid?M=r.oidToDer(r.oidToDer(K.oid)):M=r.oidToDer(M));xe.value.push(r.create(r.Class.CONTEXT_SPECIFIC,K.type,!1,M))}ve.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[xe])),D.push(ve)}if(typeof x.value>"u"){var f=new Error("Extension value not specified.");throw f.extension=x,f}return x}function p(x,m){switch(x){case n["RSASSA-PSS"]:var f=[];return m.hash.algorithmOid!==void 0&&f.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),m.mgf.algorithmOid!==void 0&&f.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),m.saltLength!==void 0&&f.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,f);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function b(x){var m=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(x.attributes.length===0)return m;for(var f=x.attributes,T=0;T<f.length;++T){var P=f[T],q=P.value,M=r.Type.UTF8;"valueTagClass"in P&&(M=P.valueTagClass),M===r.Type.UTF8&&(q=t.util.encodeUtf8(q));var D=!1;"valueConstructed"in P&&(D=P.valueConstructed);var V=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(P.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,M,D,q)])]);m.value.push(V)}return m}var C=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z");function B(x){return x>=C&&x<k?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(x)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(x))}s.getTBSCertificate=function(x){var m=B(x.validity.notBefore),f=B(x.validity.notAfter),T=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(x.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(x.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.siginfo.algorithmOid).getBytes()),p(x.siginfo.algorithmOid,x.siginfo.parameters)]),E(x.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,f]),E(x.subject),s.publicKeyToAsn1(x.publicKey)]);return x.issuer.uniqueId&&T.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.issuer.uniqueId)])),x.subject.uniqueId&&T.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.subject.uniqueId)])),x.extensions.length>0&&T.value.push(s.certificateExtensionsToAsn1(x.extensions)),T},s.getCertificationRequestInfo=function(x){var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(x.version).getBytes()),E(x.subject),s.publicKeyToAsn1(x.publicKey),b(x)]);return m},s.distinguishedNameToAsn1=function(x){return E(x)},s.certificateToAsn1=function(x){var m=x.tbsCertificate||s.getTBSCertificate(x);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.signatureOid).getBytes()),p(x.signatureOid,x.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.signature)])},s.certificateExtensionsToAsn1=function(x){var m=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),f=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);m.value.push(f);for(var T=0;T<x.length;++T)f.value.push(s.certificateExtensionToAsn1(x[T]));return m},s.certificateExtensionToAsn1=function(x){var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);m.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.id).getBytes())),x.critical&&m.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,"\xFF"));var f=x.value;return typeof x.value!="string"&&(f=r.toDer(f).getBytes()),m.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,f)),m},s.certificationRequestToAsn1=function(x){var m=x.certificationRequestInfo||s.getCertificationRequestInfo(x);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(x.signatureOid).getBytes()),p(x.signatureOid,x.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,"\0"+x.signature)])},s.createCaStore=function(x){var m={certs:{}};m.getIssuer=function(M){var D=f(M.issuer);return D},m.addCertificate=function(M){if(typeof M=="string"&&(M=t.pki.certificateFromPem(M)),T(M.subject),!m.hasCertificate(M))if(M.subject.hash in m.certs){var D=m.certs[M.subject.hash];t.util.isArray(D)||(D=[D]),D.push(M),m.certs[M.subject.hash]=D}else m.certs[M.subject.hash]=M},m.hasCertificate=function(M){typeof M=="string"&&(M=t.pki.certificateFromPem(M));var D=f(M.subject);if(!D)return!1;t.util.isArray(D)||(D=[D]);for(var V=r.toDer(s.certificateToAsn1(M)).getBytes(),K=0;K<D.length;++K){var G=r.toDer(s.certificateToAsn1(D[K])).getBytes();if(V===G)return!0}return!1},m.listAllCertificates=function(){var M=[];for(var D in m.certs)if(m.certs.hasOwnProperty(D)){var V=m.certs[D];if(!t.util.isArray(V))M.push(V);else for(var K=0;K<V.length;++K)M.push(V[K])}return M},m.removeCertificate=function(M){var D;if(typeof M=="string"&&(M=t.pki.certificateFromPem(M)),T(M.subject),!m.hasCertificate(M))return null;var V=f(M.subject);if(!t.util.isArray(V))return D=m.certs[M.subject.hash],delete m.certs[M.subject.hash],D;for(var K=r.toDer(s.certificateToAsn1(M)).getBytes(),G=0;G<V.length;++G){var Z=r.toDer(s.certificateToAsn1(V[G])).getBytes();K===Z&&(D=V[G],V.splice(G,1))}return V.length===0&&delete m.certs[M.subject.hash],D};function f(M){return T(M),m.certs[M.hash]||null}function T(M){if(!M.hash){var D=t.md.sha1.create();M.attributes=s.RDNAttributesAsArray(E(M),D),M.hash=D.digest().toHex()}}if(x)for(var P=0;P<x.length;++P){var q=x[P];m.addCertificate(q)}return m},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(x,m,f){typeof f=="function"&&(f={verify:f}),f=f||{},m=m.slice(0);var T=m.slice(0),P=f.validityCheckDate;typeof P>"u"&&(P=new Date);var q=!0,M=null,D=0;do{var V=m.shift(),K=null,G=!1;if(P&&(P<V.validity.notBefore||P>V.validity.notAfter)&&(M={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:V.validity.notBefore,notAfter:V.validity.notAfter,now:P}),M===null){if(K=m[0]||x.getIssuer(V),K===null&&V.isIssuer(V)&&(G=!0,K=V),K){var Z=K;t.util.isArray(Z)||(Z=[Z]);for(var te=!1;!te&&Z.length>0;){K=Z.shift();try{te=K.verify(V)}catch{}}te||(M={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}M===null&&(!K||G)&&!x.hasCertificate(V)&&(M={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(M===null&&K&&!V.isIssuer(K)&&(M={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),M===null)for(var se={keyUsage:!0,basicConstraints:!0},ne=0;M===null&&ne<V.extensions.length;++ne){var ve=V.extensions[ne];ve.critical&&!(ve.name in se)&&(M={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(M===null&&(!q||m.length===0&&(!K||G))){var xe=V.getExtension("basicConstraints"),Ie=V.getExtension("keyUsage");if(Ie!==null&&(!Ie.keyCertSign||xe===null)&&(M={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate}),M===null&&xe!==null&&!xe.cA&&(M={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),M===null&&Ie!==null&&"pathLenConstraint"in xe){var $=D-1;$>xe.pathLenConstraint&&(M={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}}var ke=M===null?!0:M.error,ae=f.verify?f.verify(ke,D,T):ke;if(ae===!0)M=null;else throw ke===!0&&(M={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(ae||ae===0)&&(typeof ae=="object"&&!t.util.isArray(ae)?(ae.message&&(M.message=ae.message),ae.error&&(M.error=ae.error)):typeof ae=="string"&&(M.error=ae)),M;q=!1,++D}while(m.length>0);return!0}}}),Wy=Ee({"../../node_modules/node-forge/lib/pkcs12.js"(i,e){"use strict";var t=Ae();Or(),oa(),$i(),Hy(),jy(),Sr(),ic(),ca(),Oe(),_p();var r=t.asn1,s=t.pki,n=e.exports=t.pkcs12=t.pkcs12||{},a={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},a,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},o={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function u(w,S,p,b){for(var C=[],k=0;k<w.length;k++)for(var B=0;B<w[k].safeBags.length;B++){var x=w[k].safeBags[B];if(!(b!==void 0&&x.type!==b)){if(S===null){C.push(x);continue}x.attributes[S]!==void 0&&x.attributes[S].indexOf(p)>=0&&C.push(x)}}return C}n.pkcs12FromAsn1=function(w,S,p){typeof S=="string"?(p=S,S=!0):S===void 0&&(S=!0);var b={},C=[];if(!r.validate(w,c,b,C)){var k=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw k.errors=k,k}var B={version:b.version.charCodeAt(0),safeContents:[],getBags:function(K){var G={},Z;return"localKeyId"in K?Z=K.localKeyId:"localKeyIdHex"in K&&(Z=t.util.hexToBytes(K.localKeyIdHex)),Z===void 0&&!("friendlyName"in K)&&"bagType"in K&&(G[K.bagType]=u(B.safeContents,null,null,K.bagType)),Z!==void 0&&(G.localKeyId=u(B.safeContents,"localKeyId",Z,K.bagType)),"friendlyName"in K&&(G.friendlyName=u(B.safeContents,"friendlyName",K.friendlyName,K.bagType)),G},getBagsByFriendlyName:function(K,G){return u(B.safeContents,"friendlyName",K,G)},getBagsByLocalKeyId:function(K,G){return u(B.safeContents,"localKeyId",K,G)}};if(b.version.charCodeAt(0)!==3){var k=new Error("PKCS#12 PFX of version other than 3 not supported.");throw k.version=b.version.charCodeAt(0),k}if(r.derToOid(b.contentType)!==s.oids.data){var k=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw k.oid=r.derToOid(b.contentType),k}var x=b.content.value[0];if(x.tagClass!==r.Class.UNIVERSAL||x.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(x=v(x),b.mac){var m=null,f=0,T=r.derToOid(b.macAlgorithm);switch(T){case s.oids.sha1:m=t.md.sha1.create(),f=20;break;case s.oids.sha256:m=t.md.sha256.create(),f=32;break;case s.oids.sha384:m=t.md.sha384.create(),f=48;break;case s.oids.sha512:m=t.md.sha512.create(),f=64;break;case s.oids.md5:m=t.md.md5.create(),f=16;break}if(m===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+T);var P=new t.util.ByteBuffer(b.macSalt),q="macIterations"in b?parseInt(t.util.bytesToHex(b.macIterations),16):1,M=n.generateKey(p,P,3,q,f,m),D=t.hmac.create();D.start(m,M),D.update(x.value);var V=D.getMac();if(V.getBytes()!==b.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return A(B,x.value,S,p),B};function v(w){if(w.composed||w.constructed){for(var S=t.util.createBuffer(),p=0;p<w.value.length;++p)S.putBytes(w.value[p].value);w.composed=w.constructed=!1,w.value=S.getBytes()}return w}function A(w,S,p,b){if(S=r.fromDer(S,p),S.tagClass!==r.Class.UNIVERSAL||S.type!==r.Type.SEQUENCE||S.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var C=0;C<S.value.length;C++){var k=S.value[C],B={},x=[];if(!r.validate(k,a,B,x)){var m=new Error("Cannot read ContentInfo.");throw m.errors=x,m}var f={encrypted:!1},T=null,P=B.content.value[0];switch(r.derToOid(B.contentType)){case s.oids.data:if(P.tagClass!==r.Class.UNIVERSAL||P.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");T=v(P).value;break;case s.oids.encryptedData:T=_(P,b),f.encrypted=!0;break;default:var m=new Error("Unsupported PKCS#12 contentType.");throw m.contentType=r.derToOid(B.contentType),m}f.safeBags=h(T,p,b),w.safeContents.push(f)}}function _(w,S){var p={},b=[];if(!r.validate(w,t.pkcs7.asn1.encryptedDataValidator,p,b)){var C=new Error("Cannot read EncryptedContentInfo.");throw C.errors=b,C}var k=r.derToOid(p.contentType);if(k!==s.oids.data){var C=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw C.oid=k,C}k=r.derToOid(p.encAlgorithm);var B=s.pbe.getCipher(k,p.encParameter,S),x=v(p.encryptedContentAsn1),m=t.util.createBuffer(x.value);if(B.update(m),!B.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return B.output.getBytes()}function h(w,S,p){if(!S&&w.length===0)return[];if(w=r.fromDer(w,S),w.tagClass!==r.Class.UNIVERSAL||w.type!==r.Type.SEQUENCE||w.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var b=[],C=0;C<w.value.length;C++){var k=w.value[C],B={},x=[];if(!r.validate(k,l,B,x)){var m=new Error("Cannot read SafeBag.");throw m.errors=x,m}var f={type:r.derToOid(B.bagId),attributes:E(B.bagAttributes)};b.push(f);var T,P,q=B.bagValue.value[0];switch(f.type){case s.oids.pkcs8ShroudedKeyBag:if(q=s.decryptPrivateKeyInfo(q,p),q===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{f.key=s.privateKeyFromAsn1(q)}catch{f.key=null,f.asn1=q}continue;case s.oids.certBag:T=d,P=function(){if(r.derToOid(B.certId)!==s.oids.x509Certificate){var D=new Error("Unsupported certificate type, only X.509 supported.");throw D.oid=r.derToOid(B.certId),D}var V=r.fromDer(B.cert,S);try{f.cert=s.certificateFromAsn1(V,!0)}catch{f.cert=null,f.asn1=V}};break;default:var m=new Error("Unsupported PKCS#12 SafeBag type.");throw m.oid=f.type,m}if(T!==void 0&&!r.validate(q,T,B,x)){var m=new Error("Cannot read PKCS#12 "+T.name);throw m.errors=x,m}P()}return b}function E(w){var S={};if(w!==void 0)for(var p=0;p<w.length;++p){var b={},C=[];if(!r.validate(w[p],o,b,C)){var k=new Error("Cannot read PKCS#12 BagAttribute.");throw k.errors=C,k}var B=r.derToOid(b.oid);if(s.oids[B]!==void 0){S[s.oids[B]]=[];for(var x=0;x<b.values.length;++x)S[s.oids[B]].push(b.values[x].value)}}return S}n.toPkcs12Asn1=function(w,S,p,b){b=b||{},b.saltSize=b.saltSize||8,b.count=b.count||2048,b.algorithm=b.algorithm||b.encAlgorithm||"aes128","useMac"in b||(b.useMac=!0),"localKeyId"in b||(b.localKeyId=null),"generateLocalKeyId"in b||(b.generateLocalKeyId=!0);var C=b.localKeyId,k;if(C!==null)C=t.util.hexToBytes(C);else if(b.generateLocalKeyId)if(S){var B=t.util.isArray(S)?S[0]:S;typeof B=="string"&&(B=s.certificateFromPem(B));var x=t.md.sha1.create();x.update(r.toDer(s.certificateToAsn1(B)).getBytes()),C=x.digest().getBytes()}else C=t.random.getBytes(20);var m=[];C!==null&&m.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C)])])),"friendlyName"in b&&m.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,b.friendlyName)])])),m.length>0&&(k=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,m));var f=[],T=[];S!==null&&(t.util.isArray(S)?T=S:T=[S]);for(var P=[],q=0;q<T.length;++q){S=T[q],typeof S=="string"&&(S=s.certificateFromPem(S));var M=q===0?k:void 0,D=s.certificateToAsn1(S),V=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(D).getBytes())])])]),M]);P.push(V)}if(P.length>0){var K=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,P),G=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(K).getBytes())])]);f.push(G)}var Z=null;if(w!==null){var te=s.wrapRsaPrivateKey(s.privateKeyToAsn1(w));p===null?Z=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[te]),k]):Z=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(te,p,b)]),k]);var se=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[Z]),ne=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(se).getBytes())])]);f.push(ne)}var ve=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,f),xe;if(b.useMac){var x=t.md.sha1.create(),Ie=new t.util.ByteBuffer(t.random.getBytes(b.saltSize)),$=b.count,w=n.generateKey(p,Ie,3,$,20),ke=t.hmac.create();ke.start(x,w),ke.update(r.toDer(ve).getBytes());var ae=ke.getMac();xe=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,ae.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ie.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer($).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(ve).getBytes())])]),xe])},n.generateKey=t.pbe.generatePkcs12Key}}),Gy=Ee({"../../node_modules/node-forge/lib/pki.js"(i,e){"use strict";var t=Ae();Or(),$i(),jy(),Ls(),vp(),Wy(),yp(),ic(),Oe(),_p();var r=t.asn1,s=e.exports=t.pki=t.pki||{};s.pemToDer=function(n){var a=t.pem.decode(n)[0];if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(a.body)},s.privateKeyFromPem=function(n){var a=t.pem.decode(n)[0];if(a.type!=="PRIVATE KEY"&&a.type!=="RSA PRIVATE KEY"){var c=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw c.headerType=a.type,c}if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var l=r.fromDer(a.body);return s.privateKeyFromAsn1(l)},s.privateKeyToPem=function(n,a){var c={type:"RSA PRIVATE KEY",body:r.toDer(s.privateKeyToAsn1(n)).getBytes()};return t.pem.encode(c,{maxline:a})},s.privateKeyInfoToPem=function(n,a){var c={type:"PRIVATE KEY",body:r.toDer(n).getBytes()};return t.pem.encode(c,{maxline:a})}}}),zy=Ee({"../../node_modules/node-forge/lib/tls.js"(i,e){"use strict";var t=Ae();Or(),oa(),gp(),Ls(),Gy(),Sr(),ca(),Oe();var r=function(y,L,N,g){var I=t.util.createBuffer(),H=y.length>>1,j=H+(y.length&1),J=y.substr(0,j),le=y.substr(H,j),he=t.util.createBuffer(),z=t.hmac.create();N=L+N;var ue=Math.ceil(g/16),be=Math.ceil(g/20);z.start("MD5",J);var Ne=t.util.createBuffer();he.putBytes(N);for(var Ce=0;Ce<ue;++Ce)z.start(null,null),z.update(he.getBytes()),he.putBuffer(z.digest()),z.start(null,null),z.update(he.bytes()+N),Ne.putBuffer(z.digest());z.start("SHA1",le);var Ke=t.util.createBuffer();he.clear(),he.putBytes(N);for(var Ce=0;Ce<be;++Ce)z.start(null,null),z.update(he.getBytes()),he.putBuffer(z.digest()),z.start(null,null),z.update(he.bytes()+N),Ke.putBuffer(z.digest());return I.putBytes(t.util.xorBytes(Ne.getBytes(),Ke.getBytes(),g)),I},s=function(y,L,N){var g=t.hmac.create();g.start("SHA1",y);var I=t.util.createBuffer();return I.putInt32(L[0]),I.putInt32(L[1]),I.putByte(N.type),I.putByte(N.version.major),I.putByte(N.version.minor),I.putInt16(N.length),I.putBytes(N.fragment.bytes()),g.update(I.getBytes()),g.digest().getBytes()},n=function(y,L,N){var g=!1;try{var I=y.deflate(L.fragment.getBytes());L.fragment=t.util.createBuffer(I),L.length=I.length,g=!0}catch{}return g},a=function(y,L,N){var g=!1;try{var I=y.inflate(L.fragment.getBytes());L.fragment=t.util.createBuffer(I),L.length=I.length,g=!0}catch{}return g},c=function(y,L){var N=0;switch(L){case 1:N=y.getByte();break;case 2:N=y.getInt16();break;case 3:N=y.getInt24();break;case 4:N=y.getInt32();break}return t.util.createBuffer(y.getBytes(N))},l=function(y,L,N){y.putInt(N.length(),L<<3),y.putBuffer(N)},o={};o.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},o.SupportedVersions=[o.Versions.TLS_1_1,o.Versions.TLS_1_0],o.Version=o.SupportedVersions[0],o.MaxFragment=15360,o.ConnectionEnd={server:0,client:1},o.PRFAlgorithm={tls_prf_sha256:0},o.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},o.CipherType={stream:0,block:1,aead:2},o.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},o.CompressionMethod={none:0,deflate:1},o.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},o.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},o.Alert={},o.Alert.Level={warning:1,fatal:2},o.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},o.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},o.CipherSuites={},o.getCipherSuite=function(y){var L=null;for(var N in o.CipherSuites){var g=o.CipherSuites[N];if(g.id[0]===y.charCodeAt(0)&&g.id[1]===y.charCodeAt(1)){L=g;break}}return L},o.handleUnexpected=function(y,L){var N=!y.open&&y.entity===o.ConnectionEnd.client;N||y.error(y,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unexpected_message}})},o.handleHelloRequest=function(y,L,N){!y.handshaking&&y.handshakes>0&&(o.queue(y,o.createAlert(y,{level:o.Alert.Level.warning,description:o.Alert.Description.no_renegotiation})),o.flush(y)),y.process()},o.parseHelloMessage=function(y,L,N){var g=null,I=y.entity===o.ConnectionEnd.client;if(N<38)y.error(y,{message:I?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});else{var H=L.fragment,j=H.length();if(g={version:{major:H.getByte(),minor:H.getByte()},random:t.util.createBuffer(H.getBytes(32)),session_id:c(H,1),extensions:[]},I?(g.cipher_suite=H.getBytes(2),g.compression_method=H.getByte()):(g.cipher_suites=c(H,2),g.compression_methods=c(H,1)),j=N-(j-H.length()),j>0){for(var J=c(H,2);J.length()>0;)g.extensions.push({type:[J.getByte(),J.getByte()],data:c(J,2)});if(!I)for(var le=0;le<g.extensions.length;++le){var he=g.extensions[le];if(he.type[0]===0&&he.type[1]===0)for(var z=c(he.data,2);z.length()>0;){var ue=z.getByte();if(ue!==0)break;y.session.extensions.server_name.serverNameList.push(c(z,2).getBytes())}}}if(y.session.version&&(g.version.major!==y.session.version.major||g.version.minor!==y.session.version.minor))return y.error(y,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.protocol_version}});if(I)y.session.cipherSuite=o.getCipherSuite(g.cipher_suite);else for(var be=t.util.createBuffer(g.cipher_suites.bytes());be.length()>0&&(y.session.cipherSuite=o.getCipherSuite(be.getBytes(2)),y.session.cipherSuite===null););if(y.session.cipherSuite===null)return y.error(y,{message:"No cipher suites in common.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(g.cipher_suite)});I?y.session.compressionMethod=g.compression_method:y.session.compressionMethod=o.CompressionMethod.none}return g},o.createSecurityParameters=function(y,L){var N=y.entity===o.ConnectionEnd.client,g=L.random.bytes(),I=N?y.session.sp.client_random:g,H=N?g:o.createRandom().getBytes();y.session.sp={entity:y.entity,prf_algorithm:o.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:y.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:I,server_random:H}},o.handleServerHello=function(y,L,N){var g=o.parseHelloMessage(y,L,N);if(!y.fail){if(g.version.minor<=y.version.minor)y.version.minor=g.version.minor;else return y.error(y,{message:"Incompatible TLS version.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.protocol_version}});y.session.version=y.version;var I=g.session_id.bytes();I.length>0&&I===y.session.id?(y.expect=h,y.session.resuming=!0,y.session.sp.server_random=g.random.bytes()):(y.expect=u,y.session.resuming=!1,o.createSecurityParameters(y,g)),y.session.id=I,y.process()}},o.handleClientHello=function(y,L,N){var g=o.parseHelloMessage(y,L,N);if(!y.fail){var I=g.session_id.bytes(),H=null;if(y.sessionCache&&(H=y.sessionCache.getSession(I),H===null?I="":(H.version.major!==g.version.major||H.version.minor>g.version.minor)&&(H=null,I="")),I.length===0&&(I=t.random.getBytes(32)),y.session.id=I,y.session.clientHelloVersion=g.version,y.session.sp={},H)y.version=y.session.version=H.version,y.session.sp=H.sp;else{for(var j,J=1;J<o.SupportedVersions.length&&(j=o.SupportedVersions[J],!(j.minor<=g.version.minor));++J);y.version={major:j.major,minor:j.minor},y.session.version=y.version}H!==null?(y.expect=B,y.session.resuming=!0,y.session.sp.client_random=g.random.bytes()):(y.expect=y.verifyClient!==!1?b:C,y.session.resuming=!1,o.createSecurityParameters(y,g)),y.open=!0,o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createServerHello(y)})),y.session.resuming?(o.queue(y,o.createRecord(y,{type:o.ContentType.change_cipher_spec,data:o.createChangeCipherSpec()})),y.state.pending=o.createConnectionState(y),y.state.current.write=y.state.pending.write,o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createFinished(y)}))):(o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createCertificate(y)})),y.fail||(o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createServerKeyExchange(y)})),y.verifyClient!==!1&&o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createCertificateRequest(y)})),o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createServerHelloDone(y)})))),o.flush(y),y.process()}},o.handleCertificate=function(y,L,N){if(N<3)return y.error(y,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var g=L.fragment,I={certificate_list:c(g,3)},H,j,J=[];try{for(;I.certificate_list.length()>0;)H=c(I.certificate_list,3),j=t.asn1.fromDer(H),H=t.pki.certificateFromAsn1(j,!0),J.push(H)}catch(he){return y.error(y,{message:"Could not parse certificate list.",cause:he,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.bad_certificate}})}var le=y.entity===o.ConnectionEnd.client;(le||y.verifyClient===!0)&&J.length===0?y.error(y,{message:le?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}}):J.length===0?y.expect=le?v:C:(le?y.session.serverCertificate=J[0]:y.session.clientCertificate=J[0],o.verifyCertificateChain(y,J)&&(y.expect=le?v:C)),y.process()},o.handleServerKeyExchange=function(y,L,N){if(N>0)return y.error(y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unsupported_certificate}});y.expect=A,y.process()},o.handleClientKeyExchange=function(y,L,N){if(N<48)return y.error(y,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unsupported_certificate}});var g=L.fragment,I={enc_pre_master_secret:c(g,2).getBytes()},H=null;if(y.getPrivateKey)try{H=y.getPrivateKey(y,y.session.serverCertificate),H=t.pki.privateKeyFromPem(H)}catch(le){y.error(y,{message:"Could not get private key.",cause:le,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}})}if(H===null)return y.error(y,{message:"No private key set.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}});try{var j=y.session.sp;j.pre_master_secret=H.decrypt(I.enc_pre_master_secret);var J=y.session.clientHelloVersion;if(J.major!==j.pre_master_secret.charCodeAt(0)||J.minor!==j.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{j.pre_master_secret=t.random.getBytes(48)}y.expect=B,y.session.clientCertificate!==null&&(y.expect=k),y.process()},o.handleCertificateRequest=function(y,L,N){if(N<3)return y.error(y,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var g=L.fragment,I={certificate_types:c(g,1),certificate_authorities:c(g,2)};y.session.certificateRequest=I,y.expect=_,y.process()},o.handleCertificateVerify=function(y,L,N){if(N<2)return y.error(y,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var g=L.fragment;g.read-=4;var I=g.bytes();g.read+=4;var H={signature:c(g,2).getBytes()},j=t.util.createBuffer();j.putBuffer(y.session.md5.digest()),j.putBuffer(y.session.sha1.digest()),j=j.getBytes();try{var J=y.session.clientCertificate;if(!J.publicKey.verify(j,H.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");y.session.md5.update(I),y.session.sha1.update(I)}catch{return y.error(y,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.handshake_failure}})}y.expect=B,y.process()},o.handleServerHelloDone=function(y,L,N){if(N>0)return y.error(y,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.record_overflow}});if(y.serverCertificate===null){var g={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.insufficient_security}},I=0,H=y.verify(y,g.alert.description,I,[]);if(H!==!0)return(H||H===0)&&(typeof H=="object"&&!t.util.isArray(H)?(H.message&&(g.message=H.message),H.alert&&(g.alert.description=H.alert)):typeof H=="number"&&(g.alert.description=H)),y.error(y,g)}y.session.certificateRequest!==null&&(L=o.createRecord(y,{type:o.ContentType.handshake,data:o.createCertificate(y)}),o.queue(y,L)),L=o.createRecord(y,{type:o.ContentType.handshake,data:o.createClientKeyExchange(y)}),o.queue(y,L),y.expect=S;var j=function(J,le){J.session.certificateRequest!==null&&J.session.clientCertificate!==null&&o.queue(J,o.createRecord(J,{type:o.ContentType.handshake,data:o.createCertificateVerify(J,le)})),o.queue(J,o.createRecord(J,{type:o.ContentType.change_cipher_spec,data:o.createChangeCipherSpec()})),J.state.pending=o.createConnectionState(J),J.state.current.write=J.state.pending.write,o.queue(J,o.createRecord(J,{type:o.ContentType.handshake,data:o.createFinished(J)})),J.expect=h,o.flush(J),J.process()};if(y.session.certificateRequest===null||y.session.clientCertificate===null)return j(y,null);o.getClientSignature(y,j)},o.handleChangeCipherSpec=function(y,L){if(L.fragment.getByte()!==1)return y.error(y,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.illegal_parameter}});var N=y.entity===o.ConnectionEnd.client;(y.session.resuming&&N||!y.session.resuming&&!N)&&(y.state.pending=o.createConnectionState(y)),y.state.current.read=y.state.pending.read,(!y.session.resuming&&N||y.session.resuming&&!N)&&(y.state.pending=null),y.expect=N?E:x,y.process()},o.handleFinished=function(y,L,N){var g=L.fragment;g.read-=4;var I=g.bytes();g.read+=4;var H=L.fragment.getBytes();g=t.util.createBuffer(),g.putBuffer(y.session.md5.digest()),g.putBuffer(y.session.sha1.digest());var j=y.entity===o.ConnectionEnd.client,J=j?"server finished":"client finished",le=y.session.sp,he=12,z=r;if(g=z(le.master_secret,J,g.getBytes(),he),g.getBytes()!==H)return y.error(y,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.decrypt_error}});y.session.md5.update(I),y.session.sha1.update(I),(y.session.resuming&&j||!y.session.resuming&&!j)&&(o.queue(y,o.createRecord(y,{type:o.ContentType.change_cipher_spec,data:o.createChangeCipherSpec()})),y.state.current.write=y.state.pending.write,y.state.pending=null,o.queue(y,o.createRecord(y,{type:o.ContentType.handshake,data:o.createFinished(y)}))),y.expect=j?w:m,y.handshaking=!1,++y.handshakes,y.peerCertificate=j?y.session.serverCertificate:y.session.clientCertificate,o.flush(y),y.isConnected=!0,y.connected(y),y.process()},o.handleAlert=function(y,L){var N=L.fragment,g={level:N.getByte(),description:N.getByte()},I;switch(g.description){case o.Alert.Description.close_notify:I="Connection closed.";break;case o.Alert.Description.unexpected_message:I="Unexpected message.";break;case o.Alert.Description.bad_record_mac:I="Bad record MAC.";break;case o.Alert.Description.decryption_failed:I="Decryption failed.";break;case o.Alert.Description.record_overflow:I="Record overflow.";break;case o.Alert.Description.decompression_failure:I="Decompression failed.";break;case o.Alert.Description.handshake_failure:I="Handshake failure.";break;case o.Alert.Description.bad_certificate:I="Bad certificate.";break;case o.Alert.Description.unsupported_certificate:I="Unsupported certificate.";break;case o.Alert.Description.certificate_revoked:I="Certificate revoked.";break;case o.Alert.Description.certificate_expired:I="Certificate expired.";break;case o.Alert.Description.certificate_unknown:I="Certificate unknown.";break;case o.Alert.Description.illegal_parameter:I="Illegal parameter.";break;case o.Alert.Description.unknown_ca:I="Unknown certificate authority.";break;case o.Alert.Description.access_denied:I="Access denied.";break;case o.Alert.Description.decode_error:I="Decode error.";break;case o.Alert.Description.decrypt_error:I="Decrypt error.";break;case o.Alert.Description.export_restriction:I="Export restriction.";break;case o.Alert.Description.protocol_version:I="Unsupported protocol version.";break;case o.Alert.Description.insufficient_security:I="Insufficient security.";break;case o.Alert.Description.internal_error:I="Internal error.";break;case o.Alert.Description.user_canceled:I="User canceled.";break;case o.Alert.Description.no_renegotiation:I="Renegotiation not supported.";break;default:I="Unknown error.";break}if(g.description===o.Alert.Description.close_notify)return y.close();y.error(y,{message:I,send:!1,origin:y.entity===o.ConnectionEnd.client?"server":"client",alert:g}),y.process()},o.handleHandshake=function(y,L){var N=L.fragment,g=N.getByte(),I=N.getInt24();if(I>N.length())return y.fragmented=L,L.fragment=t.util.createBuffer(),N.read-=4,y.process();y.fragmented=null,N.read-=4;var H=N.bytes(I+4);N.read+=4,g in xe[y.entity][y.expect]?(y.entity===o.ConnectionEnd.server&&!y.open&&!y.fail&&(y.handshaking=!0,y.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),g!==o.HandshakeType.hello_request&&g!==o.HandshakeType.certificate_verify&&g!==o.HandshakeType.finished&&(y.session.md5.update(H),y.session.sha1.update(H)),xe[y.entity][y.expect][g](y,L,I)):o.handleUnexpected(y,L)},o.handleApplicationData=function(y,L){y.data.putBuffer(L.fragment),y.dataReady(y),y.process()},o.handleHeartbeat=function(y,L){var N=L.fragment,g=N.getByte(),I=N.getInt16(),H=N.getBytes(I);if(g===o.HeartbeatMessageType.heartbeat_request){if(y.handshaking||I>H.length)return y.process();o.queue(y,o.createRecord(y,{type:o.ContentType.heartbeat,data:o.createHeartbeat(o.HeartbeatMessageType.heartbeat_response,H)})),o.flush(y)}else if(g===o.HeartbeatMessageType.heartbeat_response){if(H!==y.expectedHeartbeatPayload)return y.process();y.heartbeatReceived&&y.heartbeatReceived(y,t.util.createBuffer(H))}y.process()};var d=0,u=1,v=2,A=3,_=4,h=5,E=6,w=7,S=8,p=0,b=1,C=2,k=3,B=4,x=5,m=6,f=o.handleUnexpected,T=o.handleChangeCipherSpec,P=o.handleAlert,q=o.handleHandshake,M=o.handleApplicationData,D=o.handleHeartbeat,V=[];V[o.ConnectionEnd.client]=[[f,P,q,f,D],[f,P,q,f,D],[f,P,q,f,D],[f,P,q,f,D],[f,P,q,f,D],[T,P,f,f,D],[f,P,q,f,D],[f,P,q,M,D],[f,P,q,f,D]],V[o.ConnectionEnd.server]=[[f,P,q,f,D],[f,P,q,f,D],[f,P,q,f,D],[f,P,q,f,D],[T,P,f,f,D],[f,P,q,f,D],[f,P,q,M,D],[f,P,q,f,D]];var K=o.handleHelloRequest,G=o.handleServerHello,Z=o.handleCertificate,te=o.handleServerKeyExchange,se=o.handleCertificateRequest,ne=o.handleServerHelloDone,ve=o.handleFinished,xe=[];xe[o.ConnectionEnd.client]=[[f,f,G,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,Z,te,se,ne,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,f,te,se,ne,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,f,f,se,ne,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,f,f,f,ne,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,ve],[K,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[K,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f]];var Ie=o.handleClientHello,$=o.handleClientKeyExchange,ke=o.handleCertificateVerify;xe[o.ConnectionEnd.server]=[[f,Ie,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,Z,f,f,f,f,f,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,$,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,ke,f,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,ve],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f]],o.generateKeys=function(y,L){var N=r,g=L.client_random+L.server_random;y.session.resuming||(L.master_secret=N(L.pre_master_secret,"master secret",g,48).bytes(),L.pre_master_secret=null),g=L.server_random+L.client_random;var I=2*L.mac_key_length+2*L.enc_key_length,H=y.version.major===o.Versions.TLS_1_0.major&&y.version.minor===o.Versions.TLS_1_0.minor;H&&(I+=2*L.fixed_iv_length);var j=N(L.master_secret,"key expansion",g,I),J={client_write_MAC_key:j.getBytes(L.mac_key_length),server_write_MAC_key:j.getBytes(L.mac_key_length),client_write_key:j.getBytes(L.enc_key_length),server_write_key:j.getBytes(L.enc_key_length)};return H&&(J.client_write_IV=j.getBytes(L.fixed_iv_length),J.server_write_IV=j.getBytes(L.fixed_iv_length)),J},o.createConnectionState=function(y){var L=y.entity===o.ConnectionEnd.client,N=function(){var H={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(j){return!0},compressionState:null,compressFunction:function(j){return!0},updateSequenceNumber:function(){H.sequenceNumber[1]===4294967295?(H.sequenceNumber[1]=0,++H.sequenceNumber[0]):++H.sequenceNumber[1]}};return H},g={read:N(),write:N()};if(g.read.update=function(H,j){return g.read.cipherFunction(j,g.read)?g.read.compressFunction(H,j,g.read)||H.error(H,{message:"Could not decompress record.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.decompression_failure}}):H.error(H,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.bad_record_mac}}),!H.fail},g.write.update=function(H,j){return g.write.compressFunction(H,j,g.write)?g.write.cipherFunction(j,g.write)||H.error(H,{message:"Could not encrypt record.",send:!1,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}}):H.error(H,{message:"Could not compress record.",send:!1,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}}),!H.fail},y.session){var I=y.session.sp;switch(y.session.cipherSuite.initSecurityParameters(I),I.keys=o.generateKeys(y,I),g.read.macKey=L?I.keys.server_write_MAC_key:I.keys.client_write_MAC_key,g.write.macKey=L?I.keys.client_write_MAC_key:I.keys.server_write_MAC_key,y.session.cipherSuite.initConnectionState(g,y,I),I.compression_algorithm){case o.CompressionMethod.none:break;case o.CompressionMethod.deflate:g.read.compressFunction=a,g.write.compressFunction=n;break;default:throw new Error("Unsupported compression algorithm.")}}return g},o.createRandom=function(){var y=new Date,L=+y+y.getTimezoneOffset()*6e4,N=t.util.createBuffer();return N.putInt32(L),N.putBytes(t.random.getBytes(28)),N},o.createRecord=function(y,L){if(!L.data)return null;var N={type:L.type,version:{major:y.version.major,minor:y.version.minor},length:L.data.length(),fragment:L.data};return N},o.createAlert=function(y,L){var N=t.util.createBuffer();return N.putByte(L.level),N.putByte(L.description),o.createRecord(y,{type:o.ContentType.alert,data:N})},o.createClientHello=function(y){y.session.clientHelloVersion={major:y.version.major,minor:y.version.minor};for(var L=t.util.createBuffer(),N=0;N<y.cipherSuites.length;++N){var g=y.cipherSuites[N];L.putByte(g.id[0]),L.putByte(g.id[1])}var I=L.length(),H=t.util.createBuffer();H.putByte(o.CompressionMethod.none);var j=H.length(),J=t.util.createBuffer();if(y.virtualHost){var le=t.util.createBuffer();le.putByte(0),le.putByte(0);var he=t.util.createBuffer();he.putByte(0),l(he,2,t.util.createBuffer(y.virtualHost));var z=t.util.createBuffer();l(z,2,he),l(le,2,z),J.putBuffer(le)}var ue=J.length();ue>0&&(ue+=2);var be=y.session.id,Ne=be.length+1+2+4+28+2+I+1+j+ue,Ce=t.util.createBuffer();return Ce.putByte(o.HandshakeType.client_hello),Ce.putInt24(Ne),Ce.putByte(y.version.major),Ce.putByte(y.version.minor),Ce.putBytes(y.session.sp.client_random),l(Ce,1,t.util.createBuffer(be)),l(Ce,2,L),l(Ce,1,H),ue>0&&l(Ce,2,J),Ce},o.createServerHello=function(y){var L=y.session.id,N=L.length+1+2+4+28+2+1,g=t.util.createBuffer();return g.putByte(o.HandshakeType.server_hello),g.putInt24(N),g.putByte(y.version.major),g.putByte(y.version.minor),g.putBytes(y.session.sp.server_random),l(g,1,t.util.createBuffer(L)),g.putByte(y.session.cipherSuite.id[0]),g.putByte(y.session.cipherSuite.id[1]),g.putByte(y.session.compressionMethod),g},o.createCertificate=function(y){var L=y.entity===o.ConnectionEnd.client,N=null;if(y.getCertificate){var g;L?g=y.session.certificateRequest:g=y.session.extensions.server_name.serverNameList,N=y.getCertificate(y,g)}var I=t.util.createBuffer();if(N!==null)try{t.util.isArray(N)||(N=[N]);for(var H=null,j=0;j<N.length;++j){var J=t.pem.decode(N[j])[0];if(J.type!=="CERTIFICATE"&&J.type!=="X509 CERTIFICATE"&&J.type!=="TRUSTED CERTIFICATE"){var le=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw le.headerType=J.type,le}if(J.procType&&J.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var he=t.util.createBuffer(J.body);H===null&&(H=t.asn1.fromDer(he.bytes(),!1));var z=t.util.createBuffer();l(z,3,he),I.putBuffer(z)}N=t.pki.certificateFromAsn1(H),L?y.session.clientCertificate=N:y.session.serverCertificate=N}catch(Ne){return y.error(y,{message:"Could not send certificate list.",cause:Ne,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.bad_certificate}})}var ue=3+I.length(),be=t.util.createBuffer();return be.putByte(o.HandshakeType.certificate),be.putInt24(ue),l(be,3,I),be},o.createClientKeyExchange=function(y){var L=t.util.createBuffer();L.putByte(y.session.clientHelloVersion.major),L.putByte(y.session.clientHelloVersion.minor),L.putBytes(t.random.getBytes(46));var N=y.session.sp;N.pre_master_secret=L.getBytes();var g=y.session.serverCertificate.publicKey;L=g.encrypt(N.pre_master_secret);var I=L.length+2,H=t.util.createBuffer();return H.putByte(o.HandshakeType.client_key_exchange),H.putInt24(I),H.putInt16(L.length),H.putBytes(L),H},o.createServerKeyExchange=function(y){var L=0,N=t.util.createBuffer();return L>0&&(N.putByte(o.HandshakeType.server_key_exchange),N.putInt24(L)),N},o.getClientSignature=function(y,L){var N=t.util.createBuffer();N.putBuffer(y.session.md5.digest()),N.putBuffer(y.session.sha1.digest()),N=N.getBytes(),y.getSignature=y.getSignature||function(g,I,H){var j=null;if(g.getPrivateKey)try{j=g.getPrivateKey(g,g.session.clientCertificate),j=t.pki.privateKeyFromPem(j)}catch(J){g.error(g,{message:"Could not get private key.",cause:J,send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}})}j===null?g.error(g,{message:"No private key set.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.internal_error}}):I=j.sign(I,null),H(g,I)},y.getSignature(y,N,L)},o.createCertificateVerify=function(y,L){var N=L.length+2,g=t.util.createBuffer();return g.putByte(o.HandshakeType.certificate_verify),g.putInt24(N),g.putInt16(L.length),g.putBytes(L),g},o.createCertificateRequest=function(y){var L=t.util.createBuffer();L.putByte(1);var N=t.util.createBuffer();for(var g in y.caStore.certs){var I=y.caStore.certs[g],H=t.pki.distinguishedNameToAsn1(I.subject),j=t.asn1.toDer(H);N.putInt16(j.length()),N.putBuffer(j)}var J=1+L.length()+2+N.length(),le=t.util.createBuffer();return le.putByte(o.HandshakeType.certificate_request),le.putInt24(J),l(le,1,L),l(le,2,N),le},o.createServerHelloDone=function(y){var L=t.util.createBuffer();return L.putByte(o.HandshakeType.server_hello_done),L.putInt24(0),L},o.createChangeCipherSpec=function(){var y=t.util.createBuffer();return y.putByte(1),y},o.createFinished=function(y){var L=t.util.createBuffer();L.putBuffer(y.session.md5.digest()),L.putBuffer(y.session.sha1.digest());var N=y.entity===o.ConnectionEnd.client,g=y.session.sp,I=12,H=r,j=N?"client finished":"server finished";L=H(g.master_secret,j,L.getBytes(),I);var J=t.util.createBuffer();return J.putByte(o.HandshakeType.finished),J.putInt24(L.length()),J.putBuffer(L),J},o.createHeartbeat=function(y,L,N){typeof N>"u"&&(N=L.length);var g=t.util.createBuffer();g.putByte(y),g.putInt16(N),g.putBytes(L);var I=g.length(),H=Math.max(16,I-N-3);return g.putBytes(t.random.getBytes(H)),g},o.queue=function(y,L){if(L&&!(L.fragment.length()===0&&(L.type===o.ContentType.handshake||L.type===o.ContentType.alert||L.type===o.ContentType.change_cipher_spec))){if(L.type===o.ContentType.handshake){var N=L.fragment.bytes();y.session.md5.update(N),y.session.sha1.update(N),N=null}var g;if(L.fragment.length()<=o.MaxFragment)g=[L];else{g=[];for(var I=L.fragment.bytes();I.length>o.MaxFragment;)g.push(o.createRecord(y,{type:L.type,data:t.util.createBuffer(I.slice(0,o.MaxFragment))})),I=I.slice(o.MaxFragment);I.length>0&&g.push(o.createRecord(y,{type:L.type,data:t.util.createBuffer(I)}))}for(var H=0;H<g.length&&!y.fail;++H){var j=g[H],J=y.state.current.write;J.update(y,j)&&y.records.push(j)}}},o.flush=function(y){for(var L=0;L<y.records.length;++L){var N=y.records[L];y.tlsData.putByte(N.type),y.tlsData.putByte(N.version.major),y.tlsData.putByte(N.version.minor),y.tlsData.putInt16(N.fragment.length()),y.tlsData.putBuffer(y.records[L].fragment)}return y.records=[],y.tlsDataReady(y)};var ae=function(y){switch(y){case!0:return!0;case t.pki.certificateError.bad_certificate:return o.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return o.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return o.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return o.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return o.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return o.Alert.Description.unknown_ca;default:return o.Alert.Description.bad_certificate}},ie=function(y){switch(y){case!0:return!0;case o.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case o.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case o.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case o.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case o.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case o.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}};o.verifyCertificateChain=function(y,L){try{var N={};for(var g in y.verifyOptions)N[g]=y.verifyOptions[g];N.verify=function(H,j,J){var le=ae(H),he=y.verify(y,H,j,J);if(he!==!0){if(typeof he=="object"&&!t.util.isArray(he)){var z=new Error("The application rejected the certificate.");throw z.send=!0,z.alert={level:o.Alert.Level.fatal,description:o.Alert.Description.bad_certificate},he.message&&(z.message=he.message),he.alert&&(z.alert.description=he.alert),z}he!==H&&(he=ie(he))}return he},t.pki.verifyCertificateChain(y.caStore,L,N)}catch(H){var I=H;(typeof I!="object"||t.util.isArray(I))&&(I={send:!0,alert:{level:o.Alert.Level.fatal,description:ae(H)}}),"send"in I||(I.send=!0),"alert"in I||(I.alert={level:o.Alert.Level.fatal,description:ae(I.error)}),y.error(y,I)}return!y.fail},o.createSessionCache=function(y,L){var N=null;if(y&&y.getSession&&y.setSession&&y.order)N=y;else{N={},N.cache=y||{},N.capacity=Math.max(L||100,1),N.order=[];for(var g in y)N.order.length<=L?N.order.push(g):delete y[g];N.getSession=function(I){var H=null,j=null;if(I?j=t.util.bytesToHex(I):N.order.length>0&&(j=N.order[0]),j!==null&&j in N.cache){H=N.cache[j],delete N.cache[j];for(var J in N.order)if(N.order[J]===j){N.order.splice(J,1);break}}return H},N.setSession=function(I,H){if(N.order.length===N.capacity){var j=N.order.shift();delete N.cache[j]}var j=t.util.bytesToHex(I);N.order.push(j),N.cache[j]=H}}return N},o.createConnection=function(y){var L=null;y.caStore?t.util.isArray(y.caStore)?L=t.pki.createCaStore(y.caStore):L=y.caStore:L=t.pki.createCaStore();var N=y.cipherSuites||null;if(N===null){N=[];for(var g in o.CipherSuites)N.push(o.CipherSuites[g])}var I=y.server?o.ConnectionEnd.server:o.ConnectionEnd.client,H=y.sessionCache?o.createSessionCache(y.sessionCache):null,j={version:{major:o.Version.major,minor:o.Version.minor},entity:I,sessionId:y.sessionId,caStore:L,sessionCache:H,cipherSuites:N,connected:y.connected,virtualHost:y.virtualHost||null,verifyClient:y.verifyClient||!1,verify:y.verify||function(z,ue,be,Ne){return ue},verifyOptions:y.verifyOptions||{},getCertificate:y.getCertificate||null,getPrivateKey:y.getPrivateKey||null,getSignature:y.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:y.tlsDataReady,dataReady:y.dataReady,heartbeatReceived:y.heartbeatReceived,closed:y.closed,error:function(z,ue){ue.origin=ue.origin||(z.entity===o.ConnectionEnd.client?"client":"server"),ue.send&&(o.queue(z,o.createAlert(z,ue.alert)),o.flush(z));var be=ue.fatal!==!1;be&&(z.fail=!0),y.error(z,ue),be&&z.close(!1)},deflate:y.deflate||null,inflate:y.inflate||null};j.reset=function(z){j.version={major:o.Version.major,minor:o.Version.minor},j.record=null,j.session=null,j.peerCertificate=null,j.state={pending:null,current:null},j.expect=j.entity===o.ConnectionEnd.client?d:p,j.fragmented=null,j.records=[],j.open=!1,j.handshakes=0,j.handshaking=!1,j.isConnected=!1,j.fail=!(z||typeof z>"u"),j.input.clear(),j.tlsData.clear(),j.data.clear(),j.state.current=o.createConnectionState(j)},j.reset();var J=function(z,ue){var be=ue.type-o.ContentType.change_cipher_spec,Ne=V[z.entity][z.expect];be in Ne?Ne[be](z,ue):o.handleUnexpected(z,ue)},le=function(z){var ue=0,be=z.input,Ne=be.length();if(Ne<5)ue=5-Ne;else{z.record={type:be.getByte(),version:{major:be.getByte(),minor:be.getByte()},length:be.getInt16(),fragment:t.util.createBuffer(),ready:!1};var Ce=z.record.version.major===z.version.major;Ce&&z.session&&z.session.version&&(Ce=z.record.version.minor===z.version.minor),Ce||z.error(z,{message:"Incompatible TLS version.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.protocol_version}})}return ue},he=function(z){var ue=0,be=z.input,Ne=be.length();if(Ne<z.record.length)ue=z.record.length-Ne;else{z.record.fragment.putBytes(be.getBytes(z.record.length)),be.compact();var Ce=z.state.current.read;Ce.update(z,z.record)&&(z.fragmented!==null&&(z.fragmented.type===z.record.type?(z.fragmented.fragment.putBuffer(z.record.fragment),z.record=z.fragmented):z.error(z,{message:"Invalid fragmented record.",send:!0,alert:{level:o.Alert.Level.fatal,description:o.Alert.Description.unexpected_message}})),z.record.ready=!0)}return ue};return j.handshake=function(z){if(j.entity!==o.ConnectionEnd.client)j.error(j,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(j.handshaking)j.error(j,{message:"Handshake already in progress.",fatal:!1});else{j.fail&&!j.open&&j.handshakes===0&&(j.fail=!1),j.handshaking=!0,z=z||"";var ue=null;z.length>0&&(j.sessionCache&&(ue=j.sessionCache.getSession(z)),ue===null&&(z="")),z.length===0&&j.sessionCache&&(ue=j.sessionCache.getSession(),ue!==null&&(z=ue.id)),j.session={id:z,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},ue&&(j.version=ue.version,j.session.sp=ue.sp),j.session.sp.client_random=o.createRandom().getBytes(),j.open=!0,o.queue(j,o.createRecord(j,{type:o.ContentType.handshake,data:o.createClientHello(j)})),o.flush(j)}},j.process=function(z){var ue=0;return z&&j.input.putBytes(z),j.fail||(j.record!==null&&j.record.ready&&j.record.fragment.isEmpty()&&(j.record=null),j.record===null&&(ue=le(j)),!j.fail&&j.record!==null&&!j.record.ready&&(ue=he(j)),!j.fail&&j.record!==null&&j.record.ready&&J(j,j.record)),ue},j.prepare=function(z){return o.queue(j,o.createRecord(j,{type:o.ContentType.application_data,data:t.util.createBuffer(z)})),o.flush(j)},j.prepareHeartbeatRequest=function(z,ue){return z instanceof t.util.ByteBuffer&&(z=z.bytes()),typeof ue>"u"&&(ue=z.length),j.expectedHeartbeatPayload=z,o.queue(j,o.createRecord(j,{type:o.ContentType.heartbeat,data:o.createHeartbeat(o.HeartbeatMessageType.heartbeat_request,z,ue)})),o.flush(j)},j.close=function(z){if(!j.fail&&j.sessionCache&&j.session){var ue={id:j.session.id,version:j.session.version,sp:j.session.sp};ue.sp.keys=null,j.sessionCache.setSession(ue.id,ue)}j.open&&(j.open=!1,j.input.clear(),(j.isConnected||j.handshaking)&&(j.isConnected=j.handshaking=!1,o.queue(j,o.createAlert(j,{level:o.Alert.Level.warning,description:o.Alert.Description.close_notify})),o.flush(j)),j.closed(j)),j.reset(z)},j},e.exports=t.tls=t.tls||{};for(de in o)typeof o[de]!="function"&&(t.tls[de]=o[de]);var de;t.tls.prf_tls1=r,t.tls.hmac_sha1=s,t.tls.createSessionCache=o.createSessionCache,t.tls.createConnection=o.createConnection}}),o2=Ee({"../../node_modules/node-forge/lib/aesCipherSuites.js"(i,e){"use strict";var t=Ae();zi(),zy();var r=e.exports=t.tls;r.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:s},r.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:s};function s(d,u,v){var A=u.entity===t.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",A?v.keys.server_write_key:v.keys.client_write_key),iv:A?v.keys.server_write_IV:v.keys.client_write_IV},d.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",A?v.keys.client_write_key:v.keys.server_write_key),iv:A?v.keys.client_write_IV:v.keys.server_write_IV},d.read.cipherFunction=l,d.write.cipherFunction=n,d.read.macLength=d.write.macLength=v.mac_length,d.read.macFunction=d.write.macFunction=r.hmac_sha1}function n(d,u){var v=!1,A=u.macFunction(u.macKey,u.sequenceNumber,d);d.fragment.putBytes(A),u.updateSequenceNumber();var _;d.version.minor===r.Versions.TLS_1_0.minor?_=u.cipherState.init?null:u.cipherState.iv:_=t.random.getBytesSync(16),u.cipherState.init=!0;var h=u.cipherState.cipher;return h.start({iv:_}),d.version.minor>=r.Versions.TLS_1_1.minor&&h.output.putBytes(_),h.update(d.fragment),h.finish(a)&&(d.fragment=h.output,d.length=d.fragment.length(),v=!0),v}function a(d,u,v){if(!v){var A=d-u.length()%d;u.fillWithByte(A-1,A)}return!0}function c(d,u,v){var A=!0;if(v){for(var _=u.length(),h=u.last(),E=_-1-h;E<_-1;++E)A=A&&u.at(E)==h;A&&u.truncate(h+1)}return A}function l(d,u){var v=!1,A;d.version.minor===r.Versions.TLS_1_0.minor?A=u.cipherState.init?null:u.cipherState.iv:A=d.fragment.getBytes(16),u.cipherState.init=!0;var _=u.cipherState.cipher;_.start({iv:A}),_.update(d.fragment),v=_.finish(c);var h=u.macLength,E=t.random.getBytesSync(h),w=_.output.length();w>=h?(d.fragment=_.output.getBytes(w-h),E=_.output.getBytes(h)):d.fragment=_.output.getBytes(),d.fragment=t.util.createBuffer(d.fragment),d.length=d.fragment.length();var S=u.macFunction(u.macKey,u.sequenceNumber,d);return u.updateSequenceNumber(),v=o(u.macKey,E,S)&&v,v}function o(d,u,v){var A=t.hmac.create();return A.start("SHA1",d),A.update(u),u=A.digest().getBytes(),A.start(null,null),A.update(v),v=A.digest().getBytes(),u===v}}}),$y=Ee({"../../node_modules/node-forge/lib/sha512.js"(i,e){"use strict";var t=Ae();ti(),Oe();var r=e.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=r;var s=t.sha384=t.sha512.sha384=t.sha512.sha384||{};s.create=function(){return r.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=s,t.sha512.sha256=t.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,r.create=function(u){if(a||o(),typeof u>"u"&&(u="SHA-512"),!(u in l))throw new Error("Invalid SHA-512 algorithm: "+u);for(var v=l[u],A=null,_=t.util.createBuffer(),h=new Array(80),E=0;E<80;++E)h[E]=new Array(2);var w=64;switch(u){case"SHA-384":w=48;break;case"SHA-512/256":w=32;break;case"SHA-512/224":w=28;break}var S={algorithm:u.replace("-","").toLowerCase(),blockLength:128,digestLength:w,messageLength:0,fullMessageLength:null,messageLengthSize:16};return S.start=function(){S.messageLength=0,S.fullMessageLength=S.messageLength128=[];for(var p=S.messageLengthSize/4,b=0;b<p;++b)S.fullMessageLength.push(0);_=t.util.createBuffer(),A=new Array(v.length);for(var b=0;b<v.length;++b)A[b]=v[b].slice(0);return S},S.start(),S.update=function(p,b){b==="utf8"&&(p=t.util.encodeUtf8(p));var C=p.length;S.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var k=S.fullMessageLength.length-1;k>=0;--k)S.fullMessageLength[k]+=C[1],C[1]=C[0]+(S.fullMessageLength[k]/4294967296>>>0),S.fullMessageLength[k]=S.fullMessageLength[k]>>>0,C[0]=C[1]/4294967296>>>0;return _.putBytes(p),d(A,h,_),(_.read>2048||_.length()===0)&&_.compact(),S},S.digest=function(){var p=t.util.createBuffer();p.putBytes(_.bytes());var b=S.fullMessageLength[S.fullMessageLength.length-1]+S.messageLengthSize,C=b&S.blockLength-1;p.putBytes(n.substr(0,S.blockLength-C));for(var k,B,x=S.fullMessageLength[0]*8,m=0;m<S.fullMessageLength.length-1;++m)k=S.fullMessageLength[m+1]*8,B=k/4294967296>>>0,x+=B,p.putInt32(x>>>0),x=k>>>0;p.putInt32(x);for(var f=new Array(A.length),m=0;m<A.length;++m)f[m]=A[m].slice(0);d(f,h,p);var T=t.util.createBuffer(),P;u==="SHA-512"?P=f.length:u==="SHA-384"?P=f.length-2:P=f.length-4;for(var m=0;m<P;++m)T.putInt32(f[m][0]),(m!==P-1||u!=="SHA-512/224")&&T.putInt32(f[m][1]);return T},S};var n=null,a=!1,c=null,l=null;function o(){n="\x80",n+=t.util.fillString("\0",128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],l={},l["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0}function d(u,v,A){for(var _,h,E,w,S,p,b,C,k,B,x,m,f,T,P,q,M,D,V,K,G,Z,te,se,ne,ve,xe,Ie,$,ke,ae,ie,de,y,L,N=A.length();N>=128;){for($=0;$<16;++$)v[$][0]=A.getInt32()>>>0,v[$][1]=A.getInt32()>>>0;for(;$<80;++$)ie=v[$-2],ke=ie[0],ae=ie[1],_=((ke>>>19|ae<<13)^(ae>>>29|ke<<3)^ke>>>6)>>>0,h=((ke<<13|ae>>>19)^(ae<<3|ke>>>29)^(ke<<26|ae>>>6))>>>0,y=v[$-15],ke=y[0],ae=y[1],E=((ke>>>1|ae<<31)^(ke>>>8|ae<<24)^ke>>>7)>>>0,w=((ke<<31|ae>>>1)^(ke<<24|ae>>>8)^(ke<<25|ae>>>7))>>>0,de=v[$-7],L=v[$-16],ae=h+de[1]+w+L[1],v[$][0]=_+de[0]+E+L[0]+(ae/4294967296>>>0)>>>0,v[$][1]=ae>>>0;for(f=u[0][0],T=u[0][1],P=u[1][0],q=u[1][1],M=u[2][0],D=u[2][1],V=u[3][0],K=u[3][1],G=u[4][0],Z=u[4][1],te=u[5][0],se=u[5][1],ne=u[6][0],ve=u[6][1],xe=u[7][0],Ie=u[7][1],$=0;$<80;++$)b=((G>>>14|Z<<18)^(G>>>18|Z<<14)^(Z>>>9|G<<23))>>>0,C=((G<<18|Z>>>14)^(G<<14|Z>>>18)^(Z<<23|G>>>9))>>>0,k=(ne^G&(te^ne))>>>0,B=(ve^Z&(se^ve))>>>0,S=((f>>>28|T<<4)^(T>>>2|f<<30)^(T>>>7|f<<25))>>>0,p=((f<<4|T>>>28)^(T<<30|f>>>2)^(T<<25|f>>>7))>>>0,x=(f&P|M&(f^P))>>>0,m=(T&q|D&(T^q))>>>0,ae=Ie+C+B+c[$][1]+v[$][1],_=xe+b+k+c[$][0]+v[$][0]+(ae/4294967296>>>0)>>>0,h=ae>>>0,ae=p+m,E=S+x+(ae/4294967296>>>0)>>>0,w=ae>>>0,xe=ne,Ie=ve,ne=te,ve=se,te=G,se=Z,ae=K+h,G=V+_+(ae/4294967296>>>0)>>>0,Z=ae>>>0,V=M,K=D,M=P,D=q,P=f,q=T,ae=h+w,f=_+E+(ae/4294967296>>>0)>>>0,T=ae>>>0;ae=u[0][1]+T,u[0][0]=u[0][0]+f+(ae/4294967296>>>0)>>>0,u[0][1]=ae>>>0,ae=u[1][1]+q,u[1][0]=u[1][0]+P+(ae/4294967296>>>0)>>>0,u[1][1]=ae>>>0,ae=u[2][1]+D,u[2][0]=u[2][0]+M+(ae/4294967296>>>0)>>>0,u[2][1]=ae>>>0,ae=u[3][1]+K,u[3][0]=u[3][0]+V+(ae/4294967296>>>0)>>>0,u[3][1]=ae>>>0,ae=u[4][1]+Z,u[4][0]=u[4][0]+G+(ae/4294967296>>>0)>>>0,u[4][1]=ae>>>0,ae=u[5][1]+se,u[5][0]=u[5][0]+te+(ae/4294967296>>>0)>>>0,u[5][1]=ae>>>0,ae=u[6][1]+ve,u[6][0]=u[6][0]+ne+(ae/4294967296>>>0)>>>0,u[6][1]=ae>>>0,ae=u[7][1]+Ie,u[7][0]=u[7][0]+xe+(ae/4294967296>>>0)>>>0,u[7][1]=ae>>>0,N-=128}}}}),c2=Ee({"../../node_modules/node-forge/lib/asn1-validator.js"(i){"use strict";var e=Ae();Or();var t=e.asn1;i.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},i.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}}),l2=Ee({"../../node_modules/node-forge/lib/ed25519.js"(i,e){"use strict";var t=Ae();rc(),Sr(),$y(),Oe();var r=c2(),s=r.publicKeyValidator,n=r.privateKeyValidator;typeof a>"u"&&(a=t.jsbn.BigInteger);var a,c=t.util.ByteBuffer,l=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},e.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var o=t.ed25519;o.constants={},o.constants.PUBLIC_KEY_BYTE_LENGTH=32,o.constants.PRIVATE_KEY_BYTE_LENGTH=64,o.constants.SEED_BYTE_LENGTH=32,o.constants.SIGN_BYTE_LENGTH=64,o.constants.HASH_BYTE_LENGTH=64,o.generateKeyPair=function(y){y=y||{};var L=y.seed;if(L===void 0)L=t.random.getBytesSync(o.constants.SEED_BYTE_LENGTH);else if(typeof L=="string"){if(L.length!==o.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+o.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(L instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');L=d({message:L,encoding:"binary"});for(var N=new l(o.constants.PUBLIC_KEY_BYTE_LENGTH),g=new l(o.constants.PRIVATE_KEY_BYTE_LENGTH),I=0;I<32;++I)g[I]=L[I];return b(N,g),{publicKey:N,privateKey:g}},o.privateKeyFromAsn1=function(y){var L={},N=[],g=t.asn1.validate(y,n,L,N);if(!g){var I=new Error("Invalid Key.");throw I.errors=N,I}var H=t.asn1.derToOid(L.privateKeyOid),j=t.oids.EdDSA25519;if(H!==j)throw new Error('Invalid OID "'+H+'"; OID must be "'+j+'".');var J=L.privateKey,le=d({message:t.asn1.fromDer(J).value,encoding:"binary"});return{privateKeyBytes:le}},o.publicKeyFromAsn1=function(y){var L={},N=[],g=t.asn1.validate(y,s,L,N);if(!g){var I=new Error("Invalid Key.");throw I.errors=N,I}var H=t.asn1.derToOid(L.publicKeyOid),j=t.oids.EdDSA25519;if(H!==j)throw new Error('Invalid OID "'+H+'"; OID must be "'+j+'".');var J=L.ed25519PublicKey;if(J.length!==o.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:J,encoding:"binary"})},o.publicKeyFromPrivateKey=function(y){y=y||{};var L=d({message:y.privateKey,encoding:"binary"});if(L.length!==o.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+o.constants.PRIVATE_KEY_BYTE_LENGTH);for(var N=new l(o.constants.PUBLIC_KEY_BYTE_LENGTH),g=0;g<N.length;++g)N[g]=L[32+g];return N},o.sign=function(y){y=y||{};var L=d(y),N=d({message:y.privateKey,encoding:"binary"});if(N.length===o.constants.SEED_BYTE_LENGTH){var g=o.generateKeyPair({seed:N});N=g.privateKey}else if(N.length!==o.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+o.constants.SEED_BYTE_LENGTH+" or "+o.constants.PRIVATE_KEY_BYTE_LENGTH);var I=new l(o.constants.SIGN_BYTE_LENGTH+L.length);C(I,L,L.length,N);for(var H=new l(o.constants.SIGN_BYTE_LENGTH),j=0;j<H.length;++j)H[j]=I[j];return H},o.verify=function(y){y=y||{};var L=d(y);if(y.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var N=d({message:y.signature,encoding:"binary"});if(N.length!==o.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+o.constants.SIGN_BYTE_LENGTH);var g=d({message:y.publicKey,encoding:"binary"});if(g.length!==o.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+o.constants.PUBLIC_KEY_BYTE_LENGTH);var I=new l(o.constants.SIGN_BYTE_LENGTH+L.length),H=new l(o.constants.SIGN_BYTE_LENGTH+L.length),j;for(j=0;j<o.constants.SIGN_BYTE_LENGTH;++j)I[j]=N[j];for(j=0;j<L.length;++j)I[j+o.constants.SIGN_BYTE_LENGTH]=L[j];return k(H,I,I.length,g)>=0};function d(y){var L=y.message;if(L instanceof Uint8Array||L instanceof l)return L;var N=y.encoding;if(L===void 0)if(y.md)L=y.md.digest().getBytes(),N="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof L=="string"&&!N)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof L=="string"){if(typeof Buffer<"u")return Buffer.from(L,N);L=new c(L,N)}else if(!(L instanceof c))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var g=new l(L.length()),I=0;I<g.length;++I)g[I]=L.at(I);return g}var u=$(),v=$([1]),A=$([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),_=$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),E=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),S=$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(y,L){var N=t.md.sha512.create(),g=new c(y);N.update(g.getBytes(L),"binary");var I=N.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(I,"binary");for(var H=new l(o.constants.HASH_BYTE_LENGTH),j=0;j<64;++j)H[j]=I.charCodeAt(j);return H}function b(y,L){var N=[$(),$(),$(),$()],g,I=p(L,32);for(I[0]&=248,I[31]&=127,I[31]|=64,se(N,I),T(y,N),g=0;g<32;++g)L[g+32]=y[g];return 0}function C(y,L,N,g){var I,H,j=new Float64Array(64),J=[$(),$(),$(),$()],le=p(g,32);le[0]&=248,le[31]&=127,le[31]|=64;var he=N+64;for(I=0;I<N;++I)y[64+I]=L[I];for(I=0;I<32;++I)y[32+I]=le[32+I];var z=p(y.subarray(32),N+32);for(x(z),se(J,z),T(y,J),I=32;I<64;++I)y[I]=g[I];var ue=p(y,N+64);for(x(ue),I=32;I<64;++I)j[I]=0;for(I=0;I<32;++I)j[I]=z[I];for(I=0;I<32;++I)for(H=0;H<32;H++)j[I+H]+=ue[I]*le[H];return B(y.subarray(32),j),he}function k(y,L,N,g){var I,H,j=new l(32),J=[$(),$(),$(),$()],le=[$(),$(),$(),$()];if(H=-1,N<64||q(le,g))return-1;for(I=0;I<N;++I)y[I]=L[I];for(I=0;I<32;++I)y[I+32]=g[I];var he=p(y,N);if(x(he),te(J,le,he),se(le,L.subarray(32)),m(J,le),T(j,J),N-=64,K(L,0,j,0)){for(I=0;I<N;++I)y[I]=0;return-1}for(I=0;I<N;++I)y[I]=L[I+64];return H=N,H}function B(y,L){var N,g,I,H;for(g=63;g>=32;--g){for(N=0,I=g-32,H=g-12;I<H;++I)L[I]+=N-16*L[g]*w[I-(g-32)],N=L[I]+128>>8,L[I]-=N*256;L[I]+=N,L[g]=0}for(N=0,I=0;I<32;++I)L[I]+=N-(L[31]>>4)*w[I],N=L[I]>>8,L[I]&=255;for(I=0;I<32;++I)L[I]-=N*w[I];for(g=0;g<32;++g)L[g+1]+=L[g]>>8,y[g]=L[g]&255}function x(y){for(var L=new Float64Array(64),N=0;N<64;++N)L[N]=y[N],y[N]=0;B(y,L)}function m(y,L){var N=$(),g=$(),I=$(),H=$(),j=$(),J=$(),le=$(),he=$(),z=$();ae(N,y[1],y[0]),ae(z,L[1],L[0]),de(N,N,z),ke(g,y[0],y[1]),ke(z,L[0],L[1]),de(g,g,z),de(I,y[3],L[3]),de(I,I,_),de(H,y[2],L[2]),ke(H,H,H),ae(j,g,N),ae(J,H,I),ke(le,H,I),ke(he,g,N),de(y[0],j,J),de(y[1],he,le),de(y[2],le,J),de(y[3],j,he)}function f(y,L,N){for(var g=0;g<4;++g)Ie(y[g],L[g],N)}function T(y,L){var N=$(),g=$(),I=$();ve(I,L[2]),de(N,L[0],I),de(g,L[1],I),P(y,g),y[31]^=Z(N)<<7}function P(y,L){var N,g,I,H=$(),j=$();for(N=0;N<16;++N)j[N]=L[N];for(xe(j),xe(j),xe(j),g=0;g<2;++g){for(H[0]=j[0]-65517,N=1;N<15;++N)H[N]=j[N]-65535-(H[N-1]>>16&1),H[N-1]&=65535;H[15]=j[15]-32767-(H[14]>>16&1),I=H[15]>>16&1,H[14]&=65535,Ie(j,H,1-I)}for(N=0;N<16;N++)y[2*N]=j[N]&255,y[2*N+1]=j[N]>>8}function q(y,L){var N=$(),g=$(),I=$(),H=$(),j=$(),J=$(),le=$();return ne(y[2],v),M(y[1],L),ie(I,y[1]),de(H,I,A),ae(I,I,y[2]),ke(H,y[2],H),ie(j,H),ie(J,j),de(le,J,j),de(N,le,I),de(N,N,H),D(N,N),de(N,N,I),de(N,N,H),de(N,N,H),de(y[0],N,H),ie(g,y[0]),de(g,g,H),V(g,I)&&de(y[0],y[0],S),ie(g,y[0]),de(g,g,H),V(g,I)?-1:(Z(y[0])===L[31]>>7&&ae(y[0],u,y[0]),de(y[3],y[0],y[1]),0)}function M(y,L){var N;for(N=0;N<16;++N)y[N]=L[2*N]+(L[2*N+1]<<8);y[15]&=32767}function D(y,L){var N=$(),g;for(g=0;g<16;++g)N[g]=L[g];for(g=250;g>=0;--g)ie(N,N),g!==1&&de(N,N,L);for(g=0;g<16;++g)y[g]=N[g]}function V(y,L){var N=new l(32),g=new l(32);return P(N,y),P(g,L),K(N,0,g,0)}function K(y,L,N,g){return G(y,L,N,g,32)}function G(y,L,N,g,I){var H,j=0;for(H=0;H<I;++H)j|=y[L+H]^N[g+H];return(1&j-1>>>8)-1}function Z(y){var L=new l(32);return P(L,y),L[0]&1}function te(y,L,N){var g,I;for(ne(y[0],u),ne(y[1],v),ne(y[2],v),ne(y[3],u),I=255;I>=0;--I)g=N[I/8|0]>>(I&7)&1,f(y,L,g),m(L,y),m(y,y),f(y,L,g)}function se(y,L){var N=[$(),$(),$(),$()];ne(N[0],h),ne(N[1],E),ne(N[2],v),de(N[3],h,E),te(y,N,L)}function ne(y,L){var N;for(N=0;N<16;N++)y[N]=L[N]|0}function ve(y,L){var N=$(),g;for(g=0;g<16;++g)N[g]=L[g];for(g=253;g>=0;--g)ie(N,N),g!==2&&g!==4&&de(N,N,L);for(g=0;g<16;++g)y[g]=N[g]}function xe(y){var L,N,g=1;for(L=0;L<16;++L)N=y[L]+g+65535,g=Math.floor(N/65536),y[L]=N-g*65536;y[0]+=g-1+37*(g-1)}function Ie(y,L,N){for(var g,I=~(N-1),H=0;H<16;++H)g=I&(y[H]^L[H]),y[H]^=g,L[H]^=g}function $(y){var L,N=new Float64Array(16);if(y)for(L=0;L<y.length;++L)N[L]=y[L];return N}function ke(y,L,N){for(var g=0;g<16;++g)y[g]=L[g]+N[g]}function ae(y,L,N){for(var g=0;g<16;++g)y[g]=L[g]-N[g]}function ie(y,L){de(y,L,L)}function de(y,L,N){var g,I,H=0,j=0,J=0,le=0,he=0,z=0,ue=0,be=0,Ne=0,Ce=0,Ke=0,et=0,Ye=0,We=0,qe=0,je=0,ct=0,At=0,lt=0,Pt=0,Dt=0,Ht=0,Kt=0,cr=0,wr=0,Pr=0,ni=0,ki=0,Xi=0,Hs=0,Ea=0,ut=N[0],pt=N[1],ft=N[2],dt=N[3],ht=N[4],mt=N[5],gt=N[6],vt=N[7],yt=N[8],_t=N[9],xt=N[10],bt=N[11],Et=N[12],St=N[13],Ge=N[14],rt=N[15];g=L[0],H+=g*ut,j+=g*pt,J+=g*ft,le+=g*dt,he+=g*ht,z+=g*mt,ue+=g*gt,be+=g*vt,Ne+=g*yt,Ce+=g*_t,Ke+=g*xt,et+=g*bt,Ye+=g*Et,We+=g*St,qe+=g*Ge,je+=g*rt,g=L[1],j+=g*ut,J+=g*pt,le+=g*ft,he+=g*dt,z+=g*ht,ue+=g*mt,be+=g*gt,Ne+=g*vt,Ce+=g*yt,Ke+=g*_t,et+=g*xt,Ye+=g*bt,We+=g*Et,qe+=g*St,je+=g*Ge,ct+=g*rt,g=L[2],J+=g*ut,le+=g*pt,he+=g*ft,z+=g*dt,ue+=g*ht,be+=g*mt,Ne+=g*gt,Ce+=g*vt,Ke+=g*yt,et+=g*_t,Ye+=g*xt,We+=g*bt,qe+=g*Et,je+=g*St,ct+=g*Ge,At+=g*rt,g=L[3],le+=g*ut,he+=g*pt,z+=g*ft,ue+=g*dt,be+=g*ht,Ne+=g*mt,Ce+=g*gt,Ke+=g*vt,et+=g*yt,Ye+=g*_t,We+=g*xt,qe+=g*bt,je+=g*Et,ct+=g*St,At+=g*Ge,lt+=g*rt,g=L[4],he+=g*ut,z+=g*pt,ue+=g*ft,be+=g*dt,Ne+=g*ht,Ce+=g*mt,Ke+=g*gt,et+=g*vt,Ye+=g*yt,We+=g*_t,qe+=g*xt,je+=g*bt,ct+=g*Et,At+=g*St,lt+=g*Ge,Pt+=g*rt,g=L[5],z+=g*ut,ue+=g*pt,be+=g*ft,Ne+=g*dt,Ce+=g*ht,Ke+=g*mt,et+=g*gt,Ye+=g*vt,We+=g*yt,qe+=g*_t,je+=g*xt,ct+=g*bt,At+=g*Et,lt+=g*St,Pt+=g*Ge,Dt+=g*rt,g=L[6],ue+=g*ut,be+=g*pt,Ne+=g*ft,Ce+=g*dt,Ke+=g*ht,et+=g*mt,Ye+=g*gt,We+=g*vt,qe+=g*yt,je+=g*_t,ct+=g*xt,At+=g*bt,lt+=g*Et,Pt+=g*St,Dt+=g*Ge,Ht+=g*rt,g=L[7],be+=g*ut,Ne+=g*pt,Ce+=g*ft,Ke+=g*dt,et+=g*ht,Ye+=g*mt,We+=g*gt,qe+=g*vt,je+=g*yt,ct+=g*_t,At+=g*xt,lt+=g*bt,Pt+=g*Et,Dt+=g*St,Ht+=g*Ge,Kt+=g*rt,g=L[8],Ne+=g*ut,Ce+=g*pt,Ke+=g*ft,et+=g*dt,Ye+=g*ht,We+=g*mt,qe+=g*gt,je+=g*vt,ct+=g*yt,At+=g*_t,lt+=g*xt,Pt+=g*bt,Dt+=g*Et,Ht+=g*St,Kt+=g*Ge,cr+=g*rt,g=L[9],Ce+=g*ut,Ke+=g*pt,et+=g*ft,Ye+=g*dt,We+=g*ht,qe+=g*mt,je+=g*gt,ct+=g*vt,At+=g*yt,lt+=g*_t,Pt+=g*xt,Dt+=g*bt,Ht+=g*Et,Kt+=g*St,cr+=g*Ge,wr+=g*rt,g=L[10],Ke+=g*ut,et+=g*pt,Ye+=g*ft,We+=g*dt,qe+=g*ht,je+=g*mt,ct+=g*gt,At+=g*vt,lt+=g*yt,Pt+=g*_t,Dt+=g*xt,Ht+=g*bt,Kt+=g*Et,cr+=g*St,wr+=g*Ge,Pr+=g*rt,g=L[11],et+=g*ut,Ye+=g*pt,We+=g*ft,qe+=g*dt,je+=g*ht,ct+=g*mt,At+=g*gt,lt+=g*vt,Pt+=g*yt,Dt+=g*_t,Ht+=g*xt,Kt+=g*bt,cr+=g*Et,wr+=g*St,Pr+=g*Ge,ni+=g*rt,g=L[12],Ye+=g*ut,We+=g*pt,qe+=g*ft,je+=g*dt,ct+=g*ht,At+=g*mt,lt+=g*gt,Pt+=g*vt,Dt+=g*yt,Ht+=g*_t,Kt+=g*xt,cr+=g*bt,wr+=g*Et,Pr+=g*St,ni+=g*Ge,ki+=g*rt,g=L[13],We+=g*ut,qe+=g*pt,je+=g*ft,ct+=g*dt,At+=g*ht,lt+=g*mt,Pt+=g*gt,Dt+=g*vt,Ht+=g*yt,Kt+=g*_t,cr+=g*xt,wr+=g*bt,Pr+=g*Et,ni+=g*St,ki+=g*Ge,Xi+=g*rt,g=L[14],qe+=g*ut,je+=g*pt,ct+=g*ft,At+=g*dt,lt+=g*ht,Pt+=g*mt,Dt+=g*gt,Ht+=g*vt,Kt+=g*yt,cr+=g*_t,wr+=g*xt,Pr+=g*bt,ni+=g*Et,ki+=g*St,Xi+=g*Ge,Hs+=g*rt,g=L[15],je+=g*ut,ct+=g*pt,At+=g*ft,lt+=g*dt,Pt+=g*ht,Dt+=g*mt,Ht+=g*gt,Kt+=g*vt,cr+=g*yt,wr+=g*_t,Pr+=g*xt,ni+=g*bt,ki+=g*Et,Xi+=g*St,Hs+=g*Ge,Ea+=g*rt,H+=38*ct,j+=38*At,J+=38*lt,le+=38*Pt,he+=38*Dt,z+=38*Ht,ue+=38*Kt,be+=38*cr,Ne+=38*wr,Ce+=38*Pr,Ke+=38*ni,et+=38*ki,Ye+=38*Xi,We+=38*Hs,qe+=38*Ea,I=1,g=H+I+65535,I=Math.floor(g/65536),H=g-I*65536,g=j+I+65535,I=Math.floor(g/65536),j=g-I*65536,g=J+I+65535,I=Math.floor(g/65536),J=g-I*65536,g=le+I+65535,I=Math.floor(g/65536),le=g-I*65536,g=he+I+65535,I=Math.floor(g/65536),he=g-I*65536,g=z+I+65535,I=Math.floor(g/65536),z=g-I*65536,g=ue+I+65535,I=Math.floor(g/65536),ue=g-I*65536,g=be+I+65535,I=Math.floor(g/65536),be=g-I*65536,g=Ne+I+65535,I=Math.floor(g/65536),Ne=g-I*65536,g=Ce+I+65535,I=Math.floor(g/65536),Ce=g-I*65536,g=Ke+I+65535,I=Math.floor(g/65536),Ke=g-I*65536,g=et+I+65535,I=Math.floor(g/65536),et=g-I*65536,g=Ye+I+65535,I=Math.floor(g/65536),Ye=g-I*65536,g=We+I+65535,I=Math.floor(g/65536),We=g-I*65536,g=qe+I+65535,I=Math.floor(g/65536),qe=g-I*65536,g=je+I+65535,I=Math.floor(g/65536),je=g-I*65536,H+=I-1+37*(I-1),I=1,g=H+I+65535,I=Math.floor(g/65536),H=g-I*65536,g=j+I+65535,I=Math.floor(g/65536),j=g-I*65536,g=J+I+65535,I=Math.floor(g/65536),J=g-I*65536,g=le+I+65535,I=Math.floor(g/65536),le=g-I*65536,g=he+I+65535,I=Math.floor(g/65536),he=g-I*65536,g=z+I+65535,I=Math.floor(g/65536),z=g-I*65536,g=ue+I+65535,I=Math.floor(g/65536),ue=g-I*65536,g=be+I+65535,I=Math.floor(g/65536),be=g-I*65536,g=Ne+I+65535,I=Math.floor(g/65536),Ne=g-I*65536,g=Ce+I+65535,I=Math.floor(g/65536),Ce=g-I*65536,g=Ke+I+65535,I=Math.floor(g/65536),Ke=g-I*65536,g=et+I+65535,I=Math.floor(g/65536),et=g-I*65536,g=Ye+I+65535,I=Math.floor(g/65536),Ye=g-I*65536,g=We+I+65535,I=Math.floor(g/65536),We=g-I*65536,g=qe+I+65535,I=Math.floor(g/65536),qe=g-I*65536,g=je+I+65535,I=Math.floor(g/65536),je=g-I*65536,H+=I-1+37*(I-1),y[0]=H,y[1]=j,y[2]=J,y[3]=le,y[4]=he,y[5]=z,y[6]=ue,y[7]=be,y[8]=Ne,y[9]=Ce,y[10]=Ke,y[11]=et,y[12]=Ye,y[13]=We,y[14]=qe,y[15]=je}}}),u2=Ee({"../../node_modules/node-forge/lib/kem.js"(i,e){"use strict";var t=Ae();Oe(),Sr(),rc(),e.exports=t.kem=t.kem||{};var r=t.jsbn.BigInteger;t.kem.rsa={},t.kem.rsa.create=function(n,a){a=a||{};var c=a.prng||t.random,l={};return l.encrypt=function(o,d){var u=Math.ceil(o.n.bitLength()/8),v;do v=new r(t.util.bytesToHex(c.getBytesSync(u)),16).mod(o.n);while(v.compareTo(r.ONE)<=0);v=t.util.hexToBytes(v.toString(16));var A=u-v.length;A>0&&(v=t.util.fillString("\0",A)+v);var _=o.encrypt(v,"NONE"),h=n.generate(v,d);return{encapsulation:_,key:h}},l.decrypt=function(o,d,u){var v=o.decrypt(d,"NONE");return n.generate(v,u)},l},t.kem.kdf1=function(n,a){s(this,n,0,a||n.digestLength)},t.kem.kdf2=function(n,a){s(this,n,1,a||n.digestLength)};function s(n,a,c,l){n.generate=function(o,d){for(var u=new t.util.ByteBuffer,v=Math.ceil(d/l)+c,A=new t.util.ByteBuffer,_=c;_<v;++_){A.putInt32(_),a.start(),a.update(o+A.getBytes());var h=a.digest();u.putBytes(h.getBytes(l))}return u.truncate(u.length()-d),u.getBytes()}}}}),p2=Ee({"../../node_modules/node-forge/lib/log.js"(i,e){"use strict";var t=Ae();Oe(),e.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var r={},s=[],n=null;for(t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8,l=0;l<t.log.levels.length;++l)a=t.log.levels[l],r[a]={index:l,name:a.toUpperCase()};var a,l;for(t.log.logMessage=function(_){for(var h=r[_.level].index,E=0;E<s.length;++E){var w=s[E];if(w.flags&t.log.NO_LEVEL_CHECK)w.f(_);else{var S=r[w.level].index;h<=S&&w.f(w,_)}}},t.log.prepareStandard=function(_){"standard"in _||(_.standard=r[_.level].name+" ["+_.category+"] "+_.message)},t.log.prepareFull=function(_){if(!("full"in _)){var h=[_.message];h=h.concat([]),_.full=t.util.format.apply(this,h)}},t.log.prepareStandardFull=function(_){"standardFull"in _||(t.log.prepareStandard(_),_.standardFull=_.standard)},c=["error","warning","info","debug","verbose"],l=0;l<c.length;++l)(function(_){t.log[_]=function(h,E){var w=Array.prototype.slice.call(arguments).slice(2),S={timestamp:new Date,level:_,category:h,message:E,arguments:w};t.log.logMessage(S)}})(c[l]);var c,l;t.log.makeLogger=function(_){var h={flags:0,f:_};return t.log.setLevel(h,"none"),h},t.log.setLevel=function(_,h){var E=!1;if(_&&!(_.flags&t.log.LEVEL_LOCKED))for(var w=0;w<t.log.levels.length;++w){var S=t.log.levels[w];if(h==S){_.level=h,E=!0;break}}return E},t.log.lock=function(_,h){typeof h>"u"||h?_.flags|=t.log.LEVEL_LOCKED:_.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(_){s.push(_)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},u=function(_,h){t.log.prepareStandard(h);var E=d[h.level],w=[h.standard];w=w.concat(h.arguments.slice()),E.apply(console,w)},o=t.log.makeLogger(u)):(u=function(_,h){t.log.prepareStandardFull(h),console.log(h.standardFull)},o=t.log.makeLogger(u)),t.log.setLevel(o,"debug"),t.log.addLogger(o),n=o):console={log:function(){}};var o,d,u;n!==null&&typeof window<"u"&&window.location&&(v=new URL(window.location.href).searchParams,v.has("console.level")&&t.log.setLevel(n,v.get("console.level").slice(-1)[0]),v.has("console.lock")&&(A=v.get("console.lock").slice(-1)[0],A=="true"&&t.log.lock(n)));var v,A;t.log.consoleLogger=n}}),f2=Ee({"../../node_modules/node-forge/lib/md.all.js"(i,e){"use strict";e.exports=ti(),gp(),ca(),Uy(),$y()}}),d2=Ee({"../../node_modules/node-forge/lib/pkcs7.js"(i,e){"use strict";var t=Ae();zi(),Or(),tc(),$i(),Ls(),Hy(),Sr(),Oe(),_p();var r=t.asn1,s=e.exports=t.pkcs7=t.pkcs7||{};s.messageFromPem=function(h){var E=t.pem.decode(h)[0];if(E.type!=="PKCS7"){var w=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw w.headerType=E.type,w}if(E.procType&&E.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var S=r.fromDer(E.body);return s.messageFromAsn1(S)},s.messageToPem=function(h,E){var w={type:"PKCS7",body:r.toDer(h.toAsn1()).getBytes()};return t.pem.encode(w,{maxline:E})},s.messageFromAsn1=function(h){var E={},w=[];if(!r.validate(h,s.asn1.contentInfoValidator,E,w)){var S=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw S.errors=w,S}var p=r.derToOid(E.contentType),b;switch(p){case t.pki.oids.envelopedData:b=s.createEnvelopedData();break;case t.pki.oids.encryptedData:b=s.createEncryptedData();break;case t.pki.oids.signedData:b=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.")}return b.fromAsn1(E.content.value[0]),b},s.createSignedData=function(){var h=null;return h={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(S){if(A(h,S,s.asn1.signedDataValidator),h.certificates=[],h.crls=[],h.digestAlgorithmIdentifiers=[],h.contentInfo=null,h.signerInfos=[],h.rawCapture.certificates)for(var p=h.rawCapture.certificates.value,b=0;b<p.length;++b)h.certificates.push(t.pki.certificateFromAsn1(p[b]))},toAsn1:function(){h.contentInfo||h.sign();for(var S=[],p=0;p<h.certificates.length;++p)S.push(t.pki.certificateToAsn1(h.certificates[p]));var b=[],C=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,h.digestAlgorithmIdentifiers),h.contentInfo])]);return S.length>0&&C.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,S)),b.length>0&&C.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,b)),C.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,h.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.type).getBytes()),C])},addSigner:function(S){var p=S.issuer,b=S.serialNumber;if(S.certificate){var C=S.certificate;typeof C=="string"&&(C=t.pki.certificateFromPem(C)),p=C.issuer.attributes,b=C.serialNumber}var k=S.key;if(!k)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof k=="string"&&(k=t.pki.privateKeyFromPem(k));var B=S.digestAlgorithm||t.pki.oids.sha1;switch(B){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+B)}var x=S.authenticatedAttributes||[];if(x.length>0){for(var m=!1,f=!1,T=0;T<x.length;++T){var P=x[T];if(!m&&P.type===t.pki.oids.contentType){if(m=!0,f)break;continue}if(!f&&P.type===t.pki.oids.messageDigest){if(f=!0,m)break;continue}}if(!m||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}h.signers.push({key:k,version:1,issuer:p,serialNumber:b,digestAlgorithm:B,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:x,unauthenticatedAttributes:[]})},sign:function(S){if(S=S||{},(typeof h.content!="object"||h.contentInfo===null)&&(h.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes())]),"content"in h)){var p;h.content instanceof t.util.ByteBuffer?p=h.content.bytes():typeof h.content=="string"&&(p=t.util.encodeUtf8(h.content)),S.detached?h.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p):h.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p)]))}if(h.signers.length!==0){var b=E();w(b)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(S){typeof S=="string"&&(S=t.pki.certificateFromPem(S)),h.certificates.push(S)},addCertificateRevokationList:function(S){throw new Error("PKCS#7 CRL support not yet implemented.")}},h;function E(){for(var S={},p=0;p<h.signers.length;++p){var b=h.signers[p],C=b.digestAlgorithm;C in S||(S[C]=t.md[t.pki.oids[C]].create()),b.authenticatedAttributes.length===0?b.md=S[C]:b.md=t.md[t.pki.oids[C]].create()}h.digestAlgorithmIdentifiers=[];for(var C in S)h.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return S}function w(S){var p;if(h.detachedContent?p=h.detachedContent:(p=h.contentInfo.value[1],p=p.value[0]),!p)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var b=r.derToOid(h.contentInfo.value[0].value),C=r.toDer(p);C.getByte(),r.getBerValueLength(C),C=C.getBytes();for(var k in S)S[k].start().update(C);for(var B=new Date,x=0;x<h.signers.length;++x){var m=h.signers[x];if(m.authenticatedAttributes.length===0){if(b!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{m.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),T=0;T<m.authenticatedAttributes.length;++T){var P=m.authenticatedAttributes[T];P.type===t.pki.oids.messageDigest?P.value=S[m.digestAlgorithm].digest():P.type===t.pki.oids.signingTime&&(P.value||(P.value=B)),f.value.push(u(P)),m.authenticatedAttributesAsn1.value.push(u(P))}C=r.toDer(f).getBytes(),m.md.start().update(C)}m.signature=m.key.sign(m.md,"RSASSA-PKCS1-V1_5")}h.signerInfos=d(h.signers)}},s.createEncryptedData=function(){var h=null;return h={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(E){A(h,E,s.asn1.encryptedDataValidator)},decrypt:function(E){E!==void 0&&(h.encryptedContent.key=E),_(h)}},h},s.createEnvelopedData=function(){var h=null;return h={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(E){var w=A(h,E,s.asn1.envelopedDataValidator);h.recipients=c(w.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,l(h.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,v(h.encryptedContent))])])])},findRecipient:function(E){for(var w=E.issuer.attributes,S=0;S<h.recipients.length;++S){var p=h.recipients[S],b=p.issuer;if(p.serialNumber===E.serialNumber&&b.length===w.length){for(var C=!0,k=0;k<w.length;++k)if(b[k].type!==w[k].type||b[k].value!==w[k].value){C=!1;break}if(C)return p}}return null},decrypt:function(E,w){if(h.encryptedContent.key===void 0&&E!==void 0&&w!==void 0)switch(E.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var S=w.decrypt(E.encryptedContent.content);h.encryptedContent.key=t.util.createBuffer(S);break;default:throw new Error("Unsupported asymmetric cipher, OID "+E.encryptedContent.algorithm)}_(h)},addRecipient:function(E){h.recipients.push({version:0,issuer:E.issuer.attributes,serialNumber:E.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:E.publicKey}})},encrypt:function(E,w){if(h.encryptedContent.content===void 0){w=w||h.encryptedContent.algorithm,E=E||h.encryptedContent.key;var S,p,b;switch(w){case t.pki.oids["aes128-CBC"]:S=16,p=16,b=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:S=24,p=16,b=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:S=32,p=16,b=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:S=24,p=8,b=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+w)}if(E===void 0)E=t.util.createBuffer(t.random.getBytes(S));else if(E.length()!=S)throw new Error("Symmetric key has wrong length; got "+E.length()+" bytes, expected "+S+".");h.encryptedContent.algorithm=w,h.encryptedContent.key=E,h.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(p));var C=b(E);if(C.start(h.encryptedContent.parameter.copy()),C.update(h.content),!C.finish())throw new Error("Symmetric encryption failed.");h.encryptedContent.content=C.output}for(var k=0;k<h.recipients.length;++k){var B=h.recipients[k];if(B.encryptedContent.content===void 0)switch(B.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:B.encryptedContent.content=B.encryptedContent.key.encrypt(h.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+B.encryptedContent.algorithm)}}}},h};function n(h){var E={},w=[];if(!r.validate(h,s.asn1.recipientInfoValidator,E,w)){var S=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw S.errors=w,S}return{version:E.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(E.issuer),serialNumber:t.util.createBuffer(E.serial).toHex(),encryptedContent:{algorithm:r.derToOid(E.encAlgorithm),parameter:E.encParameter?E.encParameter.value:void 0,content:E.encKey}}}function a(h){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:h.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(h.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.encryptedContent.content)])}function c(h){for(var E=[],w=0;w<h.length;++w)E.push(n(h[w]));return E}function l(h){for(var E=[],w=0;w<h.length;++w)E.push(a(h[w]));return E}function o(h){var E=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(h.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:h.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(h.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(h.authenticatedAttributesAsn1&&E.value.push(h.authenticatedAttributesAsn1),E.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),E.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.signature)),h.unauthenticatedAttributes.length>0){for(var w=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),S=0;S<h.unauthenticatedAttributes.length;++S){var p=h.unauthenticatedAttributes[S];w.values.push(u(p))}E.value.push(w)}return E}function d(h){for(var E=[],w=0;w<h.length;++w)E.push(o(h[w]));return E}function u(h){var E;if(h.type===t.pki.oids.contentType)E=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.value).getBytes());else if(h.type===t.pki.oids.messageDigest)E=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.value.bytes());else if(h.type===t.pki.oids.signingTime){var w=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z"),p=h.value;if(typeof p=="string"){var b=Date.parse(p);isNaN(b)?p.length===13?p=r.utcTimeToDate(p):p=r.generalizedTimeToDate(p):p=new Date(b)}p>=w&&p<S?E=r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(p)):E=r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(p))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[E])])}function v(h){return[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(h.algorithm).getBytes()),h.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,h.content.getBytes())])]}function A(h,E,w){var S={},p=[];if(!r.validate(E,w,S,p)){var b=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw b.errors=b,b}var C=r.derToOid(S.contentType);if(C!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(S.encryptedContent){var k="";if(t.util.isArray(S.encryptedContent))for(var B=0;B<S.encryptedContent.length;++B){if(S.encryptedContent[B].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");k+=S.encryptedContent[B].value}else k=S.encryptedContent;h.encryptedContent={algorithm:r.derToOid(S.encAlgorithm),parameter:t.util.createBuffer(S.encParameter.value),content:t.util.createBuffer(k)}}if(S.content){var k="";if(t.util.isArray(S.content))for(var B=0;B<S.content.length;++B){if(S.content[B].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");k+=S.content[B].value}else k=S.content;h.content=t.util.createBuffer(k)}return h.version=S.version.charCodeAt(0),h.rawCapture=S,S}function _(h){if(h.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(h.content===void 0){var E;switch(h.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:E=t.aes.createDecryptionCipher(h.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:E=t.des.createDecryptionCipher(h.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+h.encryptedContent.algorithm)}if(E.start(h.encryptedContent.parameter),E.update(h.encryptedContent.content),!E.finish())throw new Error("Symmetric decryption failed.");h.content=E.output}}}}),h2=Ee({"../../node_modules/node-forge/lib/ssh.js"(i,e){"use strict";var t=Ae();zi(),oa(),gp(),ca(),Oe();var r=e.exports=t.ssh=t.ssh||{};r.privateKeyToPutty=function(c,l,o){o=o||"",l=l||"";var d="ssh-rsa",u=l===""?"none":"aes256-cbc",v="PuTTY-User-Key-File-2: "+d+`\r
`;v+="Encryption: "+u+`\r
`,v+="Comment: "+o+`\r
`;var A=t.util.createBuffer();n(A,d),s(A,c.e),s(A,c.n);var _=t.util.encode64(A.bytes(),64),h=Math.floor(_.length/66)+1;v+="Public-Lines: "+h+`\r
`,v+=_;var E=t.util.createBuffer();s(E,c.d),s(E,c.p),s(E,c.q),s(E,c.qInv);var w;if(!l)w=t.util.encode64(E.bytes(),64);else{var S=E.length()+16-1;S-=S%16;var p=a(E.bytes());p.truncate(p.length()-S+E.length()),E.putBuffer(p);var b=t.util.createBuffer();b.putBuffer(a("\0\0\0\0",l)),b.putBuffer(a("\0\0\0",l));var C=t.aes.createEncryptionCipher(b.truncate(8),"CBC");C.start(t.util.createBuffer().fillWithByte(0,16)),C.update(E.copy()),C.finish();var k=C.output;k.truncate(16),w=t.util.encode64(k.bytes(),64)}h=Math.floor(w.length/66)+1,v+=`\r
Private-Lines: `+h+`\r
`,v+=w;var B=a("putty-private-key-file-mac-key",l),x=t.util.createBuffer();n(x,d),n(x,u),n(x,o),x.putInt32(A.length()),x.putBuffer(A),x.putInt32(E.length()),x.putBuffer(E);var m=t.hmac.create();return m.start("sha1",B),m.update(x.bytes()),v+=`\r
Private-MAC: `+m.digest().toHex()+`\r
`,v},r.publicKeyToOpenSSH=function(c,l){var o="ssh-rsa";l=l||"";var d=t.util.createBuffer();return n(d,o),s(d,c.e),s(d,c.n),o+" "+t.util.encode64(d.bytes())+" "+l},r.privateKeyToOpenSSH=function(c,l){return l?t.pki.encryptRsaPrivateKey(c,l,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(c)},r.getPublicKeyFingerprint=function(c,l){l=l||{};var o=l.md||t.md.md5.create(),d="ssh-rsa",u=t.util.createBuffer();n(u,d),s(u,c.e),s(u,c.n),o.start(),o.update(u.getBytes());var v=o.digest();if(l.encoding==="hex"){var A=v.toHex();return l.delimiter?A.match(/.{2}/g).join(l.delimiter):A}else{if(l.encoding==="binary")return v.getBytes();if(l.encoding)throw new Error('Unknown encoding "'+l.encoding+'".')}return v};function s(c,l){var o=l.toString(16);o[0]>="8"&&(o="00"+o);var d=t.util.hexToBytes(o);c.putInt32(d.length),c.putBytes(d)}function n(c,l){c.putInt32(l.length),c.putString(l)}function a(){for(var c=t.md.sha1.create(),l=arguments.length,o=0;o<l;++o)c.update(arguments[o]);return c.digest()}}}),m2=Ee({"../../node_modules/node-forge/lib/index.js"(i,e){"use strict";e.exports=Ae(),zi(),o2(),Or(),mp(),tc(),l2(),oa(),u2(),p2(),f2(),Ky(),vp(),Ls(),Vy(),Wy(),d2(),Gy(),qy(),My(),yp(),Sr(),Fy(),h2(),zy(),Oe()}}),g2=Ee({"../../node_modules/selfsigned/index.js"(i){"use strict";var e=m2();function t(s){var n=parseInt(s[0],16);return n<8?s:(n-=8,n.toString()+s.substring(1))}function r(s){switch(s){case"sha256":return e.md.sha256.create();default:return e.md.sha1.create()}}i.generate=function(n,a,c){typeof n=="function"?(c=n,n=void 0):typeof a=="function"&&(c=a,a={}),a=a||{};var l=function(u){var v=e.pki.createCertificate();v.serialNumber=t(e.util.bytesToHex(e.random.getBytesSync(9))),v.validity.notBefore=a.notBeforeDate||new Date;var A=new Date;v.validity.notAfter=A,v.validity.notAfter.setDate(A.getDate()+(a.days||365)),n=n||[{name:"commonName",value:"example.org"},{name:"countryName",value:"US"},{shortName:"ST",value:"Virginia"},{name:"localityName",value:"Blacksburg"},{name:"organizationName",value:"Test"},{shortName:"OU",value:"Test"}],v.setSubject(n),v.setIssuer(n),v.publicKey=u.publicKey,v.setExtensions(a.extensions||[{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"subjectAltName",altNames:[{type:6,value:"http://example.org/webid#me"}]}]),v.sign(u.privateKey,r(a&&a.algorithm));let _=e.md.sha1.create().update(e.asn1.toDer(e.pki.certificateToAsn1(v)).getBytes()).digest().toHex().match(/.{2}/g).join(":");var h={private:e.pki.privateKeyToPem(u.privateKey),public:e.pki.publicKeyToPem(u.publicKey),cert:e.pki.certificateToPem(v),fingerprint:_};if(a&&a.pkcs7){var E=e.pkcs7.createSignedData();E.addCertificate(v),h.pkcs7=e.pkcs7.messageToPem(E)}if(a&&a.clientCertificate){var w=e.pki.rsa.generateKeyPair(a.clientCertificateKeySize||1024),S=e.pki.createCertificate();S.serialNumber=t(e.util.bytesToHex(e.random.getBytesSync(9))),S.validity.notBefore=new Date,S.validity.notAfter=new Date,S.validity.notAfter.setFullYear(S.validity.notBefore.getFullYear()+1);for(var p=JSON.parse(JSON.stringify(n)),b=0;b<p.length;b++)p[b].name==="commonName"&&(a.clientCertificateCN?p[b]={name:"commonName",value:a.clientCertificateCN}:p[b]={name:"commonName",value:"John Doe jdoe123"});if(S.setSubject(p),S.setIssuer(n),S.publicKey=w.publicKey,S.sign(u.privateKey),h.clientprivate=e.pki.privateKeyToPem(w.privateKey),h.clientpublic=e.pki.publicKeyToPem(w.publicKey),h.clientcert=e.pki.certificateToPem(S),a.pkcs7){var C=e.pkcs7.createSignedData();C.addCertificate(S),h.clientpkcs7=e.pkcs7.messageToPem(C)}}var k=e.pki.createCaStore();k.addCertificate(v);try{e.pki.verifyCertificateChain(k,[v],function(B,x,m){if(B!==!0)throw new Error("Certificate could not be verified.");return!0})}catch(B){throw new Error(B)}return h},o=a.keySize||1024;if(c)return e.pki.rsa.generateKeyPair({bits:o},function(u,v){if(u)return c(u);try{return c(null,l(v))}catch(A){return c(A)}});var d=a.keyPair?{privateKey:e.pki.privateKeyFromPem(a.keyPair.privateKey),publicKey:e.pki.publicKeyFromPem(a.keyPair.publicKey)}:e.pki.rsa.generateKeyPair(o);return l(d)}}}),_2=s2(g2(),1),S2="WIX_CLI_TEST_OVERRIDES",Be;(function(i){i.assertEqual=s=>s;function e(s){}i.assertIs=e;function t(s){throw new Error}i.assertNever=t,i.arrayToEnum=s=>{let n={};for(let a of s)n[a]=a;return n},i.getValidEnumValues=s=>{let n=i.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(let c of n)a[c]=s[c];return i.objectValues(a)},i.objectValues=s=>i.objectKeys(s).map(function(n){return s[n]}),i.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let n=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&n.push(a);return n},i.find=(s,n)=>{for(let a of s)if(n(a))return a},i.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,n=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(n)}i.joinValues=r,i.jsonStringifyReplacer=(s,n)=>typeof n=="bigint"?n.toString():n})(Be||(Be={}));var np;(function(i){i.mergeShapes=(e,t)=>({...e,...t})})(np||(np={}));var fe=Be.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ci=i=>{switch(typeof i){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return isNaN(i)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(i)?fe.array:i===null?fe.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?fe.promise:typeof Map<"u"&&i instanceof Map?fe.map:typeof Set<"u"&&i instanceof Set?fe.set:typeof Date<"u"&&i instanceof Date?fe.date:fe.object;default:return fe.unknown}},re=Be.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),C2=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:"),br=class Yy extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(n){return n.message},r={_errors:[]},s=n=>{for(let a of n.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let c=r,l=0;for(;l<a.path.length;){let o=a.path[l];l===a.path.length-1?(c[o]=c[o]||{_errors:[]},c[o]._errors.push(t(a))):c[o]=c[o]||{_errors:[]},c=c[o],l++}}};return s(this),r}static assert(e){if(!(e instanceof Yy))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Be.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},r=[];for(let s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};br.create=i=>new br(i);var Is=(i,e)=>{let t;switch(i.code){case re.invalid_type:i.received===fe.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case re.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,Be.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:t=`Unrecognized key(s) in object: ${Be.joinValues(i.keys,", ")}`;break;case re.invalid_union:t="Invalid input";break;case re.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Be.joinValues(i.options)}`;break;case re.invalid_enum_value:t=`Invalid enum value. Expected ${Be.joinValues(i.options)}, received '${i.received}'`;break;case re.invalid_arguments:t="Invalid function arguments";break;case re.invalid_return_type:t="Invalid function return type";break;case re.invalid_date:t="Invalid date";break;case re.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:Be.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case re.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case re.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case re.custom:t="Invalid input";break;case re.invalid_intersection_types:t="Intersection results could not be merged";break;case re.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case re.not_finite:t="Number must be finite";break;default:t=e.defaultError,Be.assertNever(i)}return{message:t}},Zy=Is;function w2(i){Zy=i}function zo(){return Zy}var $o=i=>{let{data:e,path:t,errorMaps:r,issueData:s}=i,n=[...t,...s.path||[]],a={...s,path:n};if(s.message!==void 0)return{...s,path:n,message:s.message};let c="",l=r.filter(o=>!!o).slice().reverse();for(let o of l)c=o(a,{data:e,defaultError:c}).message;return{...s,path:n,message:c}},T2=[];function ce(i,e){let t=zo(),r=$o({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,t,t===Is?void 0:Is].filter(s=>!!s)});i.common.issues.push(r)}var qt=class Qy{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let s of t){if(s.status==="aborted")return _e;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let s of t){let n=await s.key,a=await s.value;r.push({key:n,value:a})}return Qy.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let s of t){let{key:n,value:a}=s;if(n.status==="aborted"||a.status==="aborted")return _e;n.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[n.value]=a.value)}return{status:e.value,value:r}}},_e=Object.freeze({status:"aborted"}),ks=i=>({status:"dirty",value:i}),Ut=i=>({status:"valid",value:i}),ap=i=>i.status==="aborted",op=i=>i.status==="dirty",Wn=i=>i.status==="valid",Gn=i=>typeof Promise<"u"&&i instanceof Promise;function Yo(i,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(i):r?r.value:e.get(i)}function Xy(i,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(i,t):s?s.value=t:e.set(i,t),t}var me;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e?.message})(me||(me={}));var jn,Hn,Br=class{constructor(i,e,t,r){this._cachedPath=[],this.parent=i,this.data=e,this._path=t,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},By=(i,e)=>{if(Wn(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new br(i.common.issues);return this._error=t,this._error}}};function Se(i){if(!i)return{};let{errorMap:e,invalid_type_error:t,required_error:r,description:s}=i;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,c)=>{var l,o;let{message:d}=i;return a.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(o=d??t)!==null&&o!==void 0?o:c.defaultError}},description:s}}var Te=class{constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(i){return Ci(i.data)}_getOrReturnCtx(i,e){return e||{common:i.parent.common,data:i.data,parsedType:Ci(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new qt,ctx:{common:i.parent.common,data:i.data,parsedType:Ci(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){let e=this._parse(i);if(Gn(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(i){let e=this._parse(i);return Promise.resolve(e)}parse(i,e){let t=this.safeParse(i,e);if(t.success)return t.data;throw t.error}safeParse(i,e){var t;let r={common:{issues:[],async:(t=e?.async)!==null&&t!==void 0?t:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Ci(i)},s=this._parseSync({data:i,path:r.path,parent:r});return By(r,s)}async parseAsync(i,e){let t=await this.safeParseAsync(i,e);if(t.success)return t.data;throw t.error}async safeParseAsync(i,e){let t={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:Ci(i)},r=this._parse({data:i,path:t.path,parent:t}),s=await(Gn(r)?r:Promise.resolve(r));return By(t,s)}refine(i,e){let t=r=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(r):e;return this._refinement((r,s)=>{let n=i(r),a=()=>s.addIssue({code:re.custom,...t(r)});return typeof Promise<"u"&&n instanceof Promise?n.then(c=>c?!0:(a(),!1)):n?!0:(a(),!1)})}refinement(i,e){return this._refinement((t,r)=>i(t)?!0:(r.addIssue(typeof e=="function"?e(t,r):e),!1))}_refinement(i){return new Er({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}optional(){return Nr.create(this,this._def)}nullable(){return Ti.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gi.create(this,this._def)}promise(){return Os.create(this,this._def)}or(i){return Jn.create([this,i],this._def)}and(i){return ea.create(this,i,this._def)}transform(i){return new Er({...Se(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:i}})}default(i){let e=typeof i=="function"?i:()=>i;return new sa({...Se(this._def),innerType:this,defaultValue:e,typeName:ye.ZodDefault})}brand(){return new xp({typeName:ye.ZodBranded,type:this,...Se(this._def)})}catch(i){let e=typeof i=="function"?i:()=>i;return new na({...Se(this._def),innerType:this,catchValue:e,typeName:ye.ZodCatch})}describe(i){let e=this.constructor;return new e({...this._def,description:i})}pipe(i){return bp.create(this,i)}readonly(){return aa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},A2=/^c[^\s-]{8,}$/i,k2=/^[0-9a-z]+$/,R2=/^[0-9A-HJKMNP-TV-Z]{26}$/,I2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N2=/^[a-z0-9_-]{21}$/i,B2=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",sp,P2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,D2=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,U2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jy="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M2=new RegExp(`^${Jy}$`);function e0(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function F2(i){return new RegExp(`^${e0(i)}$`)}function t0(i){let e=`${Jy}T${e0(i)}`,t=[];return t.push(i.local?"Z?":"Z"),i.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function V2(i,e){return!!((e==="v4"||!e)&&P2.test(i)||(e==="v6"||!e)&&D2.test(i))}var Ns=class Kn extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){let n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_type,expected:fe.string,received:n.parsedType}),_e}let r=new qt,s;for(let n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:re.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:re.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){let a=e.data.length>n.value,c=e.data.length<n.value;(a||c)&&(s=this._getOrReturnCtx(e,s),a?ce(s,{code:re.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):c&&ce(s,{code:re.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")O2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"email",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")sp||(sp=new RegExp(L2,"u")),sp.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"emoji",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")I2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"uuid",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")N2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"nanoid",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")A2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")k2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"cuid2",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")R2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ulid",code:re.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ce(s,{validation:"url",code:re.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"regex",code:re.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(s=this._getOrReturnCtx(e,s),ce(s,{code:re.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:re.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(s=this._getOrReturnCtx(e,s),ce(s,{code:re.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?t0(n).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:re.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?M2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:re.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?F2(n).test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:re.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?B2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"duration",code:re.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?V2(e.data,n.version)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"ip",code:re.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?U2.test(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{validation:"base64",code:re.invalid_string,message:n.message}),r.dirty()):Be.assertNever(n);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:re.invalid_string,...me.errToObj(r)})}_addCheck(e){return new Kn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...me.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...me.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...me.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...me.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...me.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...me.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...me.errToObj(t)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Kn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Ns.create=i=>{var e;return new Ns({checks:[],typeName:ye.ZodString,coerce:(e=i?.coerce)!==null&&e!==void 0?e:!1,...Se(i)})};function q2(i,e){let t=(i.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,n=parseInt(i.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return n%a/Math.pow(10,s)}var zn=class cp extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){let n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_type,expected:fe.number,received:n.parsedType}),_e}let r,s=new qt;for(let n of this._def.checks)n.kind==="int"?Be.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:re.invalid_type,expected:"integer",received:"float",message:n.message}),s.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="multipleOf"?q2(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_finite,message:n.message}),s.dirty()):Be.assertNever(n);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,me.toString(t))}setLimit(e,t,r,s){return new cp({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new cp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Be.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};zn.create=i=>new zn({checks:[],typeName:ye.ZodNumber,coerce:i?.coerce||!1,...Se(i)});var $n=class lp extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==fe.bigint){let n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_type,expected:fe.bigint,received:n.parsedType}),_e}let r,s=new qt;for(let n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ce(r,{code:re.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):Be.assertNever(n);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,me.toString(t))}setLimit(e,t,r,s){return new lp({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new lp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};$n.create=i=>{var e;return new $n({checks:[],typeName:ye.ZodBigInt,coerce:(e=i?.coerce)!==null&&e!==void 0?e:!1,...Se(i)})};var Yn=class extends Te{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==fe.boolean){let t=this._getOrReturnCtx(i);return ce(t,{code:re.invalid_type,expected:fe.boolean,received:t.parsedType}),_e}return Ut(i.data)}};Yn.create=i=>new Yn({typeName:ye.ZodBoolean,coerce:i?.coerce||!1,...Se(i)});var Zn=class r0 extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){let n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_type,expected:fe.date,received:n.parsedType}),_e}if(isNaN(e.data.getTime())){let n=this._getOrReturnCtx(e);return ce(n,{code:re.invalid_date}),_e}let r=new qt,s;for(let n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:re.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(s=this._getOrReturnCtx(e,s),ce(s,{code:re.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):Be.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r0({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Zn.create=i=>new Zn({checks:[],coerce:i?.coerce||!1,typeName:ye.ZodDate,...Se(i)});var Zo=class extends Te{_parse(i){if(this._getType(i)!==fe.symbol){let t=this._getOrReturnCtx(i);return ce(t,{code:re.invalid_type,expected:fe.symbol,received:t.parsedType}),_e}return Ut(i.data)}};Zo.create=i=>new Zo({typeName:ye.ZodSymbol,...Se(i)});var Qn=class extends Te{_parse(i){if(this._getType(i)!==fe.undefined){let t=this._getOrReturnCtx(i);return ce(t,{code:re.invalid_type,expected:fe.undefined,received:t.parsedType}),_e}return Ut(i.data)}};Qn.create=i=>new Qn({typeName:ye.ZodUndefined,...Se(i)});var Xn=class extends Te{_parse(i){if(this._getType(i)!==fe.null){let t=this._getOrReturnCtx(i);return ce(t,{code:re.invalid_type,expected:fe.null,received:t.parsedType}),_e}return Ut(i.data)}};Xn.create=i=>new Xn({typeName:ye.ZodNull,...Se(i)});var Bs=class extends Te{constructor(){super(...arguments),this._any=!0}_parse(i){return Ut(i.data)}};Bs.create=i=>new Bs({typeName:ye.ZodAny,...Se(i)});var Wi=class extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(i){return Ut(i.data)}};Wi.create=i=>new Wi({typeName:ye.ZodUnknown,...Se(i)});var ei=class extends Te{_parse(i){let e=this._getOrReturnCtx(i);return ce(e,{code:re.invalid_type,expected:fe.never,received:e.parsedType}),_e}};ei.create=i=>new ei({typeName:ye.ZodNever,...Se(i)});var Qo=class extends Te{_parse(i){if(this._getType(i)!==fe.undefined){let t=this._getOrReturnCtx(i);return ce(t,{code:re.invalid_type,expected:fe.void,received:t.parsedType}),_e}return Ut(i.data)}};Qo.create=i=>new Qo({typeName:ye.ZodVoid,...Se(i)});var Gi=class Wo extends Te{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==fe.array)return ce(t,{code:re.invalid_type,expected:fe.array,received:t.parsedType}),_e;if(s.exactLength!==null){let a=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(a||c)&&(ce(t,{code:a?re.too_big:re.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(ce(t,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(ce(t,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,c)=>s.type._parseAsync(new Br(t,a,t.path,c)))).then(a=>qt.mergeArray(r,a));let n=[...t.data].map((a,c)=>s.type._parseSync(new Br(t,a,t.path,c)));return qt.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new Wo({...this._def,minLength:{value:e,message:me.toString(t)}})}max(e,t){return new Wo({...this._def,maxLength:{value:e,message:me.toString(t)}})}length(e,t){return new Wo({...this._def,exactLength:{value:e,message:me.toString(t)}})}nonempty(e){return this.min(1,e)}};Gi.create=(i,e)=>new Gi({type:i,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Se(e)});function As(i){if(i instanceof ar){let e={};for(let t in i.shape){let r=i.shape[t];e[t]=Nr.create(As(r))}return new ar({...i._def,shape:()=>e})}else return i instanceof Gi?new Gi({...i._def,type:As(i.element)}):i instanceof Nr?Nr.create(As(i.unwrap())):i instanceof Ti?Ti.create(As(i.unwrap())):i instanceof wi?wi.create(i.items.map(e=>As(e))):i}var ar=class xr extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Be.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==fe.object){let o=this._getOrReturnCtx(e);return ce(o,{code:re.invalid_type,expected:fe.object,received:o.parsedType}),_e}let{status:r,ctx:s}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof ei&&this._def.unknownKeys==="strip"))for(let o in s.data)a.includes(o)||c.push(o);let l=[];for(let o of a){let d=n[o],u=s.data[o];l.push({key:{status:"valid",value:o},value:d._parse(new Br(s,u,s.path,o)),alwaysSet:o in s.data})}if(this._def.catchall instanceof ei){let o=this._def.unknownKeys;if(o==="passthrough")for(let d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(o==="strict")c.length>0&&(ce(s,{code:re.unrecognized_keys,keys:c}),r.dirty());else if(o!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let o=this._def.catchall;for(let d of c){let u=s.data[d];l.push({key:{status:"valid",value:d},value:o._parse(new Br(s,u,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let o=[];for(let d of l){let u=await d.key,v=await d.value;o.push({key:u,value:v,alwaysSet:d.alwaysSet})}return o}).then(o=>qt.mergeObjectSync(r,o)):qt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,n,a,c;let l=(a=(n=(s=this._def).errorMap)===null||n===void 0?void 0:n.call(s,t,r).message)!==null&&a!==void 0?a:r.defaultError;return t.code==="unrecognized_keys"?{message:(c=me.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new xr({...this._def,unknownKeys:"strip"})}passthrough(){return new xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xr({...this._def,catchall:e})}pick(e){let t={};return Be.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new xr({...this._def,shape:()=>t})}omit(e){let t={};return Be.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new xr({...this._def,shape:()=>t})}deepPartial(){return As(this)}partial(e){let t={};return Be.objectKeys(this.shape).forEach(r=>{let s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new xr({...this._def,shape:()=>t})}required(e){let t={};return Be.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof Nr;)n=n._def.innerType;t[r]=n}}),new xr({...this._def,shape:()=>t})}keyof(){return c0(Be.objectKeys(this.shape))}};ar.create=(i,e)=>new ar({shape:()=>i,unknownKeys:"strip",catchall:ei.create(),typeName:ye.ZodObject,...Se(e)});ar.strictCreate=(i,e)=>new ar({shape:()=>i,unknownKeys:"strict",catchall:ei.create(),typeName:ye.ZodObject,...Se(e)});ar.lazycreate=(i,e)=>new ar({shape:i,unknownKeys:"strip",catchall:ei.create(),typeName:ye.ZodObject,...Se(e)});var Jn=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t=this._def.options;function r(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return e.common.issues.push(...a.ctx.common.issues),a.result;let n=s.map(a=>new br(a.ctx.common.issues));return ce(e,{code:re.invalid_union,unionErrors:n}),_e}if(e.common.async)return Promise.all(t.map(async s=>{let n={...e,common:{...e.common,issues:[]},parent:null};return{result:await s._parseAsync({data:e.data,path:e.path,parent:n}),ctx:n}})).then(r);{let s,n=[];for(let c of t){let l={...e,common:{...e.common,issues:[]},parent:null},o=c._parseSync({data:e.data,path:e.path,parent:l});if(o.status==="valid")return o;o.status==="dirty"&&!s&&(s={result:o,ctx:l}),l.common.issues.length&&n.push(l.common.issues)}if(s)return e.common.issues.push(...s.ctx.common.issues),s.result;let a=n.map(c=>new br(c));return ce(e,{code:re.invalid_union,unionErrors:a}),_e}}get options(){return this._def.options}};Jn.create=(i,e)=>new Jn({options:i,typeName:ye.ZodUnion,...Se(e)});var Jr=i=>i instanceof ta?Jr(i.schema):i instanceof Er?Jr(i.innerType()):i instanceof ra?[i.value]:i instanceof la?i.options:i instanceof ia?Be.objectValues(i.enum):i instanceof sa?Jr(i._def.innerType):i instanceof Qn?[void 0]:i instanceof Xn?[null]:i instanceof Nr?[void 0,...Jr(i.unwrap())]:i instanceof Ti?[null,...Jr(i.unwrap())]:i instanceof xp||i instanceof aa?Jr(i.unwrap()):i instanceof na?Jr(i._def.innerType):[],i0=class s0 extends Te{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==fe.object)return ce(t,{code:re.invalid_type,expected:fe.object,received:t.parsedType}),_e;let r=this.discriminator,s=t.data[r],n=this.optionsMap.get(s);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(ce(t,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),_e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let s=new Map;for(let n of t){let a=Jr(n.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let c of a){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,n)}}return new s0({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Se(r)})}};function up(i,e){let t=Ci(i),r=Ci(e);if(i===e)return{valid:!0,data:i};if(t===fe.object&&r===fe.object){let s=Be.objectKeys(e),n=Be.objectKeys(i).filter(c=>s.indexOf(c)!==-1),a={...i,...e};for(let c of n){let l=up(i[c],e[c]);if(!l.valid)return{valid:!1};a[c]=l.data}return{valid:!0,data:a}}else if(t===fe.array&&r===fe.array){if(i.length!==e.length)return{valid:!1};let s=[];for(let n=0;n<i.length;n++){let a=i[n],c=e[n],l=up(a,c);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===fe.date&&r===fe.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}var ea=class extends Te{_parse(i){let{status:e,ctx:t}=this._processInputParams(i),r=(s,n)=>{if(ap(s)||ap(n))return _e;let a=up(s.value,n.value);return a.valid?((op(s)||op(n))&&e.dirty(),{status:e.value,value:a.data}):(ce(t,{code:re.invalid_intersection_types}),_e)};return t.common.async?Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([s,n])=>r(s,n)):r(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}};ea.create=(i,e,t)=>new ea({left:i,right:e,typeName:ye.ZodIntersection,...Se(t)});var wi=class n0 extends Te{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.array)return ce(r,{code:re.invalid_type,expected:fe.array,received:r.parsedType}),_e;if(r.data.length<this._def.items.length)return ce(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((a,c)=>{let l=this._def.items[c]||this._def.rest;return l?l._parse(new Br(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(n).then(a=>qt.mergeArray(t,a)):qt.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new n0({...this._def,rest:e})}};wi.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wi({items:i,typeName:ye.ZodTuple,rest:null,...Se(e)})};var a0=class pp extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.object)return ce(r,{code:re.invalid_type,expected:fe.object,received:r.parsedType}),_e;let s=[],n=this._def.keyType,a=this._def.valueType;for(let c in r.data)s.push({key:n._parse(new Br(r,c,r.path,c)),value:a._parse(new Br(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?qt.mergeObjectAsync(t,s):qt.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Te?new pp({keyType:e,valueType:t,typeName:ye.ZodRecord,...Se(r)}):new pp({keyType:Ns.create(),valueType:e,typeName:ye.ZodRecord,...Se(t)})}},Xo=class extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){let{status:e,ctx:t}=this._processInputParams(i);if(t.parsedType!==fe.map)return ce(t,{code:re.invalid_type,expected:fe.map,received:t.parsedType}),_e;let r=this._def.keyType,s=this._def.valueType,n=[...t.data.entries()].map(([a,c],l)=>({key:r._parse(new Br(t,a,t.path,[l,"key"])),value:s._parse(new Br(t,c,t.path,[l,"value"]))}));if(t.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of n){let l=await c.key,o=await c.value;if(l.status==="aborted"||o.status==="aborted")return _e;(l.status==="dirty"||o.status==="dirty")&&e.dirty(),a.set(l.value,o.value)}return{status:e.value,value:a}})}else{let a=new Map;for(let c of n){let l=c.key,o=c.value;if(l.status==="aborted"||o.status==="aborted")return _e;(l.status==="dirty"||o.status==="dirty")&&e.dirty(),a.set(l.value,o.value)}return{status:e.value,value:a}}}};Xo.create=(i,e,t)=>new Xo({valueType:e,keyType:i,typeName:ye.ZodMap,...Se(t)});var Jo=class fp extends Te{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.set)return ce(r,{code:re.invalid_type,expected:fe.set,received:r.parsedType}),_e;let s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ce(r,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ce(r,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());let n=this._def.valueType;function a(l){let o=new Set;for(let d of l){if(d.status==="aborted")return _e;d.status==="dirty"&&t.dirty(),o.add(d.value)}return{status:t.value,value:o}}let c=[...r.data.values()].map((l,o)=>n._parse(new Br(r,l,r.path,o)));return r.common.async?Promise.all(c).then(l=>a(l)):a(c)}min(e,t){return new fp({...this._def,minSize:{value:e,message:me.toString(t)}})}max(e,t){return new fp({...this._def,maxSize:{value:e,message:me.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Jo.create=(i,e)=>new Jo({valueType:i,minSize:null,maxSize:null,typeName:ye.ZodSet,...Se(e)});var o0=class Go extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==fe.function)return ce(t,{code:re.invalid_type,expected:fe.function,received:t.parsedType}),_e;function r(c,l){return $o({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,zo(),Is].filter(o=>!!o),issueData:{code:re.invalid_arguments,argumentsError:l}})}function s(c,l){return $o({data:c,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,zo(),Is].filter(o=>!!o),issueData:{code:re.invalid_return_type,returnTypeError:l}})}let n={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Os){let c=this;return Ut(async function(...l){let o=new br([]),d=await c._def.args.parseAsync(l,n).catch(A=>{throw o.addIssue(r(l,A)),o}),u=await Reflect.apply(a,this,d);return await c._def.returns._def.type.parseAsync(u,n).catch(A=>{throw o.addIssue(s(u,A)),o})})}else{let c=this;return Ut(function(...l){let o=c._def.args.safeParse(l,n);if(!o.success)throw new br([r(l,o.error)]);let d=Reflect.apply(a,this,o.data),u=c._def.returns.safeParse(d,n);if(!u.success)throw new br([s(d,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Go({...this._def,args:wi.create(e).rest(Wi.create())})}returns(e){return new Go({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Go({args:e||wi.create([]).rest(Wi.create()),returns:t||Wi.create(),typeName:ye.ZodFunction,...Se(r)})}},ta=class extends Te{get schema(){return this._def.getter()}_parse(i){let{ctx:e}=this._processInputParams(i);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};ta.create=(i,e)=>new ta({getter:i,typeName:ye.ZodLazy,...Se(e)});var ra=class extends Te{_parse(i){if(i.data!==this._def.value){let e=this._getOrReturnCtx(i);return ce(e,{received:e.data,code:re.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:i.data}}get value(){return this._def.value}};ra.create=(i,e)=>new ra({value:i,typeName:ye.ZodLiteral,...Se(e)});function c0(i,e){return new la({values:i,typeName:ye.ZodEnum,...Se(e)})}var la=class dp extends Te{constructor(){super(...arguments),jn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),r=this._def.values;return ce(t,{expected:Be.joinValues(r),received:t.parsedType,code:re.invalid_type}),_e}if(Yo(this,jn,"f")||Xy(this,jn,new Set(this._def.values),"f"),!Yo(this,jn,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return ce(t,{received:t.data,code:re.invalid_enum_value,options:r}),_e}return Ut(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return dp.create(e,{...this._def,...t})}exclude(e,t=this._def){return dp.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}};jn=new WeakMap;la.create=c0;var ia=class extends Te{constructor(){super(...arguments),Hn.set(this,void 0)}_parse(i){let e=Be.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(i);if(t.parsedType!==fe.string&&t.parsedType!==fe.number){let r=Be.objectValues(e);return ce(t,{expected:Be.joinValues(r),received:t.parsedType,code:re.invalid_type}),_e}if(Yo(this,Hn,"f")||Xy(this,Hn,new Set(Be.getValidEnumValues(this._def.values)),"f"),!Yo(this,Hn,"f").has(i.data)){let r=Be.objectValues(e);return ce(t,{received:t.data,code:re.invalid_enum_value,options:r}),_e}return Ut(i.data)}get enum(){return this._def.values}};Hn=new WeakMap;ia.create=(i,e)=>new ia({values:i,typeName:ye.ZodNativeEnum,...Se(e)});var Os=class extends Te{unwrap(){return this._def.type}_parse(i){let{ctx:e}=this._processInputParams(i);if(e.parsedType!==fe.promise&&e.common.async===!1)return ce(e,{code:re.invalid_type,expected:fe.promise,received:e.parsedType}),_e;let t=e.parsedType===fe.promise?e.data:Promise.resolve(e.data);return Ut(t.then(r=>this._def.type.parseAsync(r,{path:e.path,errorMap:e.common.contextualErrorMap})))}};Os.create=(i,e)=>new Os({type:i,typeName:ye.ZodPromise,...Se(e)});var Er=class extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){let{status:e,ctx:t}=this._processInputParams(i),r=this._def.effect||null,s={addIssue:n=>{ce(t,n),n.fatal?e.abort():e.dirty()},get path(){return t.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){let n=r.transform(t.data,s);if(t.common.async)return Promise.resolve(n).then(async a=>{if(e.value==="aborted")return _e;let c=await this._def.schema._parseAsync({data:a,path:t.path,parent:t});return c.status==="aborted"?_e:c.status==="dirty"||e.value==="dirty"?ks(c.value):c});{if(e.value==="aborted")return _e;let a=this._def.schema._parseSync({data:n,path:t.path,parent:t});return a.status==="aborted"?_e:a.status==="dirty"||e.value==="dirty"?ks(a.value):a}}if(r.type==="refinement"){let n=a=>{let c=r.refinement(a,s);if(t.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(t.common.async===!1){let a=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});return a.status==="aborted"?_e:(a.status==="dirty"&&e.dirty(),n(a.value),{status:e.value,value:a.value})}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(a=>a.status==="aborted"?_e:(a.status==="dirty"&&e.dirty(),n(a.value).then(()=>({status:e.value,value:a.value}))))}if(r.type==="transform")if(t.common.async===!1){let n=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!Wn(n))return n;let a=r.transform(n.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:a}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(n=>Wn(n)?Promise.resolve(r.transform(n.value,s)).then(a=>({status:e.value,value:a})):n);Be.assertNever(r)}};Er.create=(i,e,t)=>new Er({schema:i,typeName:ye.ZodEffects,effect:e,...Se(t)});Er.createWithPreprocess=(i,e,t)=>new Er({schema:e,effect:{type:"preprocess",transform:i},typeName:ye.ZodEffects,...Se(t)});var Nr=class extends Te{_parse(i){return this._getType(i)===fe.undefined?Ut(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}};Nr.create=(i,e)=>new Nr({innerType:i,typeName:ye.ZodOptional,...Se(e)});var Ti=class extends Te{_parse(i){return this._getType(i)===fe.null?Ut(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}};Ti.create=(i,e)=>new Ti({innerType:i,typeName:ye.ZodNullable,...Se(e)});var sa=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t=e.data;return e.parsedType===fe.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};sa.create=(i,e)=>new sa({innerType:i,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});var na=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t={...e,common:{...e.common,issues:[]}},r=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});return Gn(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new br(t.common.issues)},input:t.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new br(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}};na.create=(i,e)=>new na({innerType:i,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});var ec=class extends Te{_parse(i){if(this._getType(i)!==fe.nan){let t=this._getOrReturnCtx(i);return ce(t,{code:re.invalid_type,expected:fe.nan,received:t.parsedType}),_e}return{status:"valid",value:i.data}}};ec.create=i=>new ec({typeName:ye.ZodNaN,...Se(i)});var j2=Symbol("zod_brand"),xp=class extends Te{_parse(i){let{ctx:e}=this._processInputParams(i),t=e.data;return this._def.type._parse({data:t,path:e.path,parent:e})}unwrap(){return this._def.type}},bp=class l0 extends Te{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?_e:n.status==="dirty"?(t.dirty(),ks(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{let s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?_e:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new l0({in:e,out:t,typeName:ye.ZodPipeline})}},aa=class extends Te{_parse(i){let e=this._def.innerType._parse(i),t=r=>(Wn(r)&&(r.value=Object.freeze(r.value)),r);return Gn(e)?e.then(r=>t(r)):t(e)}unwrap(){return this._def.innerType}};aa.create=(i,e)=>new aa({innerType:i,typeName:ye.ZodReadonly,...Se(e)});function u0(i,e={},t){return i?Bs.create().superRefine((r,s)=>{var n,a;if(!i(r)){let c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(n=c.fatal)!==null&&n!==void 0?n:t)!==null&&a!==void 0?a:!0,o=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...o,fatal:l})}}):Bs.create()}var H2={object:ar.lazycreate},ye;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(ye||(ye={}));var K2=(i,e={message:`Input not instance of ${i.name}`})=>u0(t=>t instanceof i,e),p0=Ns.create,f0=zn.create,W2=ec.create,G2=$n.create,d0=Yn.create,z2=Zn.create,$2=Zo.create,Y2=Qn.create,Z2=Xn.create,Q2=Bs.create,X2=Wi.create,J2=ei.create,eA=Qo.create,tA=Gi.create,rA=ar.create,iA=ar.strictCreate,sA=Jn.create,nA=i0.create,aA=ea.create,oA=wi.create,cA=a0.create,lA=Xo.create,uA=Jo.create,pA=o0.create,fA=ta.create,dA=ra.create,hA=la.create,mA=ia.create,gA=Os.create,Oy=Er.create,vA=Nr.create,yA=Ti.create,_A=Er.createWithPreprocess,xA=bp.create,bA=()=>p0().optional(),EA=()=>f0().optional(),SA=()=>d0().optional(),CA={string:i=>Ns.create({...i,coerce:!0}),number:i=>zn.create({...i,coerce:!0}),boolean:i=>Yn.create({...i,coerce:!0}),bigint:i=>$n.create({...i,coerce:!0}),date:i=>Zn.create({...i,coerce:!0})},wA=_e,ot=Object.freeze({__proto__:null,defaultErrorMap:Is,setErrorMap:w2,getErrorMap:zo,makeIssue:$o,EMPTY_PATH:T2,addIssueToContext:ce,ParseStatus:qt,INVALID:_e,DIRTY:ks,OK:Ut,isAborted:ap,isDirty:op,isValid:Wn,isAsync:Gn,get util(){return Be},get objectUtil(){return np},ZodParsedType:fe,getParsedType:Ci,ZodType:Te,datetimeRegex:t0,ZodString:Ns,ZodNumber:zn,ZodBigInt:$n,ZodBoolean:Yn,ZodDate:Zn,ZodSymbol:Zo,ZodUndefined:Qn,ZodNull:Xn,ZodAny:Bs,ZodUnknown:Wi,ZodNever:ei,ZodVoid:Qo,ZodArray:Gi,ZodObject:ar,ZodUnion:Jn,ZodDiscriminatedUnion:i0,ZodIntersection:ea,ZodTuple:wi,ZodRecord:a0,ZodMap:Xo,ZodSet:Jo,ZodFunction:o0,ZodLazy:ta,ZodLiteral:ra,ZodEnum:la,ZodNativeEnum:ia,ZodPromise:Os,ZodEffects:Er,ZodTransformer:Er,ZodOptional:Nr,ZodNullable:Ti,ZodDefault:sa,ZodCatch:na,ZodNaN:ec,BRAND:j2,ZodBranded:xp,ZodPipeline:bp,ZodReadonly:aa,custom:u0,Schema:Te,ZodSchema:Te,late:H2,get ZodFirstPartyTypeKind(){return ye},coerce:CA,any:Q2,array:tA,bigint:G2,boolean:d0,date:z2,discriminatedUnion:nA,effect:Oy,enum:hA,function:pA,instanceof:K2,intersection:aA,lazy:fA,literal:dA,map:lA,nan:W2,nativeEnum:mA,never:J2,null:Z2,nullable:yA,number:f0,object:rA,oboolean:SA,onumber:EA,optional:vA,ostring:bA,pipeline:xA,preprocess:_A,promise:gA,record:cA,set:uA,strictObject:iA,string:p0,symbol:$2,transformer:Oy,tuple:oA,undefined:Y2,union:sA,unknown:X2,void:eA,NEVER:wA,ZodIssueCode:re,quotelessJson:C2,ZodError:br});function AA(){let i=TA.env[S2];return i?JSON.parse(i):{}}var kA=ot.object({biLoggerBaseUrl:ot.string().url().optional(),devEditorBaseUrl:ot.string().url().optional(),inkDebug:ot.boolean().optional(),minRetryTimeout:ot.number().optional(),sentryDsn:ot.string().optional(),userBrowserTestEndpoint:ot.string().url().optional(),dataDir:ot.string().optional(),wixCliDependencyVersion:ot.string().optional(),wixCliAppDependencyVersion:ot.string().optional(),appInstallationPollInterval:ot.number().optional(),disableTTY:ot.boolean().optional(),waitForLoginInterval:ot.number().optional(),registryUrl:ot.string().optional(),fsCacheDir:ot.string().optional(),localTunnel:ot.boolean().optional(),miniflareInspectorPort:ot.number().optional(),customElementsCreationDelay:ot.number().optional(),sdkAuthServerBaseUrl:ot.string().optional()});function RA(){return kA.parse(AA())}function h0(){return RA().dataDir??b2(E2(),".wix")}async function IA(){await x2(h0(),{recursive:!0})}var PA="wix-cli.pem",m0=30,DA=[{name:"commonName",value:"localhost"},{name:"countryName",value:"US"},{shortName:"ST",value:"Virginia"},{name:"organizationName",value:"Dev"},{shortName:"OU",value:"Dev"}],UA=async()=>{let i=_2.default.generate(DA,{days:m0});return i.private+i.cert},MA=async i=>{let e=await OA(i).then(t=>t).catch(()=>null);return!e||Date.now()-e.ctime.valueOf()>m0*24*60*60*1e3},FA=async()=>{let i=h0(),e=LA.join(i,PA);if(!await MA(e)){let s=await NA(e,{encoding:"utf-8"});return{cert:s,key:s}}let r=await UA();return await IA(),await BA(e,r,{encoding:"utf-8"}),{cert:r,key:r}};function g0({https:i}={}){let e,t=!1,r,s,n,a;return{async serve(c,l,o=[]){let d;if(i){let u=(A,_)=>{let h=l(e);_.writeHead(200),_.end(VA(h))},v=await FA();d=v2({...v},u)}else d=y2();return r=new jg(d,{maxHttpBufferSize:2e9,cors:{origin:[/wix\.com$/,/editorx\.com$/],methods:["GET","POST"]}}),r.on("connection",u=>{u.on("syncDevEditorChanges",async(v,A)=>{let _;try{await n(v),_={type:"OK"}}catch(h){_={type:"ERROR",payload:(0,Rs.serializeError)(h instanceof Error?h:new Error(JSON.stringify(h)))}}A(_)}),u.on("syncWmlChange",async(v,A)=>{let _;try{await a(v),_={type:"OK"}}catch(h){_={type:"ERROR",payload:(0,Rs.serializeError)(h instanceof Error?h:new Error(JSON.stringify(h)))}}A(_)}),u.on("disconnect",s),u.emit("initEditor",{gridAppId:c,currentWmlDescriptors:o})}),new Promise((u,v)=>{try{d.listen(0,()=>{t=!0,e=d.address().port,u({port:e})})}catch(A){v(A)}})},on(c,l){c==="disconnected"?s=l:c==="syncDevEditorChanges"?n=l:c==="wmlChange"&&(a=l)},async createRevision(){let c=await r?.fetchSockets();return new Promise((l,o)=>{c?.at(0)?.emit("createRevision",d=>d.type==="OK"?l(d.payload):o((0,Rs.deserializeError)(d.payload)))})},async syncWmlChange(c){let l=await r?.fetchSockets();if(l?.length!==0)return new Promise((o,d)=>{l?.at(0)?.emit("syncWmlChange",c,u=>u.type==="OK"?o():d((0,Rs.deserializeError)(u.payload)))})},close(){return new Promise((c,l)=>{!r||!t?c():r.sockets.timeout(1e3).emit("disconnectedUnrecoverable",()=>{r?.close(o=>{t=!1,o?l(o):c()})})})}}}function VA(i){return`<!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8" />
          <title>Wix CLI Dev Server</title>
        </head>
        <body>
          Wix CLI dev server is up and running.
          You are being redirected to the Velo dev editor...
        </body>
        <script type="text/JavaScript">
          function redirectToDevEditor() {
            window.location.replace("${i}");
          }
          setTimeout(function() {
              redirectToDevEditor();
          }, 1500);
        </script>
    </html>`}U();import Ps from"node:process";var sc=new Set,Ep=new Set,y0=!1,_0=!1;async function ua(i,e,t){if(y0)return;y0=!0,sc.size>0&&e&&console.error(["SYNCHRONOUS TERMINATION NOTICE:","When explicitly exiting the process via process.exit or via a parent process,","asynchronous tasks in your exitHooks will not run. Either remove these tasks,","use gracefulExit() instead of process.exit(), or ensure your parent process","sends a SIGINT to the process running this code."].join(" "));let r=128+t,s=(l=!1)=>{(l===!0||i===!0)&&Ps.exit(r)};for(let l of Ep)l(r);if(e){s();return}let n=[],a=0;for(let[l,o]of sc)a=Math.max(a,o),n.push(Promise.resolve(l(r)));let c=setTimeout(()=>{s(!0)},a);await Promise.all(n),clearTimeout(c),s()}function qA(i){let{onExit:e,minimumWait:t,isSynchronous:r}=i,s=[e,t];return r?Ep.add(e):sc.add(s),_0||(_0=!0,Ps.once("beforeExit",ua.bind(void 0,!0,!1,-128)),Ps.once("SIGINT",ua.bind(void 0,!0,!1,2)),Ps.once("SIGTERM",ua.bind(void 0,!0,!1,15)),Ps.once("exit",ua.bind(void 0,!1,!0,0)),Ps.on("message",n=>{n==="shutdown"&&ua(!0,!0,-128)})),()=>{r?Ep.delete(e):sc.delete(s)}}function x0(i,e={}){if(typeof i!="function")throw new TypeError("onExit must be a function");if(!(typeof e.minimumWait=="number"&&e.minimumWait>0))throw new TypeError("minimumWait must be set to a positive numeric value");return qA({onExit:i,minimumWait:e.minimumWait,isSynchronous:!1})}var K1=Ve(px(),1);import{cwd as vN}from"node:process";U();var jA="https://wix.com/editor/";function b0(){return Tf().devEditorBaseUrl??jA}U();U();function nc(i,e=[]){if(!e.length)return;let t=Rf(i);if(!t)return;let r=t.response?.data?.details?.validationError?.fieldViolations?.filter(n=>n.violatedRule==="MAX_LENGTH");if(!r?.length)return;let s=HA(r);throw new rr({code:ir.GridAppFilesMaxLengthExcceeded({maxSizeViolationsData:s,filePaths:e.map(n=>n.path??"[unknown file path]")})})}function HA(i){let e=/\[(?<fileIndex>\d+)\].content/,t=/has size (?<receivedSize>\d+), expected (?<expectedSize>\d+) or less/,r={expectedSize:void 0,files:[]};for(let s of i){let n=e.exec(s.field),a=t.exec(s.description);if(!(n?.groups?.fileIndex&&a?.groups?.receivedSize&&a.groups.expectedSize))return null;r.expectedSize=r.expectedSize??Math.trunc(parseInt(a.groups.expectedSize,10)/1e3),r.files.push({receivedSize:Math.trunc(parseInt(a.groups.receivedSize,10)/1e3),fileIndex:parseInt(n.groups.fileIndex,10)})}return r}async function KA(i,e){let t;try{t=(await es({type:"code",authState:e.authState},Hf(i))).data.app}catch(r){throw nc(r,i.content?.files),r}if(!t?.id)throw new rr({code:ir.InvalidCreateAppResponse(),info:{app:t}});return t.id}async function E0(i,e){let t=await Gf(i);return KA({app:{mutable:!0,appType:Kf.VELO_ISOLATED},content:t},e)}U();import{readFile as nN}from"node:fs/promises";import{join as aN}from"node:path";U();var WA={},GA={};function zA(i){var e={"manage._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"create.editorx":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}],"code._base_domain_":[{srcPath:"/_api/wix-code-ide-server-ng",destPath:""}]};return Bf(Object.assign(i,{domainToMappings:e}))}function S0(i){var e=Nc(WA,{}),t=e.toJSON,r=e.fromJSON,s=Nc(GA,{}).fromJSON;function n(a){var c=a.host,l=t(i),o={entityFqdn:"wix.velo.ide.v1.gridapp_filestructure",method:"PATCH",methodFqn:"wix.velo.ide.v1.IdeService.UpdateFiles",url:zA({protoPath:"/v1/apps/{gridAppId}/files",data:l,host:c}),data:l,transformResponse:s};return o}return n.fromReq=r,n.__isAmbassador=!0,n}U();var C0;(function(i){i.FILE="FILE",i.DIRECTORY="DIRECTORY"})(C0||(C0={}));var ac;(function(i){i.UNKNOWN_GRID_APP_LAYOUT="UNKNOWN_GRID_APP_LAYOUT",i.ONLINE="ONLINE",i.GITHUB="GITHUB",i.GITHUB_BLOCKS="GITHUB_BLOCKS",i.WIX_IDE="WIX_IDE"})(ac||(ac={}));var w0;(function(i){i.UNKNOWN="UNKNOWN",i.UPDATE="UPDATE",i.CREATE="CREATE",i.MOVE="MOVE",i.OVERWRITE="OVERWRITE",i.COPY="COPY"})(w0||(w0={}));var T0;(function(i){i.UNKNOWN="UNKNOWN",i.ANONYMOUS_VISITOR="ANONYMOUS_VISITOR",i.MEMBER="MEMBER",i.WIX_USER="WIX_USER",i.APP="APP"})(T0||(T0={}));var C1=Ve(xf(),1),w1=Ve(S1(),1);var T1=Ve(Oc(),1);var oN=1e3,cN=i=>i.startsWith("src/pages")?"public":i.startsWith("src/backend")?"backend":"other";function A1(i,e,t,r,s){let{projectFolder:n}=i,a=Of(1),c=(0,C1.watch)(wa(n),{disableGlobbing:!0,cwd:n,ignoreInitial:!0}).on("all",(0,w1.default)(async l=>{await a(async()=>{let o=r.logSyncingLocalCode(),{added:d,changed:u,removed:v}=lN(l),A=Array.from(d.values()).map(E=>({path:E,type:"create"})),_=Array.from(u.values()).map(E=>({path:E,type:"update"})),h=Array.from(v.values()).map(E=>({path:E,type:"delete"}));A.concat(_).concat(h).forEach(E=>{s.file({model:i,action:E.type,path:E.path,oldPath:"",sectionName:cN(E.path)}),E.type==="update"&&s.codeChanged(i,E.path)});try{await uN({filesToUpdate:await Promise.all(A.concat(_).map(async w=>({path:(0,T1.default)(w.path),content:await nN(aN(n,w.path),"utf8")}))),removedArray:h,gridAppId:e,authState:t.authState});let E=o.success();s.messageDisplayed({message:E,model:i}),s.readyForReloadAfterCodeChanged(i)}catch(E){o.fail();let w=new rr({code:ir.GridAppFailedToUpdateFiles(),cause:E,info:{added:d,changed:u,removed:v}});t.onError(w)}})},oN)).on("error",l=>{let o=new rr({code:ir.FailedToWatchFiles({cause:l}),cause:l});t.onError(o)});return{close:()=>c.close()}}function lN(i){return i.reduce((e,[t,r])=>{if(t==="add")e.added.add(r);else if(t==="change")e.changed.add(r);else if(t==="unlink")e.added.delete(r),e.changed.delete(r),e.removed.add(r);else if(t==="unlinkDir"){let s=r.endsWith("/")?r:`${r}/`;e.added.forEach(n=>{n.startsWith(s)&&e.added.delete(n)}),e.changed.forEach(n=>{n.startsWith(s)&&e.changed.delete(n)}),e.removed.add(r)}return e},{added:new Set,changed:new Set,removed:new Set})}async function uN({filesToUpdate:i,removedArray:e,gridAppId:t,authState:r}){try{await es({type:"code",authState:r},S0({gridAppId:t,layout:ac.GITHUB,filesToUpdate:i,ignoreForbiddenPaths:!0,pathsToDelete:e.map(s=>s.path)}))}catch(s){throw nc(s,i),s}}U();import k1 from"node:readline";import{stdin as si}from"node:process";var kc=class{actions=new Map;watchExitProcess(){return new Promise(e=>{this.on("c",t=>{t.ctrl&&e()})})}on(e,t){this.actions.set(e,t)}watch(){let e=k1.createInterface(si);return k1.emitKeypressEvents(si,e),si.isTTY&&(si.setRawMode(!0),si.setEncoding("utf8")),si.on("keypress",this.handleKeyPress),{ctrlCPromise:this.watchExitProcess()}}unwatch(){si.isTTY&&si.setRawMode(!1),si.off("keypress",this.handleKeyPress),this.actions.clear()}handleKeyPress=(e,t)=>{this.actions.get(t.name)?.(t)}};U();import{randomUUID as R1}from"node:crypto";var I1=i=>({file:({model:e,action:t,path:r,sectionName:s,oldPath:n})=>{i.report(Lf({action:t,path:r,sectionName:s,oldPath:n,siteRevision:+e.revision}))},codeChanged:(e,t)=>{i.report(Pf({fileName:t,siteRevision:+e.revision}))},readyForReloadAfterCodeChanged:e=>{i.report(Mf({siteRevision:+e.revision}))},messageDisplayed:({message:e,model:t})=>{i.report(Df({message:e,messageId:R1(),siteRevision:+t.revision}))},userResponse:({model:e,action:t,message:r})=>{i.report(Uf({action:t,message:r,messageId:R1(),siteRevision:+e.revision}))}});U();import{rm as dN}from"node:fs/promises";U();import{readdir as fN}from"node:fs/promises";U();import{join as Rc}from"node:path";import{rm as N1,rename as pN}from"node:fs/promises";async function B1(i,e){await Promise.all(e.map(t=>!t.pageId?.path||!t.content?Promise.resolve():Nf(Rc(i,t.pageId.path),t.content)))}async function O1(i,e){await Promise.all(e.map(async t=>{if(!t.sourcePath?.path||!t.targetPath?.path)return Promise.resolve();let r=Rc(i,t.sourcePath.path),s=Rc(i,t.targetPath.path);return await Ta(s)?N1(r,{force:!0}):pN(r,s)}))}async function L1(i,e){await Promise.all(e.map(t=>t.path?N1(Rc(i,t.path),{force:!0}):Promise.resolve()))}async function P1(i,e){let t=wf(i.projectFolder);if(!await Ta(t))throw new rr({code:ir.NoPagesDirectoryFound({srcDir:wa(i.projectFolder)})});let r={layout:Wf.GITHUB,sourcePagesPaths:await fN(t),targetRevision:i.revision},{data:s}=await es({authState:e.authState,type:"code"},jf(r)).catch(n=>{throw new rr({code:ir.FailedToGetPagesDiff(),cause:n,info:{...r}})});await Promise.all([B1(i.projectFolder,s.pagesDiff?.created??[]),O1(i.projectFolder,s.pagesDiff?.renamed??[]),L1(i.projectFolder,s.pagesDiff?.deleted??[])])}async function bf(i,e,t){let r=t.logSyncingTypesToRevision(i.revision);try{await Yf(i,{authState:e.authState}),r.success()}catch(n){Ws(Ks(i.projectFolder),n),r.fail(),await dN(Cf(i.projectFolder),{recursive:!0,force:!0}).catch(a=>{Ws(Ks(i.projectFolder),a),t.logRecoverableFailureToRemoveTypesDir(a)})}let s=t.logSyncingPagesToRevision(i.revision);try{await P1(i,{authState:e.authState}),s.success()}catch(n){throw s.fail(),n}}U();import Ai from"node:fs";import js from"node:path";U();var D1=new Map;function U1(i){D1.set(i,Date.now())}function M1(i){return D1.get(i)}U();var qs="wml";async function hN(i){try{return await Ai.promises.readFile(i,"utf-8")}catch{return null}}async function F1(i,e){let t=js.join(i,qs);await Ai.promises.mkdir(t,{recursive:!0});let r=await Promise.all(e.map(async n=>{let a=js.join(t,n.pagePointer.id);await Ai.promises.mkdir(a,{recursive:!0});let c=Object.keys(n.data).map(async l=>{let o=js.join(a,l);return await hN(o)===n.data[l]?{file:o,result:"skip"}:(await Ai.promises.writeFile(o,n.data[l],"utf-8"),U1(o),{file:o,result:"write"})});return Promise.all(c)}));return Array.prototype.concat.apply([],r).reduce((n,a)=>(n[a.result].push(a.file),n),{write:[],skip:[]})}async function mN(i){try{return await Ai.promises.access(i),!0}catch(e){if(e instanceof Error&&e.code==="ENOENT")return!1;throw e}}async function V1(i){let e=js.join(i,qs);if(!await mN(e))return[];let r=(await Ai.promises.readdir(e)).map(async s=>Ef(i,s));return Promise.all(r)}async function Ef(i,e){let t=js.join(i,qs,e),s=(await Ai.promises.readdir(t)).map(async c=>{let l=js.join(t,c),o=await Ai.promises.readFile(l,"utf-8");return{[c]:o}}),n=await Promise.all(s);return{data:Object.assign({},...n),pagePointer:{id:e,type:"DESKTOP"}}}U();var j1=Ve(xf(),1);import q1 from"node:path";function H1(i,e){let t=q1.join(i,qs),r=j1.default.watch(t,{persistent:!0,awaitWriteFinish:!0,ignoreInitial:!0}),s=a=>a.split(q1.sep).at(-2),n=(a,c)=>{let l=s(a);l&&(Math.abs(c.mtimeMs-(M1(a)??0))<100||e(l))};return r.on("change",n),{close:()=>r.close()}}async function yN({biLogger:i,errorReporter:e},{https:t=!1,experimentalWml:r=!1}){let s=await Vf(vN()),n=await $f({metaSiteId:s.metaSiteId,biLogger:i,errorReporter:e}),a=Ff(),c=zf({t:a}),l=I1(i),o=g0({https:t}),d;try{d=await E0(s.projectFolder,{authState:n})}catch(S){let p=kf(S)&&S.response?.data?.message;throw new rr({code:ir.FailedToCreateGridApp({error:p}),cause:S})}r||await bf(s,{authState:n},c);let{close:u}=A1(s,d,{authState:n,onError(S){c.logNewLine(),e.reportError(S),Ws(Ks(s.projectFolder),S),Af((0,K1.createElement)(If,{error:S}))}},c,l),v=S=>{let p=c.logNoOpenedTab(S);l.messageDisplayed({model:s,message:p})},A=async S=>{if(S!==s.revision){let p={...s,revision:S};await qf(p);let b=c.logUpdatedLocalCodeToRevision({revision:p.revision});l.messageDisplayed({message:b,model:s}),r||await bf(p,{authState:n},c),s=p}},_=async S=>{c.logWmlChangesRecieved(S.map(p=>p.pagePointer.id)),setImmediate(async()=>{let p=await F1(s.projectFolder,S);c.logWmlWriteResult(p)})},h=async S=>{l.userResponse({action:"Browser opened",message:"Opening the Local Editor",model:s});let p=E(S);t?await Bc(new URL(`https://localhost:${S}`).href):await Bc(p)},E=S=>{let p=new URLSearchParams({localPort:S+"",secureSocket:t?"true":"false",experimentalImportExport:r?"true":"false"});return new URL(s.metaSiteId+"?"+p.toString(),b0()).href},w;try{let S=r?await V1(s.projectFolder):[],{port:p}=await o.serve(d,E,S),b=E(p);o.on("disconnected",()=>v(b)),o.on("syncDevEditorChanges",A);let C;if(r){o.on("wmlChange",_);let{close:B}=H1(s.projectFolder,async x=>{c.logWmlLocalFilesChangedForPage(x);let m=await Ef(s.projectFolder,x);await o.syncWmlChange([m])});C=B}w=new kc,c.logOpeningBrowser(t),await h(p);let{ctrlCPromise:k}=w.watch();w.on("e",()=>h(p)),x0(o.close,{minimumWait:500}),await k,C&&await C()}finally{w?.unwatch(),await Promise.all([o.close(),u()])}}export{yN as dev};
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

accepts/index.js:
  (*!
   * accepts
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

base64id/lib/base64id.js:
  (*!
   * base64id v0.1.0
   *)

engine.io/build/parser-v3/utf8.js:
  (*! https://mths.be/utf8js v2.1.2 by @mathias *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

vary/index.js:
  (*!
   * vary
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)

xmlhttprequest-ssl/lib/XMLHttpRequest.js:
  (**
   * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
   *
   * This can be used with JS designed for browsers to improve reuse of code and
   * allow the use of existing libraries.
   *
   * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
   *
   * @author Dan DeFelippi <dan@driverdan.com>
   * @contributor David Ellis <d.f.ellis@ieee.org>
   * @license MIT
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=dev-HCU2RSK2.js.map