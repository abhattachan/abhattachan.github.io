import { createRequire as _createRequire } from 'node:module';
const require = _createRequire(import.meta.url);
import{$a as ju,$b as Ma,A as Us,Aa as nt,Ab as xt,B as dr,Ba as xo,Bb as Bo,C as Ws,Ca as ha,Cb as Qu,D as En,Da as Wu,Db as Zu,E as Be,Eb as ed,F as $s,Fa as ue,Fb as td,G as zs,Ga as rt,Gb as nd,H as Ze,Ha as Ro,Hb as Uo,I as jt,Ia as kn,Ib as rd,J as Gt,Ja as $u,Jb as od,K as pt,Ka as O,Kb as id,L as qs,La as ot,Lb as Wo,M as js,Ma as zu,Mb as mr,N as Gs,Na as Mo,Nb as sd,O as Vs,Oa as he,Ob as gr,P as Ys,Pa as ma,Pb as ka,Q as et,Qa as ga,Qb as Ca,R as ae,Ra as _a,Rb as ad,S as Vt,Sa as ya,Sb as Ta,T as Xs,U as Ks,Ub as xa,V as Js,Vb as cd,W as wn,Wa as qu,Wb as $o,X as ht,Xa as Ao,Xb as Ra,Y as Qs,Ya as No,Yb as ld,Z as In,Za as q,Zb as _r,_ as mt,_a as ba,_b as ud,a as Os,aa as Zs,ab as Ie,ac as We,b as So,ba as ko,bb as de,bc as zo,c as vo,ca as ea,cb as Oo,cc as qo,d as Ls,e as Tt,ea as Yt,ec as dd,f as Ds,fa as Co,fb as Gu,g as Eo,ga as tt,gb as pr,gc as fd,h as Ps,ha as ta,hb as Sa,hc as pd,i as cr,ib as va,ic as jo,ja as na,jb as Ea,jc as hd,kb as hr,kc as md,l as wo,la as ra,lb as Vu,lc as gd,m as zt,mb as Lo,mc as _d,n as Fs,na as oa,nb as Do,nc as yd,oa as ia,ob as Yu,oc as Kt,p as Io,pa as sa,pb as Xu,pc as Jt,q as ye,qa as fr,qb as Ue,qc as Aa,r as He,ra as aa,rb as Ku,rc as Go,s as qt,sa as To,sb as Po,sc as bd,t as Hs,ta as ca,u as lr,ua as la,ub as Ju,v as ur,va as ua,vb as wa,w as S,wa as da,wb as Fo,x as Bs,xa as fa,xb as Ia,y as le,yb as Xt,z as vn,za as pa,zb as Ho}from"./chunk-CJ3JTOGS.js";import{i as m}from"./chunk-UO4ZAUJK.js";m();m();var C=ye,Vo=0;function Yo(){return Vo>0}function Sd(){Vo++,setTimeout(()=>{Vo--})}function Rt(e,t={},n){if(typeof e!="function")return e;try{let o=e.__sentry_wrapped__;if(o)return o;if(dr(e))return e}catch{return e}let r=function(){let o=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);let i=o.map(s=>Rt(s,t));return e.apply(this,i)}catch(i){throw Sd(),kn(s=>{s.addEventProcessor(a=>(t.mechanism&&(In(a,void 0,void 0),mt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),Xt(i)}),i}};try{for(let o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}Us(r,e),vn(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}m();m();var N=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();function Cn(e,t){let n=Jo(e,t),r={type:t&&t.name,value:kd(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function vd(e,t,n,r){let o=O(),i=o&&o.getOptions().normalizeDepth,s=xd(t),a={__serialized__:ea(t,i)};if(s)return{exception:{values:[Cn(e,s)]},extra:a};let c={exception:{values:[{type:cr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Cd(t,{isUnhandledRejection:r})}]},extra:a};if(n){let l=Jo(e,n);l.length&&(c.exception.values[0].stacktrace={frames:l})}return c}function Xo(e,t){return{exception:{values:[Cn(e,t)]}}}function Jo(e,t){let n=t.stacktrace||t.stack||"",r=wd(t),o=Id(t);try{return e(n,r,o)}catch{}return[]}var Ed=/Minified React error #\d+;/i;function wd(e){return e&&Ed.test(e.message)?1:0}function Id(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function kd(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Qo(e,t,n,r){let o=n&&n.syntheticException||void 0,i=yr(e,t,o,r);return mt(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Yt(i)}function Zo(e,t,n="info",r,o){let i=r&&r.syntheticException||void 0,s=Ko(e,t,i,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Yt(s)}function yr(e,t,n,r,o){let i;if(So(t)&&t.error)return Xo(e,t.error);if(vo(t)||Ls(t)){let s=t;if("stack"in t)i=Xo(e,t);else{let a=s.name||(vo(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=Ko(e,c,n,r),In(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return Os(t)?Xo(e,t):Ps(t)||cr(t)?(i=vd(e,t,n,o),mt(i,{synthetic:!0}),i):(i=Ko(e,t,n,r),In(i,`${t}`,void 0),mt(i,{synthetic:!0}),i)}function Ko(e,t,n,r){let o={};if(r&&n){let i=Jo(e,n);i.length&&(o.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(Ds(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return o.logentry={message:i,params:s},o}return o.message=t,o}function Cd(e,{isUnhandledRejection:t}){let n=Ws(e),r=t?"promise rejection":"exception";return So(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:cr(e)?`Event \`${Td(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Td(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function xd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}m();function ei(e,{metadata:t,tunnel:n,dsn:r}){let o={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Bs(r)}},i=Rd(e);return fr(o,[i])}function Rd(e){return[{type:"user_report"},e]}var Tn=class extends Ta{constructor(t){let n={parentSpanIsAlwaysRootSpan:!0,...t},r=C.SENTRY_SDK_SOURCE||Js();Ma(n,"browser",["browser"],r),super(n),n.sendClientReports&&C.document&&C.document.addEventListener("visibilitychange",()=>{C.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Qo(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Zo(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){N&&S.warn("SDK not enabled, will not capture user feedback.");return}let n=ei(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}};m();m();m();m();var be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;m();m();var Md=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Me=(e,t,n,r)=>{let o,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(o||0),(i||o===void 0)&&(o=t.value,t.delta=i,t.rating=Md(t.value,n),e(t)))}};m();m();var R=ye;m();var Na=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;m();m();var it=()=>R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var gt=()=>{let e=it();return e&&e.activationStart||0};var Ae=(e,t)=>{let n=it(),r="navigate";return n&&(R.document&&R.document.prerendering||gt()>0?r="prerender":R.document&&R.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Na(),navigationType:r}};m();var ke=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};m();var _t=e=>{let t=n=>{(n.type==="pagehide"||R.document&&R.document.visibilityState==="hidden")&&e(n)};R.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};m();var Qt=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};m();m();var xn=-1,Ad=()=>{xn=R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0},br=e=>{R.document.visibilityState==="hidden"&&xn>-1&&(xn=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",br,!0),removeEventListener("prerenderingchange",br,!0))},Nd=()=>{addEventListener("visibilitychange",br,!0),addEventListener("prerenderingchange",br,!0)},yt=()=>(R.document&&xn<0&&(Ad(),Nd()),{get firstHiddenTime(){return xn}});m();var Ye=e=>{R.document&&R.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var Od=[1800,3e3],Oa=(e,t={})=>{Ye(()=>{let n=yt(),r=Ae("FCP"),o,s=ke("paint",a=>{a.forEach(c=>{c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-gt(),0),r.entries.push(c),o(!0)))})});s&&(o=Me(e,r,Od,t.reportAllChanges))})};var Ld=[.1,.25],La=(e,t={})=>{Oa(Qt(()=>{let n=Ae("CLS",0),r,o=0,i=[],s=c=>{c.forEach(l=>{if(!l.hadRecentInput){let d=i[0],u=i[i.length-1];o&&d&&u&&l.startTime-u.startTime<1e3&&l.startTime-d.startTime<5e3?(o+=l.value,i.push(l)):(o=l.value,i=[l])}}),o>n.value&&(n.value=o,n.entries=i,r())},a=ke("layout-shift",s);a&&(r=Me(e,n,Ld,t.reportAllChanges),_t(()=>{s(a.takeRecords()),r(!0)}),setTimeout(r,0))}))};m();var Dd=[100,300],Da=(e,t={})=>{Ye(()=>{let n=yt(),r=Ae("FID"),o,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),o(!0))},s=c=>{c.forEach(i)},a=ke("first-input",s);o=Me(e,r,Dd,t.reportAllChanges),a&&_t(Qt(()=>{s(a.takeRecords()),a.disconnect()}))})};m();m();var Pa=0,ti=1/0,Sr=0,Pd=e=>{e.forEach(t=>{t.interactionId&&(ti=Math.min(ti,t.interactionId),Sr=Math.max(Sr,t.interactionId),Pa=Sr?(Sr-ti)/7+1:0)})},ni,Fa=()=>ni?Pa:performance.interactionCount||0,Ha=()=>{"interactionCount"in performance||ni||(ni=ke("event",Pd,{type:"event",buffered:!0,durationThreshold:0}))};var Fd=[200,500],Hd=0,Wa=()=>Fa()-Hd,Ba=10,st=[],ri={},Ua=e=>{let t=st[st.length-1],n=ri[e.interactionId];if(n||st.length<Ba||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};ri[r.id]=r,st.push(r)}st.sort((r,o)=>o.latency-r.latency),st.splice(Ba).forEach(r=>{delete ri[r.id]})}},Bd=()=>{let e=Math.min(st.length-1,Math.floor(Wa()/50));return st[e]},$a=(e,t={})=>{Ye(()=>{Ha();let n=Ae("INP"),r,o=s=>{s.forEach(c=>{c.interactionId&&Ua(c),c.entryType==="first-input"&&!st.some(d=>d.entries.some(u=>c.duration===u.duration&&c.startTime===u.startTime))&&Ua(c)});let a=Bd();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=ke("event",o,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});r=Me(e,n,Fd,t.reportAllChanges),i&&("PerformanceEventTiming"in R&&"interactionId"in PerformanceEventTiming.prototype&&i.observe({type:"first-input",buffered:!0}),_t(()=>{o(i.takeRecords()),n.value<0&&Wa()>0&&(n.value=0,n.entries=[]),r(!0)}))})};m();var Ud=[2500,4e3],za={},qa=(e,t={})=>{Ye(()=>{let n=yt(),r=Ae("LCP"),o,i=a=>{let c=a[a.length-1];c&&c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-gt(),0),r.entries=[c],o())},s=ke("largest-contentful-paint",i);if(s){o=Me(e,r,Ud,t.reportAllChanges);let a=Qt(()=>{za[r.id]||(i(s.takeRecords()),s.disconnect(),za[r.id]=!0,o(!0))});["keydown","click"].forEach(c=>{R.document&&addEventListener(c,()=>setTimeout(a,0),!0)}),_t(a)}})};m();var Wd=[800,1800],oi=e=>{R.document&&R.document.prerendering?Ye(()=>oi(e)):R.document&&R.document.readyState!=="complete"?addEventListener("load",()=>oi(e),!0):setTimeout(e,0)},ja=(e,t={})=>{let n=Ae("TTFB"),r=Me(e,n,Wd,t.reportAllChanges);oi(()=>{let o=it();if(o){let i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-gt(),0),n.entries=[o],r(!0)}})};var Rn={},vr={},Ga,Va,Ya,Xa,Ka;function Mn(e,t=!1){return Ln("cls",e,$d,Ga,t)}function An(e,t=!1){return Ln("lcp",e,qd,Ya,t)}function Nn(e){return Ln("fid",e,zd,Va)}function ii(e){return Ln("ttfb",e,jd,Xa)}function On(e){return Ln("inp",e,Gd,Ka)}function $e(e,t){return Ja(e,t),vr[e]||(Vd(e),vr[e]=!0),Qa(e,t)}function Zt(e,t){let n=Rn[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(o){be&&S.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ze(r)}
Error:`,o)}}function $d(){return La(e=>{Zt("cls",{metric:e}),Ga=e},{reportAllChanges:!0})}function zd(){return Da(e=>{Zt("fid",{metric:e}),Va=e})}function qd(){return qa(e=>{Zt("lcp",{metric:e}),Ya=e},{reportAllChanges:!0})}function jd(){return ja(e=>{Zt("ttfb",{metric:e}),Xa=e})}function Gd(){return $a(e=>{Zt("inp",{metric:e}),Ka=e})}function Ln(e,t,n,r,o=!1){Ja(e,t);let i;return vr[e]||(i=n(),vr[e]=!0),r&&t({metric:r}),Qa(e,t,o?i:void 0)}function Vd(e){let t={};e==="event"&&(t.durationThreshold=0),ke(e,n=>{Zt(e,{entries:n})},t)}function Ja(e,t){Rn[e]=Rn[e]||[],Rn[e].push(t)}function Qa(e,t,n){return()=>{n&&n();let r=Rn[e];if(!r)return;let o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function Za(e){return"duration"in e}m();m();function Er(e){return typeof e=="number"&&isFinite(e)}function Mt(e,t,n,{...r}){let o=q(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Po(e,()=>{let i=Ue({startTime:t,...r});return i&&i.end(n),i})}function Dn(){return R&&R.addEventListener&&R.performance}function re(e){return e/1e3}var Yd=2147483647,ec=0,me={},Xe,Pn;function ai(){let e=Dn();if(e&&ae){e.mark&&R.performance.mark("sentry-tracing-init");let t=Jd(),n=Xd(),r=Kd(),o=Qd();return()=>{t(),n(),r(),o()}}return()=>{}}function ci(){$e("longtask",({entries:e})=>{for(let t of e){if(!de())return;let n=re(ae+t.startTime),r=re(t.duration),o=Ue({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[he]:"auto.ui.browser.metrics"}});o&&o.end(n+r)}})}function li(){new PerformanceObserver(t=>{for(let n of t.getEntries()){if(!de()||!n.scripts[0])return;let r=re(ae+n.startTime),o=re(n.duration),i={[he]:"auto.ui.browser.metrics"},s=n.scripts[0];if(s){let{invoker:c,invokerType:l,sourceURL:d,sourceFunctionName:u,sourceCharPosition:f}=s;i["browser.script.invoker"]=c,i["browser.script.invoker_type"]=l,d&&(i["code.filepath"]=d),u&&(i["code.function"]=u),f!==-1&&(i["browser.script.source_char_position"]=f)}let a=Ue({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:r,attributes:i});a&&a.end(r+o)}}).observe({type:"long-animation-frame",buffered:!0})}function ui(){$e("event",({entries:e})=>{for(let t of e){if(!de())return;if(t.name==="click"){let n=re(ae+t.startTime),r=re(t.duration),o={name:He(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[he]:"auto.ui.browser.metrics"}},i=lr(t.target);i&&(o.attributes["ui.component_name"]=i);let s=Ue(o);s&&s.end(n+r)}}})}function Xd(){return Mn(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(be&&S.log("[Measurements] Adding CLS"),me.cls={value:e.value,unit:""},Pn=t)},!0)}function Kd(){return An(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(be&&S.log("[Measurements] Adding LCP"),me.lcp={value:e.value,unit:"millisecond"},Xe=t)},!0)}function Jd(){return Nn(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=re(ae),r=re(t.startTime);be&&S.log("[Measurements] Adding FID"),me.fid={value:e.value,unit:"millisecond"},me["mark.fid"]={value:n+r,unit:"second"}})}function Qd(){return ii(({metric:e})=>{e.entries[e.entries.length-1]&&(be&&S.log("[Measurements] Adding TTFB"),me.ttfb={value:e.value,unit:"millisecond"})})}function di(e){let t=Dn();if(!t||!R.performance.getEntries||!ae)return;be&&S.log("[Tracing] Adding & adjusting spans using Performance API");let n=re(ae),r=t.getEntries(),{op:o,start_timestamp:i}=q(e);if(r.slice(ec).forEach(s=>{let a=re(s.startTime),c=re(Math.max(0,s.duration));if(!(o==="navigation"&&i&&n+a<i))switch(s.entryType){case"navigation":{ef(e,s,n);break}case"mark":case"paint":case"measure":{Zd(e,s,a,c,n);let l=yt(),d=s.startTime<l.firstHiddenTime;s.name==="first-paint"&&d&&(be&&S.log("[Measurements] Adding FP"),me.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&d&&(be&&S.log("[Measurements] Adding FCP"),me.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{nf(e,s,s.name,a,c,n);break}}}),ec=Math.max(r.length-1,0),rf(e),o==="pageload"){sf(me),["fcp","fp","lcp"].forEach(a=>{let c=me[a];if(!c||!i||n>=i)return;let l=c.value,d=n+re(l),u=Math.abs((d-i)*1e3),f=u-l;be&&S.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${f})`),c.value=u});let s=me["mark.fid"];s&&me.fid&&(Mt(e,s.value,s.value+re(me.fid.value),{name:"first input delay",op:"ui.action",attributes:{[he]:"auto.ui.browser.metrics"}}),delete me["mark.fid"]),"fcp"in me||delete me.cls,Object.entries(me).forEach(([a,c])=>{Do(a,c.value,c.unit)}),of(e)}Xe=void 0,Pn=void 0,me={}}function Zd(e,t,n,r,o){let i=it(),s=re(i?i.requestStart:0),a=o+Math.max(n,s),c=o+n,l=c+r,d={[he]:"auto.resource.browser.metrics"};return a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),Mt(e,a,l,{name:t.name,op:t.entryType,attributes:d}),a}function ef(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{wr(e,t,r,n)}),wr(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),wr(e,t,"fetch",n,"cache","domainLookupStart"),wr(e,t,"domainLookup",n,"DNS"),tf(e,t,n)}function wr(e,t,n,r,o,i){let s=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!s||Mt(e,r+re(a),r+re(s),{op:"browser",name:o||n,attributes:{[he]:"auto.ui.browser.metrics"}})}function tf(e,t,n){let r=n+re(t.requestStart),o=n+re(t.responseEnd),i=n+re(t.responseStart);t.responseEnd&&(Mt(e,r,o,{op:"browser",name:"request",attributes:{[he]:"auto.ui.browser.metrics"}}),Mt(e,i,o,{op:"browser",name:"response",attributes:{[he]:"auto.ui.browser.metrics"}}))}function nf(e,t,n,r,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let s=tt(n),a={[he]:"auto.resource.browser.metrics"};si(a,t,"transferSize","http.response_transfer_size"),si(a,t,"encodedBodySize","http.response_content_length"),si(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=n.includes(R.location.origin);let c=i+r,l=c+o;Mt(e,c,l,{name:n.replace(R.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}function rf(e){let t=R.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Er(n.rtt)&&(me["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Er(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Er(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function of(e){Xe&&(be&&S.log("[Measurements] Adding LCP Data"),Xe.element&&e.setAttribute("lcp.element",He(Xe.element)),Xe.id&&e.setAttribute("lcp.id",Xe.id),Xe.url&&e.setAttribute("lcp.url",Xe.url.trim().slice(0,200)),e.setAttribute("lcp.size",Xe.size)),Pn&&Pn.sources&&(be&&S.log("[Measurements] Adding CLS Data"),Pn.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,He(t.node))))}function si(e,t,n,r){let o=t[n];o!=null&&o<Yd&&(e[r]=o)}function sf(e){let t=it();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(be&&S.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}m();var af=1e3,tc,fi,pi;function Fn(e){let t="dom";jt(t,e),Gt(t,cf)}function cf(){if(!R.document)return;let e=pt.bind(null,"dom"),t=nc(e,!0);R.document.addEventListener("click",t,!1),R.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let r=R[n]&&R[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(le(r,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=l[i]=l[i]||{refCount:0};if(!d.handler){let u=nc(e);d.handler=u,o.call(this,i,u,a)}d.refCount++}catch{}return o.call(this,i,s,a)}}),le(r,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let c=this,l=c.__sentry_instrumentation_handlers__||{},d=l[i];d&&(d.refCount--,d.refCount<=0&&(o.call(this,i,d.handler,a),d.handler=void 0,delete l[i]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}function lf(e){if(e.type!==fi)return!1;try{if(!e.target||e.target._sentryId!==pi)return!1}catch{}return!0}function uf(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function nc(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=df(n);if(uf(n.type,r))return;vn(n,"_sentryCaptured",!0),r&&!r._sentryId&&vn(r,"_sentryId",ht());let o=n.type==="keypress"?"input":n.type;lf(n)||(e({event:n,name:o,global:t}),fi=n.type,pi=r?r._sentryId:void 0),clearTimeout(tc),tc=R.setTimeout(()=>{pi=void 0,fi=void 0},af)}}function df(e){try{return e.target}catch{return null}}m();var Ir;function at(e){let t="history";jt(t,e),Gt(t,ff)}function ff(){if(!ha())return;let e=R.onpopstate;R.onpopstate=function(...n){let r=R.location.href,o=Ir;if(Ir=r,pt("history",{from:o,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let o=r.length>2?r[2]:void 0;if(o){let i=Ir,s=String(o);Ir=s,pt("history",{from:i,to:s})}return n.apply(this,r)}}le(R.history,"pushState",t),le(R.history,"replaceState",t)}m();var kr={};function Cr(e){let t=kr[e];if(t)return t;let n=R[e];if(Gs(n))return kr[e]=n.bind(R);let r=R.document;if(r&&typeof r.createElement=="function")try{let o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(o)}catch(o){be&&S.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(kr[e]=n.bind(R))}function Tr(e){kr[e]=void 0}function ct(...e){return Cr("setTimeout")(...e)}m();var Te="__sentry_xhr_v3__";function At(e){let t="xhr";jt(t,e),Gt(t,pf)}function pf(){if(!R.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;le(e,"open",function(t){return function(...n){let r=et()*1e3,o=Tt(n[0])?n[0].toUpperCase():void 0,i=hf(n[1]);if(!o||!i)return t.apply(this,n);this[Te]={method:o,url:i,request_headers:{}},o==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let a=this[Te];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}let c={endTimestamp:et()*1e3,startTimestamp:r,xhr:this};pt("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?le(this,"onreadystatechange",function(a){return function(...c){return s(),a.apply(this,c)}}):this.addEventListener("readystatechange",s),le(this,"setRequestHeader",function(a){return function(...c){let[l,d]=c,u=this[Te];return u&&Tt(l)&&Tt(d)&&(u.request_headers[l.toLowerCase()]=d),a.apply(this,c)}}),t.apply(this,n)}}),le(e,"send",function(t){return function(...n){let r=this[Te];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);let o={startTimestamp:et()*1e3,xhr:this};return pt("xhr",o),t.apply(this,n)}})}function hf(e){if(Tt(e))return e;try{return e.toString()}catch{}}m();var hi=[],xr=new Map;function mi(){if(Dn()&&ae){let t=mf();return()=>{t()}}return()=>{}}var rc={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function mf(){return On(({metric:e})=>{let t=O();if(!t||e.value==null)return;let n=e.entries.find(y=>y.duration===e.value&&rc[y.name]);if(!n)return;let{interactionId:r}=n,o=rc[n.name],i=t.getOptions(),s=re(ae+n.startTime),a=re(e.value),c=ue(),l=de(),d=l?Ie(l):void 0,f=(r!=null?xr.get(r):void 0)||d,p=f?q(f).description:c.getScopeData().transactionName,h=c.getUser(),b=t.getIntegrationByName("Replay"),E=b&&b.getReplayId(),g=h!==void 0?h.email||h.id||h.ip_address:void 0,v;try{v=c.getScopeData().contexts.profile.profile_id}catch{}let A=He(n.target),T=En({release:i.release,environment:i.environment,transaction:p,[ya]:e.value,[he]:"auto.http.browser.inp",user:g||void 0,profile_id:v||void 0,replay_id:E||void 0,"user_agent.original":R.navigator&&R.navigator.userAgent}),w=Ue({name:A,op:`ui.interaction.${o}`,attributes:T,startTime:s,experimental:{standalone:!0}});w.addEvent("inp",{[ga]:"millisecond",[_a]:e.value}),w.end(s+a)})}function gi(e){let t=({entries:n})=>{let r=de(),o=r&&Ie(r);n.forEach(i=>{if(!Za(i)||!o)return;let s=i.interactionId;if(s!=null&&!xr.has(s)){if(hi.length>10){let a=hi.shift();xr.delete(a)}hi.push(s),xr.set(s,o)}})};$e("event",t),$e("first-input",t)}function Hn(e,t=Cr("fetch")){let n=0,r=0;function o(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Tr("fetch"),Co("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=s,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Tr("fetch"),n-=s,r--,Co(c)}}return $o(e,o)}m();var gf=10,_f=20,yf=30,bf=40,Sf=50;function en(e,t,n,r){let o={filename:e,function:t==="<anonymous>"?Be:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}var vf=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ef=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,wf=/\((\S*)(?::(\d+))(?::(\d+))\)/,If=e=>{let t=vf.exec(e);if(t){let[,r,o,i]=t;return en(r,Be,+o,+i)}let n=Ef.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=wf.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[o,i]=ac(n[1]||Be,n[2]);return en(i,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},oc=[yf,If],kf=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Cf=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Tf=e=>{let t=kf.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=Cf.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||Be;return[o,r]=ac(o,r),en(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ic=[Sf,Tf],xf=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Rf=e=>{let t=xf.exec(e);return t?en(t[2],t[1]||Be,+t[3],t[4]?+t[4]:void 0):void 0},Mf=[bf,Rf],Af=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Nf=e=>{let t=Af.exec(e);return t?en(t[2],t[3]||Be,+t[1]):void 0},Of=[gf,Nf],Lf=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Df=e=>{let t=Lf.exec(e);return t?en(t[5],t[3]||t[4]||Be,+t[1],+t[2]):void 0},Pf=[_f,Df],sc=[oc,ic],_i=$s(...sc),ac=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Be,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};m();m();var Rr=1024,Ff="Breadcrumbs",Hf=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ff,setup(n){t.console&&qs(Wf(n)),t.dom&&Fn(Uf(n,t.dom)),t.xhr&&At($f(n)),t.fetch&&Vt(zf(n)),t.history&&at(qf(n)),t.sentry&&n.on("beforeSendEvent",Bf(n))}}},yi=Hf;function Bf(e){return function(n){O()===e&&We({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Qs(n)},{event:n})}}function Uf(e,t){return function(r){if(O()!==e)return;let o,i,s=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Rr&&(N&&S.warn(`\`dom.maxStringLength\` cannot exceed ${Rr}, but a value of ${a} was configured. Sentry will use ${Rr} instead.`),a=Rr),typeof s=="string"&&(s=[s]);try{let l=r.event,d=jf(l)?l.target:l;o=He(d,{keyAttrs:s,maxStringLength:a}),i=lr(d)}catch{o="<unknown>"}if(o.length===0)return;let c={category:`ui.${r.name}`,message:o};i&&(c.data={"ui.component_name":i}),We(c,{event:r.event,name:r.name,global:r.global})}}function Wf(e){return function(n){if(O()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:na(n.level),message:wo(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${wo(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;We(r,{input:n.args,level:n.level})}}function $f(e){return function(n){if(O()!==e)return;let{startTimestamp:r,endTimestamp:o}=n,i=n.xhr[Te];if(!r||!o||!i)return;let{method:s,url:a,status_code:c,body:l}=i,d={method:s,url:a,status_code:c},u={xhr:n.xhr,input:l,startTimestamp:r,endTimestamp:o};We({category:"xhr",data:d,type:"http"},u)}}function zf(e){return function(n){if(O()!==e)return;let{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let i=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o};We({category:"fetch",data:i,level:"error",type:"http"},s)}else{let i=n.response,s={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:o};We({category:"fetch",data:s,type:"http"},a)}}}function qf(e){return function(n){if(O()!==e)return;let r=n.from,o=n.to,i=tt(C.location.href),s=r?tt(r):void 0,a=tt(o);(!s||!s.path)&&(s=i),i.protocol===a.protocol&&i.host===a.host&&(o=a.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),We({category:"navigation",data:{from:r,to:o}})}}function jf(e){return!!e&&!!e.target}m();var Gf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Vf="BrowserApiErrors",Yf=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Vf,setupOnce(){t.setTimeout&&le(C,"setTimeout",cc),t.setInterval&&le(C,"setInterval",cc),t.requestAnimationFrame&&le(C,"requestAnimationFrame",Xf),t.XMLHttpRequest&&"XMLHttpRequest"in C&&le(XMLHttpRequest.prototype,"send",Kf);let n=t.eventTarget;n&&(Array.isArray(n)?n:Gf).forEach(Jf)}}},bi=Yf;function cc(e){return function(...t){let n=t[0];return t[0]=Rt(n,{mechanism:{data:{function:Ze(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Xf(e){return function(t){return e.apply(this,[Rt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ze(e)},handled:!1,type:"instrument"}})])}}function Kf(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&le(n,o,function(i){let s={mechanism:{data:{function:o,handler:Ze(i)},handled:!1,type:"instrument"}},a=dr(i);return a&&(s.mechanism.data.handler=Ze(a)),Rt(i,s)})}),e.apply(this,t)}}function Jf(e){let t=C,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(le(n,"addEventListener",function(r){return function(o,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=Rt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ze(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[o,Rt(i,{mechanism:{data:{function:"addEventListener",handler:Ze(i),target:e},handled:!1,type:"instrument"}}),s])}}),le(n,"removeEventListener",function(r){return function(o,i,s){let a=i;try{let c=a&&a.__sentry_wrapped__;c&&r.call(this,o,c,s)}catch{}return r.call(this,o,a,s)}}))}m();var Qf="GlobalHandlers",Zf=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:Qf,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(ep(n),lc("onerror")),t.onunhandledrejection&&(tp(n),lc("onunhandledrejection"))}}},Si=Zf;function ep(e){Xs(t=>{let{stackParser:n,attachStacktrace:r}=uc();if(O()!==e||Yo())return;let{msg:o,url:i,line:s,column:a,error:c}=t,l=op(yr(n,c||o,void 0,r,!1),i,s,a);l.level="error",xt(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function tp(e){Ks(t=>{let{stackParser:n,attachStacktrace:r}=uc();if(O()!==e||Yo())return;let o=np(t),i=Eo(o)?rp(o):yr(n,o,void 0,r,!0);i.level="error",xt(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function np(e){if(Eo(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function rp(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function op(e,t,n,r){let o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,u=Tt(t)&&t.length>0?t:qt();return c.length===0&&c.push({colno:l,filename:u,function:Be,in_app:!0,lineno:d}),e}function lc(e){N&&S.log(`Global Handler attached: ${e}`)}function uc(){let e=O();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}m();var vi=()=>({name:"HttpContext",preprocessEvent(e){if(!C.navigator&&!C.location&&!C.document)return;let t=e.request&&e.request.url||C.location&&C.location.href,{referrer:n}=C.document||{},{userAgent:r}=C.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}});m();var ip="cause",sp=5,ap="LinkedErrors",cp=(e={})=>{let t=e.limit||sp,n=e.key||ip;return{name:ap,preprocessEvent(r,o,i){let s=i.getOptions();Fs(Cn,s.stackParser,s.maxValueLength,n,t,r,o)}}},Ei=cp;function dc(e){return[qo(),zo(),bi(),yi(),Si(),Ei(),jo(),vi()]}function lp(e={}){return{...{defaultIntegrations:dc(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:C.SENTRY_RELEASE&&C.SENTRY_RELEASE.id?C.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0},...e}}function up(){let e=C,t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,o=C.location&&C.location.href||"",i=["chrome-extension:","moz-extension:","ms-browser-extension:"],s=!!r&&C===C.top&&i.some(c=>o.startsWith(`${c}//`)),a=typeof e.nw<"u";return!!r&&!s&&!a}function dp(e={}){let t=lp(e);if(up()){ur(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}N&&(js()||S.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let n={...t,stackParser:zs(t.stackParser||_i),integrations:Ca(t),transport:t.transport||Hn},r=xa(Tn,n);return t.autoSessionTracking&&mp(),r}function fp(e={}){if(!C.document){N&&S.error("Global document not defined in showReportDialog call");return}let t=ue(),n=t.getClient(),r=n&&n.getDsn();if(!r){N&&S.error("DSN not configured for showReportDialog call");return}if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){let a=Uo();a&&(e.eventId=a)}let o=C.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=ka(r,e),e.onLoad&&(o.onload=e.onLoad);let{onClose:i}=e;if(i){let a=c=>{if(c.data==="__sentry_reportdialog_closed__")try{i()}finally{C.removeEventListener("message",a)}};C.addEventListener("message",a)}let s=C.document.head||C.document.body;s?s.appendChild(o):N&&S.error("Not injecting report dialog. No injection point found in HTML")}function pp(){}function hp(e){e()}function mp(){if(typeof C.document>"u"){N&&S.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}mr({ignoreDuration:!0}),gr(),at(({from:e,to:t})=>{e!==void 0&&e!==t&&(mr({ignoreDuration:!0}),gr())})}function gp(e){let t=O();t&&t.captureUserFeedback(e)}m();var _p={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},fc=C;async function Bn(e){let t=_p[e],n=fc.Sentry=fc.Sentry||{};if(!t)throw new Error(`Cannot lazy load integration: ${e}`);let r=n[e];if(typeof r=="function")return r;let o=yp(t),i=C.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="origin";let s=new Promise((c,l)=>{i.addEventListener("load",()=>c()),i.addEventListener("error",l)});C.document.body.appendChild(i);try{await s}catch{throw new Error(`Error when loading integration: ${e}`)}let a=n[e];if(typeof a!="function")throw new Error(`Could not load integration: ${e}`);return a}function yp(e){let t=O(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Io}/${e}.min.js`,r).toString()}m();var bp=ye,Sp="ReportingObserver",pc=new WeakMap,vp=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(pc.has(O()))for(let o of r)kn(i=>{i.setExtra("url",o.url);let s=`ReportingObserver [${o.type}]`,a="No details available";if(o.body){let c={};for(let l in o.body)c[l]=o.body[l];if(i.setExtra("body",c),o.type==="crash"){let l=o.body;a=[l.crashId||"",l.reason||""].join(" ").trim()||a}else a=o.body.message||a}Ho(`${s}: ${a}`)})}return{name:Sp,setupOnce(){if(!Ys())return;new bp.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){pc.set(r,!0)}}},Ep=vp;m();var wp="HttpClient",Ip=(e={})=>{let t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:wp,setup(n){Op(n,t),Lp(n,t)}}},kp=Ip;function Cp(e,t,n,r){if(gc(e,n.status,n.url)){let o=Dp(t,r),i,s,a,c;yc()&&([i,a]=hc("Cookie",o),[s,c]=hc("Set-Cookie",n));let l=_c({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:s,requestCookies:a,responseCookies:c});xt(l)}}function hc(e,t){let n=Rp(t.headers),r;try{let o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=mc(o))}catch{N&&S.log(`Could not extract cookies from header ${e}`)}return[n,r]}function Tp(e,t,n,r){if(gc(e,t.status,t.responseURL)){let o,i,s;if(yc()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(i=mc(c))}catch{N&&S.log("Could not extract cookies from response headers")}try{s=Mp(t)}catch{N&&S.log("Could not extract headers from response")}o=r}let a=_c({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:s,responseCookies:i});xt(a)}}function xp(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function mc(e){return e.split("; ").reduce((t,n)=>{let[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function Rp(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function Mp(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return o&&i&&(n[o]=i),n},{}):{}}function Ap(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function Np(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function Op(e,t){Vs()&&Vt(n=>{if(O()!==e)return;let{response:r,args:o}=n,[i,s]=o;r&&Cp(t,i,r,s)})}function Lp(e,t){"XMLHttpRequest"in ye&&At(n=>{if(O()!==e)return;let r=n.xhr,o=r[Te];if(!o)return;let{method:i,request_headers:s}=o;try{Tp(t,r,i,s)}catch(a){N&&S.warn("Error while extracting response event form XHR response",a)}})}function gc(e,t,n){return Np(e.failedRequestStatusCodes,t)&&Ap(e.failedRequestTargets,n)&&!_r(n,O())}function _c(e){let t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:xp(e.responseHeaders)}}};return mt(n,{type:"http.client",handled:!1}),n}function Dp(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function yc(){let e=O();return e?!!e.getOptions().sendDefaultPii:!1}m();var wi=ye,Pp=7,Fp="ContextLines",Hp=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:Pp;return{name:Fp,processEvent(n){return Up(n,t)}}},Bp=Hp;function Up(e,t){let n=wi.document,r=wi.location&&ta(wi.location.href);if(!n||!r)return e;let o=e.exception&&e.exception.values;if(!o||!o.length)return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return o.forEach(a=>{let c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(l=>Wp(l,s,r,t)))}),e}function Wp(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Zs(t,e,r),e}m();var K=ye,Ki="sentryReplaySession",$p="replay_event",Ji="Unable to send Replay",zp=3e5,qp=9e5,jp=5e3,Gp=5500,Vp=6e4,Yp=5e3,Xp=3,bc=15e4,Ar=5e3,Kp=3e3,Jp=300,Qi=2e7,Qp=4999,Zp=15e3,Sc=36e5;function Ti(e,t){return e??t()}function qn(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var pe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(pe||(pe={}));function eh(e){return e.nodeType===e.ELEMENT_NODE}function Wn(e){let t=qn([e,"optionalAccess",n=>n.host]);return qn([t,"optionalAccess",n=>n.shadowRoot])===e}function $n(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function th(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function nh(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Dr(e){try{let t=e.rules||e.cssRules;return t?th(Array.from(t,Bc).join("")):null}catch{return null}}function Bc(e){let t;if(oh(e))try{t=Dr(e.styleSheet)||nh(e)}catch{}else if(ih(e)&&e.selectorText.includes(":"))return rh(e.cssText);return t||e.cssText}function rh(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function oh(e){return"styleSheet"in e}function ih(e){return"selectorText"in e}var Pr=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=qn([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Ti(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function sh(){return new Pr}function Kr({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function jn({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function cn(e){return e.toLowerCase()}function xi(e){return e.toUpperCase()}var vc="__rrweb_original__";function ah(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){let i=t.getImageData,s=vc in i?i[vc]:i;if(new Uint32Array(s.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function Zi(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?cn(t):null}function Fr(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Uc(e,t){let n;try{n=new URL(e,Ti(t,()=>window.location.href))}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i,o=n.pathname.match(r);return Ti(qn([o,"optionalAccess",i=>i[1]]),()=>null)}var Ec={};function Wc(e){let t=Ec[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Ec[e]=r.bind(window)}function Ri(...e){return Wc("setTimeout")(...e)}function $c(...e){return Wc("clearTimeout")(...e)}var ch=1,lh=new RegExp("[^a-z0-9-_:]"),Gn=-2;function es(){return ch++}function uh(e){if(e instanceof HTMLFormElement)return"form";let t=cn(e.tagName);return lh.test(t)?"div":t}function dh(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var tn,wc,fh=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ph=/^(?:[a-z+]+:)?\/\//i,hh=/^www\..*/i,mh=/^(data:)([^,]*),(.*)/i;function Hr(e,t){return(e||"").replace(fh,(n,r,o,i,s,a)=>{let c=o||s||a,l=r||i||"";if(!c)return n;if(ph.test(c)||hh.test(c))return`url(${l}${c}${l})`;if(mh.test(c))return`url(${l}${c}${l})`;if(c[0]==="/")return`url(${l}${dh(t)+c}${l})`;let d=t.split("/"),u=c.split("/");d.pop();for(let f of u)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${l}${d.join("/")}${l})`})}var gh=/^[^ \t\n\r\u000c]+/,_h=/^[, \t\n\r\u000c]+/;function yh(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,a=i.exec(t.substring(n));return a?(s=a[0],n+=s.length,s):""}let o=[];for(;r(_h),!(n>=t.length);){let i=r(gh);if(i.slice(-1)===",")i=rn(e,i.substring(0,i.length-1)),o.push(i);else{let s="";i=rn(e,i);let a=!1;for(;;){let c=t.charAt(n);if(c===""){o.push((i+s).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((i+s).trim());break}else c==="("&&(a=!0);s+=c,n+=1}}}return o.join(", ")}function rn(e,t){if(!t||t.trim()==="")return t;let n=e.createElement("a");return n.href=t,n.href}function bh(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ts(){let e=document.createElement("a");return e.href="",e.href}function zc(e,t,n,r,o,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?rn(e,r):n==="srcset"?yh(e,r):n==="style"?Hr(r,ts()):t==="object"&&n==="data"?rn(e,r):typeof i=="function"?i(n,r,o):r)}function qc(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Sh(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){let i=e.classList[o];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function vh(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Nt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Nt(e.parentNode,t,n,r+1)}function on(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(vh(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function ln(e,t,n,r,o,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let l=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(l))return!0}let a=-1,c=-1;if(i){if(c=Nt(s,on(r,o)),c<0)return!0;a=Nt(s,on(t,n),c>=0?c:1/0)}else{if(a=Nt(s,on(t,n)),a<0)return!1;c=Nt(s,on(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function Eh(e,t,n){let r=e.contentWindow;if(!r)return;let o=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let a=Ri(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{$c(a),o=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Ri(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function wh(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;let i=Ri(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{$c(i),r=!0,t()})}function Ih(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:b,maskInputFn:E,dataURLOptions:g={},inlineImages:v,recordCanvas:A,keepIframeSrcFn:T,newlyAddedElement:w=!1}=t,y=kh(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:pe.Document,childNodes:[],compatMode:e.compatMode}:{type:pe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:pe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:y};case e.ELEMENT_NODE:return Th(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:s,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:E,dataURLOptions:g,inlineImages:v,recordCanvas:A,keepIframeSrcFn:T,newlyAddedElement:w,rootId:y,maskAllText:a,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:f});case e.TEXT_NODE:return Ch(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:f,maskTextFn:b,maskInputOptions:h,maskInputFn:E,rootId:y});case e.CDATA_SECTION_NODE:return{type:pe.CDATA,textContent:"",rootId:y};case e.COMMENT_NODE:return{type:pe.Comment,textContent:e.textContent||"",rootId:y};default:return!1}}function kh(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function Ch(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:c,maskInputFn:l,rootId:d}=t,u=e.parentNode&&e.parentNode.tagName,f=e.textContent,p=u==="STYLE"?!0:void 0,h=u==="SCRIPT"?!0:void 0,b=u==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||qn([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(f=Dr(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}f=Hr(f,ts())}h&&(f="SCRIPT_PLACEHOLDER");let E=ln(e,r,i,o,s,n);if(!p&&!h&&!b&&f&&E&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),b&&f&&(c.textarea||E)&&(f=l?l(f,e.parentNode):f.replace(/[\S]/g,"*")),u==="OPTION"&&f){let g=Kr({type:null,tagName:u,maskInputOptions:c});f=jn({isMasked:ln(e,r,i,o,s,g),element:e,value:f,maskInputFn:l})}return{type:pe.Text,textContent:f||"",isStyle:p,rootId:d}}function Th(e,t){let{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:d={},inlineImages:u,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:b,maskAllText:E,maskTextClass:g,unmaskTextClass:v,maskTextSelector:A,unmaskTextSelector:T}=t,w=Sh(e,r,o,i),y=uh(e),_={},I=e.attributes.length;for(let k=0;k<I;k++){let x=e.attributes[k];x.name&&!qc(y,x.name,x.value)&&(_[x.name]=zc(n,y,cn(x.name),x.value,e,c))}if(y==="link"&&s){let k=Array.from(n.styleSheets).find(W=>W.href===e.href),x=null;k&&(x=Dr(k)),x&&(delete _.rel,delete _.href,_._cssText=Hr(x,k.href))}if(y==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let k=Dr(e.sheet);k&&(_._cssText=Hr(k,ts()))}if(y==="input"||y==="textarea"||y==="select"||y==="option"){let k=e,x=Zi(k),W=Fr(k,xi(y),x),J=k.checked;if(x!=="submit"&&x!=="button"&&W){let Q=ln(k,g,A,v,T,Kr({type:x,tagName:xi(y),maskInputOptions:a}));_.value=jn({isMasked:Q,element:k,value:W,maskInputFn:l})}J&&(_.checked=J)}if(y==="option"&&(e.selected&&!a.select?_.selected=!0:delete _.selected),y==="canvas"&&f){if(e.__context==="2d")ah(e)||(_.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let k=e.toDataURL(d.type,d.quality),x=document.createElement("canvas");x.width=e.width,x.height=e.height;let W=x.toDataURL(d.type,d.quality);k!==W&&(_.rr_dataURL=k)}}if(y==="img"&&u){tn||(tn=n.createElement("canvas"),wc=tn.getContext("2d"));let k=e,x=k.crossOrigin;k.crossOrigin="anonymous";let W=()=>{k.removeEventListener("load",W);try{tn.width=k.naturalWidth,tn.height=k.naturalHeight,wc.drawImage(k,0,0),_.rr_dataURL=tn.toDataURL(d.type,d.quality)}catch(J){console.warn(`Cannot inline img src=${k.currentSrc}! Error: ${J}`)}x?_.crossOrigin=x:k.removeAttribute("crossorigin")};k.complete&&k.naturalWidth!==0?W():k.addEventListener("load",W)}if((y==="audio"||y==="video")&&(_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop)),w){let{width:k,height:x}=e.getBoundingClientRect();_={class:_.class,rr_width:`${k}px`,rr_height:`${x}px`}}y==="iframe"&&!p(_.src)&&(!w&&!e.contentDocument&&(_.rr_src=_.src),delete _.src);let M;try{customElements.get(y)&&(M=!0)}catch{}return{type:pe.Element,tagName:y,attributes:_,childNodes:[],isSVG:bh(e)||void 0,needBlock:w,rootId:b,isCustom:M}}function X(e){return e==null?"":e.toLowerCase()}function xh(e,t){if(t.comment&&e.type===pe.Comment)return!0;if(e.type===pe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Uc(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(X(e.attributes.name).match(/^msapplication-tile(image|color)$/)||X(e.attributes.name)==="application-name"||X(e.attributes.rel)==="icon"||X(e.attributes.rel)==="apple-touch-icon"||X(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&X(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(X(e.attributes.property).match(/^(og|twitter|fb):/)||X(e.attributes.name).match(/^(og|twitter):/)||X(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(X(e.attributes.name)==="robots"||X(e.attributes.name)==="googlebot"||X(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(X(e.attributes.name)==="author"||X(e.attributes.name)==="generator"||X(e.attributes.name)==="framework"||X(e.attributes.name)==="publisher"||X(e.attributes.name)==="progid"||X(e.attributes.property).match(/^article:/)||X(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(X(e.attributes.name)==="google-site-verification"||X(e.attributes.name)==="yandex-verification"||X(e.attributes.name)==="csrf-token"||X(e.attributes.name)==="p:domain_verify"||X(e.attributes.name)==="verify-v1"||X(e.attributes.name)==="verification"||X(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function sn(e,t){let{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:b,maskTextFn:E,maskInputFn:g,slimDOMOptions:v,dataURLOptions:A={},inlineImages:T=!1,recordCanvas:w=!1,onSerialize:y,onIframeLoad:_,iframeLoadTimeout:I=5e3,onStylesheetLoad:M,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:W=!1}=t,{preserveWhiteSpace:J=!0}=t,Q=Ih(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:b,maskTextFn:E,maskInputFn:g,dataURLOptions:A,inlineImages:T,recordCanvas:w,keepIframeSrcFn:x,newlyAddedElement:W});if(!Q)return console.warn(e,"not serialized"),null;let ge;r.hasNode(e)?ge=r.getId(e):xh(Q,v)||!J&&Q.type===pe.Text&&!Q.isStyle&&!Q.textContent.replace(/^\s+|\s+$/gm,"").length?ge=Gn:ge=es();let F=Object.assign(Q,{id:ge});if(r.add(e,F),ge===Gn)return null;y&&y(e);let _e=!f;if(F.type===pe.Element){_e=_e&&!F.needBlock,delete F.needBlock;let U=e.shadowRoot;U&&$n(U)&&(F.isShadowHost=!0)}if((F.type===pe.Document||F.type===pe.Element)&&_e){v.headWhitespace&&F.type===pe.Element&&F.tagName==="head"&&(J=!1);let U={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:b,maskTextFn:E,maskInputFn:g,slimDOMOptions:v,dataURLOptions:A,inlineImages:T,recordCanvas:w,preserveWhiteSpace:J,onSerialize:y,onIframeLoad:_,iframeLoadTimeout:I,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:x};for(let ie of Array.from(e.childNodes)){let Ee=sn(ie,U);Ee&&F.childNodes.push(Ee)}if(eh(e)&&e.shadowRoot)for(let ie of Array.from(e.shadowRoot.childNodes)){let Ee=sn(ie,U);Ee&&($n(e.shadowRoot)&&(Ee.isShadow=!0),F.childNodes.push(Ee))}}return e.parentNode&&Wn(e.parentNode)&&$n(e.parentNode)&&(F.isShadow=!0),F.type===pe.Element&&F.tagName==="iframe"&&Eh(e,()=>{let U=e.contentDocument;if(U&&_){let ie=sn(U,{doc:U,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:b,maskTextFn:E,maskInputFn:g,slimDOMOptions:v,dataURLOptions:A,inlineImages:T,recordCanvas:w,preserveWhiteSpace:J,onSerialize:y,onIframeLoad:_,iframeLoadTimeout:I,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:x});ie&&_(e,ie)}},I),F.type===pe.Element&&F.tagName==="link"&&typeof F.attributes.rel=="string"&&(F.attributes.rel==="stylesheet"||F.attributes.rel==="preload"&&typeof F.attributes.href=="string"&&Uc(F.attributes.href)==="css")&&wh(e,()=>{if(M){let U=sn(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:b,maskTextFn:E,maskInputFn:g,slimDOMOptions:v,dataURLOptions:A,inlineImages:T,recordCanvas:w,preserveWhiteSpace:J,onSerialize:y,onIframeLoad:_,iframeLoadTimeout:I,onStylesheetLoad:M,stylesheetLoadTimeout:k,keepIframeSrcFn:x});U&&M(e,U)}},k),F}function Rh(e,t){let{mirror:n=new Pr,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:b,maskTextFn:E,maskInputFn:g,slimDOM:v=!1,dataURLOptions:A,preserveWhiteSpace:T,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:I,stylesheetLoadTimeout:M,keepIframeSrcFn:k=()=>!1}=t||{};return sn(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:b,maskTextFn:E,maskInputFn:g,slimDOMOptions:v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:v==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:v===!1?{}:v,dataURLOptions:A,inlineImages:f,recordCanvas:p,preserveWhiteSpace:T,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:I,stylesheetLoadTimeout:M,keepIframeSrcFn:k,newlyAddedElement:!1})}function bt(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function ve(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var nn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Ic={map:{},getId(){return console.error(nn),-1},getNode(){return console.error(nn),null},removeNodeFromMap(){console.error(nn)},has(){return console.error(nn),!1},reset(){console.error(nn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ic=new Proxy(Ic,{get(e,t,n){return t==="map"&&console.error(nn),Reflect.get(e,t,n)}}));function Vn(e,t,n={}){let r=null,o=0;return function(...i){let s=Date.now();!o&&n.leading===!1&&(o=s);let a=t-(s-o),c=this;a<=0||a>t?(r&&(Dh(r),r=null),o=s,e.apply(c,i)):!r&&n.trailing!==!1&&(r=Jr(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function jc(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Jr(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>jc(e,t,i||{},!0)}function ns(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}var Br=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Br=()=>new Date().getTime());function Gc(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:bt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||bt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||bt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:bt([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||bt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||bt([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Vc(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Yc(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Xc(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function je(e,t,n,r,o){if(!e)return!1;let i=Xc(e);if(!i)return!1;let s=on(t,n);if(!o){let l=r&&i.matches(r);return s(i)&&!l}let a=Nt(i,s),c=-1;return a<0?!1:(r&&(c=Nt(i,on(null,r))),a>-1&&c<0?!0:a<c)}function Mh(e,t){return t.getId(e)!==-1}function Ii(e,t){return t.getId(e)===Gn}function Kc(e,t){if(Wn(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Kc(e.parentNode,t):!0:!0}function Mi(e){return!!e.changedTouches}function Ah(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Jc(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Qc(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Ai(e){return!!bt([e,"optionalAccess",t=>t.shadowRoot])}var Ni=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return pa(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Zc(e){let t=null;return bt([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Nh(e){let t=e,n;for(;n=Zc(t);)t=n;return t}function Oh(e){let t=e.ownerDocument;if(!t)return!1;let n=Nh(e);return t.contains(n)}function el(e){let t=e.ownerDocument;return t?t.contains(e)||Oh(e):!1}var kc={};function rs(e){let t=kc[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return kc[e]=r.bind(window)}function Lh(...e){return rs("requestAnimationFrame")(...e)}function Jr(...e){return rs("setTimeout")(...e)}function Dh(...e){return rs("clearTimeout")(...e)}var L=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(L||{}),D=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(D||{}),Se=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Se||{}),lt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(lt||{});function Ph(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}function Cc(e){return"__ln"in e}var Oi=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=Ph([n,"optionalAccess",o=>o.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Cc(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Cc(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},Tc=(e,t)=>`${e}@${t}`,Li=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new Oi,o=c=>{let l=c,d=Gn;for(;d===Gn;)l=l&&l.nextSibling,d=l&&this.mirror.getId(l);return d},i=c=>{if(!c.parentNode||!el(c))return;let l=Wn(c.parentNode)?this.mirror.getId(Zc(c)):this.mirror.getId(c.parentNode),d=o(c);if(l===-1||d===-1)return r.addNode(c);let u=sn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Jc(f,this.mirror)&&this.iframeManager.addIframe(f),Qc(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Ai(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});u&&(t.push({parentId:l,nextId:d,node:u}),n.add(u.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)xc(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!Rc(this.droppedSet,c)&&!xc(this.removes,c,this.mirror)||Rc(this.movedSet,c)?i(c):this.droppedSet.add(c);let s=null;for(;r.length;){let c=null;if(s){let l=this.mirror.getId(s.value.parentNode),d=o(s.value);l!==-1&&d!==-1&&(c=s)}if(!c){let l=r.tail;for(;l;){let d=l;if(l=l.previous,d){let u=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(u!==-1){c=d;break}else{let p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}s=c.previous,r.removeNode(c.value),i(c.value)}let a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:l}=c;if(typeof l.style=="string"){let d=JSON.stringify(c.styleDiff),u=JSON.stringify(c._unchangedStyles);d.length<l.style.length&&(d+u).split("var(").length===l.style.split("var(").length&&(l.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:l}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Ii(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:ln(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Xc(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){let s=Zi(n),a=n.tagName;o=Fr(n,a,s);let c=Kr({maskInputOptions:this.maskInputOptions,tagName:a,type:s}),l=ln(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=jn({isMasked:l,element:n,value:o,maskInputFn:this.maskInputFn})}if(je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!qc(n.tagName,r)&&(i.attributes[r]=zc(this.doc,cn(n.tagName),cn(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let a of Array.from(n.style)){let c=n.style.getPropertyValue(a),l=n.style.getPropertyPriority(a);c!==s.style.getPropertyValue(a)||l!==s.style.getPropertyPriority(a)?l===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,l]:i._unchangedStyles[a]=[c,l]}for(let a of Array.from(s.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),o=Wn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);je(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ii(n,this.mirror)||!Mh(n,this.mirror)||(this.addedSet.has(n)?(Di(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Kc(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Tc(r,o)]?Di(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:Wn(t.target)&&$n(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Ii(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Tc(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);je(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Ai(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Di(e,t){e.delete(t),t.childNodes.forEach(n=>Di(e,n))}function xc(e,t,n){return e.length===0?!1:tl(e,t,n)}function tl(e,t,n){let{parentNode:r}=t;if(!r)return!1;let o=n.getId(r);return e.some(i=>i.id===o)?!0:tl(e,r,n)}function Rc(e,t){return e.size===0?!1:nl(e,t)}function nl(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:nl(e,n):!1}var zn;function Fh(e){zn=e}function Hh(){zn=void 0}var B=e=>zn?(...n)=>{try{return e(...n)}catch(r){if(zn&&zn(r)===!0)return()=>{};throw r}}:e;function qe(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var an=[];function Jn(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function rl(e,t){let n=new Li;an.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,o=qe([window,"optionalAccess",s=>s.Zone,"optionalAccess",s=>s.__symbol__,"optionalCall",s=>s("MutationObserver")]);o&&window[o]&&(r=window[o]);let i=new r(B(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Bh({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let o=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],a,c=Vn(B(u=>{let f=Date.now()-a;e(s.map(p=>(p.timeOffset-=f,p)),u),s=[],a=null}),i),l=B(Vn(B(u=>{let f=Jn(u),{clientX:p,clientY:h}=Mi(u)?u.changedTouches[0]:u;a||(a=Br()),s.push({x:p,y:h,id:r.getId(f),timeOffset:Br()-a}),c(typeof DragEvent<"u"&&u instanceof DragEvent?D.Drag:u instanceof MouseEvent?D.MouseMove:D.TouchMove)}),o,{trailing:!1})),d=[ve("mousemove",l,n),ve("touchmove",l,n),ve("drag",l,n)];return B(()=>{d.forEach(u=>u())})}function Uh({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,c=[],l=null,d=u=>f=>{let p=Jn(f);if(je(p,r,o,i,!0))return;let h=null,b=u;if("pointerType"in f){switch(f.pointerType){case"mouse":h=lt.Mouse;break;case"touch":h=lt.Touch;break;case"pen":h=lt.Pen;break}h===lt.Touch?Se[u]===Se.MouseDown?b="TouchStart":Se[u]===Se.MouseUp&&(b="TouchEnd"):lt.Pen}else Mi(f)&&(h=lt.Touch);h!==null?(l=h,(b.startsWith("Touch")&&h===lt.Touch||b.startsWith("Mouse")&&h===lt.Mouse)&&(h=null)):Se[u]===Se.Click&&(h=l,l=null);let E=Mi(f)?f.changedTouches[0]:f;if(!E)return;let g=n.getId(p),{clientX:v,clientY:A}=E;B(e)({type:Se[b],id:g,x:v,y:A,...h!==null&&{pointerType:h}})};return Object.keys(Se).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&a[u]!==!1).forEach(u=>{let f=cn(u),p=d(u);if(window.PointerEvent)switch(Se[u]){case Se.MouseDown:case Se.MouseUp:f=f.replace("mouse","pointer");break;case Se.TouchStart:case Se.TouchEnd:return}c.push(ve(f,p,t))}),B(()=>{c.forEach(u=>u())})}function ol({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:s}){let a=B(Vn(B(c=>{let l=Jn(c);if(!l||je(l,r,o,i,!0))return;let d=n.getId(l);if(l===t&&t.defaultView){let u=Gc(t.defaultView);e({id:d,x:u.left,y:u.top})}else e({id:d,x:l.scrollLeft,y:l.scrollTop})}),s.scroll||100));return ve("scroll",a,t)}function Wh({viewportResizeCb:e},{win:t}){let n=-1,r=-1,o=B(Vn(B(()=>{let i=Vc(),s=Yc();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return ve("resize",o,t)}var $h=["INPUT","TEXTAREA","SELECT"],Mc=new WeakMap;function zh({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:d,userTriggeredOnInput:u,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:b}){function E(_){let I=Jn(_),M=_.isTrusted,k=I&&xi(I.tagName);if(k==="OPTION"&&(I=I.parentElement),!I||!k||$h.indexOf(k)<0||je(I,r,o,i,!0))return;let x=I;if(x.classList.contains(s)||a&&x.matches(a))return;let W=Zi(I),J=Fr(x,k,W),Q=!1,ge=Kr({maskInputOptions:c,tagName:k,type:W}),F=ln(I,f,h,p,b,ge);(W==="radio"||W==="checkbox")&&(Q=I.checked),J=jn({isMasked:F,element:I,value:J,maskInputFn:l}),g(I,u?{text:J,isChecked:Q,userTriggered:M}:{text:J,isChecked:Q});let _e=I.name;W==="radio"&&_e&&Q&&t.querySelectorAll(`input[type="radio"][name="${_e}"]`).forEach(U=>{if(U!==I){let ie=jn({isMasked:F,element:U,value:Fr(U,k,W),maskInputFn:l});g(U,u?{text:ie,isChecked:!Q,userTriggered:!1}:{text:ie,isChecked:!Q})}})}function g(_,I){let M=Mc.get(_);if(!M||M.text!==I.text||M.isChecked!==I.isChecked){Mc.set(_,I);let k=n.getId(_);B(e)({...I,id:k})}}let A=(d.input==="last"?["change"]:["input","change"]).map(_=>ve(_,B(E),t)),T=t.defaultView;if(!T)return()=>{A.forEach(_=>_())};let w=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),y=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&A.push(...y.map(_=>jc(_[0],_[1],{set(){B(E)({target:this,isTrusted:!1})}},!1,T))),B(()=>{A.forEach(_=>_())})}function Ur(e){let t=[];function n(r,o){if(Nr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Nr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Nr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Nr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(s)}return o}return n(e,t)}function St(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function qh({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:B((d,u,f)=>{let[p,h]=f,{id:b,styleId:E}=St(u,t,n.styleMirror);return(b&&b!==-1||E&&E!==-1)&&e({id:b,styleId:E,adds:[{rule:p,index:h}]}),d.apply(u,f)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:B((d,u,f)=>{let[p]=f,{id:h,styleId:b}=St(u,t,n.styleMirror);return(h&&h!==-1||b&&b!==-1)&&e({id:h,styleId:b,removes:[{index:p}]}),d.apply(u,f)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:B((d,u,f)=>{let[p]=f,{id:h,styleId:b}=St(u,t,n.styleMirror);return(h&&h!==-1||b&&b!==-1)&&e({id:h,styleId:b,replace:p}),d.apply(u,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:B((d,u,f)=>{let[p]=f,{id:h,styleId:b}=St(u,t,n.styleMirror);return(h&&h!==-1||b&&b!==-1)&&e({id:h,styleId:b,replaceSync:p}),d.apply(u,f)})}));let c={};Or("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Or("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Or("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Or("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let l={};return Object.entries(c).forEach(([d,u])=>{l[d]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(l[d].insertRule,{apply:B((f,p,h)=>{let[b,E]=h,{id:g,styleId:v}=St(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||v&&v!==-1)&&e({id:g,styleId:v,adds:[{rule:b,index:[...Ur(p),E||0]}]}),f.apply(p,h)})}),u.prototype.deleteRule=new Proxy(l[d].deleteRule,{apply:B((f,p,h)=>{let[b]=h,{id:E,styleId:g}=St(p.parentStyleSheet,t,n.styleMirror);return(E&&E!==-1||g&&g!==-1)&&e({id:E,styleId:g,removes:[{index:[...Ur(p),b]}]}),f.apply(p,h)})})}),B(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,u])=>{u.prototype.insertRule=l[d].insertRule,u.prototype.deleteRule=l[d].deleteRule})})}function il({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let o=n.nodeName==="#document"?qe([n,"access",s=>s.defaultView,"optionalAccess",s=>s.Document]):qe([n,"access",s=>s.ownerDocument,"optionalAccess",s=>s.defaultView,"optionalAccess",s=>s.ShadowRoot]),i=qe([o,"optionalAccess",s=>s.prototype])?Object.getOwnPropertyDescriptor(qe([o,"optionalAccess",s=>s.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return qe([i,"access",s=>s.get,"optionalAccess",s=>s.call,"call",s=>s(this)])},set(s){let a=qe([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,s)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return a}}),B(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function jh({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){let i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:B((a,c,l)=>{let[d,u,f]=l;if(n.has(d))return i.apply(c,[d,u,f]);let{id:p,styleId:h}=St(qe([c,"access",b=>b.parentRule,"optionalAccess",b=>b.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:u,priority:f},index:Ur(c.parentRule)}),a.apply(c,l)})});let s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:B((a,c,l)=>{let[d]=l;if(n.has(d))return s.apply(c,[d]);let{id:u,styleId:f}=St(qe([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(u&&u!==-1||f&&f!==-1)&&e({id:u,styleId:f,remove:{property:d},index:Ur(c.parentRule)}),a.apply(c,l)})}),B(()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s})}function Gh({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:s}){let a=B(l=>Vn(B(d=>{let u=Jn(d);if(!u||je(u,t,n,r,!0))return;let{currentTime:f,volume:p,muted:h,playbackRate:b}=u;e({type:l,id:o.getId(u),currentTime:f,volume:p,muted:h,playbackRate:b})}),i.media||500)),c=[ve("play",a(0),s),ve("pause",a(1),s),ve("seeked",a(2),s),ve("volumechange",a(3),s),ve("ratechange",a(4),s)];return B(()=>{c.forEach(l=>l())})}function Vh({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(c,l,d){let u=new i(c,l,d);return o.set(u,{family:c,buffer:typeof l!="string",descriptors:d,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),u};let s=ns(t.fonts,"add",function(a){return function(c){return Jr(B(()=>{let l=o.get(c);l&&(e(l),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(s),B(()=>{r.forEach(a=>a())})}function Yh(e){let{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:s}=e,a=!0,c=B(()=>{let l=t.getSelection();if(!l||a&&qe([l,"optionalAccess",f=>f.isCollapsed]))return;a=l.isCollapsed||!1;let d=[],u=l.rangeCount||0;for(let f=0;f<u;f++){let p=l.getRangeAt(f),{startContainer:h,startOffset:b,endContainer:E,endOffset:g}=p;je(h,r,o,i,!0)||je(E,r,o,i,!0)||d.push({start:n.getId(h),startOffset:b,end:n.getId(E),endOffset:g})}s({ranges:d})});return c(),ve("selectionchange",c)}function Xh({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:ns(n.customElements,"define",function(o){return function(i,s,a){try{t({define:{name:i}})}catch{}return o.apply(this,[i,s,a])}})}function Kh(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=rl(e,e.doc));let o=Bh(e),i=Uh(e),s=ol(e),a=Wh(e,{win:n}),c=zh(e),l=Gh(e),d=()=>{},u=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=qh(e,{win:n}),u=il(e,e.doc),f=jh(e,{win:n}),e.collectFonts&&(p=Vh(e)));let h=Yh(e),b=Xh(e),E=[];for(let g of e.plugins)E.push(g.observer(g.callback,n,g.options));return B(()=>{an.forEach(g=>g.reset()),qe([r,"optionalAccess",g=>g.disconnect,"call",g=>g()]),o(),i(),s(),a(),c(),l(),d(),u(),f(),p(),h(),b(),E.forEach(g=>g())})}function Nr(e){return typeof window[e]<"u"}function Or(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Yn=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){let i=r||this.getIdToRemoteIdMap(t),s=o||this.getRemoteIdToIdMap(t),a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),s.set(a,n)),a}getIds(t,n){let r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,o))}getRemoteId(t,n,r){let o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=o.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function Ac(e){let t,n=e[0],r=1;for(;r<e.length;){let o=e[r],i=e[r+1];if(r+=2,(o==="optionalAccess"||o==="optionalCall")&&n==null)return;o==="access"||o==="optionalAccess"?(t=n,n=i(n)):(o==="call"||o==="optionalCall")&&(n=i((...s)=>n.call(t,...s)),t=void 0)}return n}var Pi=class{constructor(){this.crossOriginIframeMirror=new Yn(es),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Fi=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Yn(es),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Yn(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Ac([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let o=this.crossOriginIframeMap.get(t.source);if(!o)return;let i=this.transformCrossOriginEvent(o,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case L.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:L.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case L.Meta:case L.Load:case L.DomContentLoaded:return!1;case L.Plugin:return n;case L.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case L.IncrementalSnapshot:switch(n.data.source){case D.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.Drag:case D.TouchMove:case D.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(n.data,t,["id"]),n;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case D.Font:return n;case D.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case D.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Ac([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(o=>{this.replaceStyleIds(o,t,["styleId"])})]),n}}return!1}replace(t,n,r,o){for(let i of o)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==pe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},Hi=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Bi=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!$n(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=rl({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(ol({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Jr(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(il({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(ns(t.prototype,"attachShadow",function(o){return function(i){let s=o.call(this,i);return this.shadowRoot&&el(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Wr=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},Ui=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ni,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},o=[];for(let i of t){let s;this.styleMirror.has(i)?s=this.styleMirror.getId(i):(s=this.styleMirror.add(i),o.push({styleId:s,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:Bc(a),index:c}))})),r.styleIds.push(s)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Wi=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Lh(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},ce,$r;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=nt([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var ze=sh();function Et(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:d="rr-mask",unmaskTextClass:u=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:b,maskInputOptions:E,slimDOMOptions:g,maskAttributeFn:v,maskInputFn:A,maskTextFn:T,maxCanvasSize:w=null,packFn:y,sampling:_={},dataURLOptions:I={},mousemoveWait:M,recordDOM:k=!0,recordCanvas:x=!1,recordCrossOriginIframes:W=!1,recordAfter:J=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Q=!1,collectFonts:ge=!1,inlineImages:F=!1,plugins:_e,keepIframeSrcFn:U=()=>!1,ignoreCSSAttributes:ie=new Set([]),errorHandler:Ee,onMutation:Le,getCanvasManager:De}=e;Fh(Ee);let Re=W?window.parent===window:!0,Ge=!1;if(!Re)try{window.parent.document&&(Ge=!1)}catch{Ge=!0}if(Re&&!t)throw new Error("emit function is required");M!==void 0&&_.mousemove===void 0&&(_.mousemove=M),ze.reset();let Ht=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},Bt=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};Ah();let Ut,Wt=0,$t=$=>{for(let Fe of _e||[])Fe.eventProcessor&&($=Fe.eventProcessor($));return y&&!Ge&&($=y($)),$};ce=($,Fe)=>{let H=$;if(H.timestamp=Br(),nt([an,"access",ne=>ne[0],"optionalAccess",ne=>ne.isFrozen,"call",ne=>ne()])&&H.type!==L.FullSnapshot&&!(H.type===L.IncrementalSnapshot&&H.data.source===D.Mutation)&&an.forEach(ne=>ne.unfreeze()),Re)nt([t,"optionalCall",ne=>ne($t(H),Fe)]);else if(Ge){let ne={type:"rrweb",event:$t(H),origin:window.location.origin,isCheckout:Fe};window.parent.postMessage(ne,"*")}if(H.type===L.FullSnapshot)Ut=H,Wt=0;else if(H.type===L.IncrementalSnapshot){if(H.data.source===D.Mutation&&H.data.isAttachIframe)return;Wt++;let ne=r&&Wt>=r,z=n&&Ut&&H.timestamp-Ut.timestamp>n;(ne||z)&&bo(!0)}};let Y=$=>{ce({type:L.IncrementalSnapshot,data:{source:D.Mutation,...$}})},te=$=>ce({type:L.IncrementalSnapshot,data:{source:D.Scroll,...$}}),we=$=>ce({type:L.IncrementalSnapshot,data:{source:D.CanvasMutation,...$}}),fe=$=>ce({type:L.IncrementalSnapshot,data:{source:D.AdoptedStyleSheet,...$}}),se=new Ui({mutationCb:Y,adoptedStyleSheetCb:fe}),Pe=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Pi:new Fi({mirror:ze,mutationCb:Y,stylesheetManager:se,recordCrossOriginIframes:W,wrappedEmit:ce});for(let $ of _e||[])$.getMirror&&$.getMirror({nodeMirror:ze,crossOriginIframeMirror:Pe.crossOriginIframeMirror,crossOriginIframeStyleMirror:Pe.crossOriginIframeStyleMirror});let Ve=new Wi,Sn=Qh(De,{mirror:ze,win:window,mutationCb:$=>ce({type:L.IncrementalSnapshot,data:{source:D.CanvasMutation,...$}}),recordCanvas:x,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:w,sampling:_.canvas,dataURLOptions:I,errorHandler:Ee}),ar=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Hi:new Bi({mutationCb:Y,scrollCb:te,bypassOptions:{onMutation:Le,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Ht,dataURLOptions:I,maskAttributeFn:v,maskTextFn:T,maskInputFn:A,recordCanvas:x,inlineImages:F,sampling:_,slimDOMOptions:Bt,iframeManager:Pe,stylesheetManager:se,canvasManager:Sn,keepIframeSrcFn:U,processedNodeManager:Ve},mirror:ze}),bo=($=!1)=>{if(!k)return;ce({type:L.Meta,data:{href:window.location.href,width:Yc(),height:Vc()}},$),se.reset(),ar.init(),an.forEach(H=>H.lock());let Fe=Rh(document,{mirror:ze,blockClass:o,blockSelector:i,unblockSelector:s,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Ht,maskAttributeFn:v,maskInputFn:A,maskTextFn:T,slimDOM:Bt,dataURLOptions:I,recordCanvas:x,inlineImages:F,onSerialize:H=>{Jc(H,ze)&&Pe.addIframe(H),Qc(H,ze)&&se.trackLinkElement(H),Ai(H)&&ar.addShadowRoot(H.shadowRoot,document)},onIframeLoad:(H,ne)=>{Pe.attachIframe(H,ne),H.contentWindow&&Sn.addWindow(H.contentWindow),ar.observeAttachShadow(H)},onStylesheetLoad:(H,ne)=>{se.attachLinkElement(H,ne)},keepIframeSrcFn:U});if(!Fe)return console.warn("Failed to snapshot the document");ce({type:L.FullSnapshot,data:{node:Fe,initialOffset:Gc(window)}}),an.forEach(H=>H.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&se.adoptStyleSheets(document.adoptedStyleSheets,ze.getId(document))};$r=bo;try{let $=[],Fe=ne=>B(Kh)({onMutation:Le,mutationCb:Y,mousemoveCb:(z,Ct)=>ce({type:L.IncrementalSnapshot,data:{source:Ct,positions:z}}),mouseInteractionCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.MouseInteraction,...z}}),scrollCb:te,viewportResizeCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.ViewportResize,...z}}),inputCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.Input,...z}}),mediaInteractionCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.MediaInteraction,...z}}),styleSheetRuleCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.StyleSheetRule,...z}}),styleDeclarationCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.StyleDeclaration,...z}}),canvasMutationCb:we,fontCb:z=>ce({type:L.IncrementalSnapshot,data:{source:D.Font,...z}}),selectionCb:z=>{ce({type:L.IncrementalSnapshot,data:{source:D.Selection,...z}})},customElementCb:z=>{ce({type:L.IncrementalSnapshot,data:{source:D.CustomElement,...z}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:d,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Ht,inlineStylesheet:h,sampling:_,recordDOM:k,recordCanvas:x,inlineImages:F,userTriggeredOnInput:Q,collectFonts:ge,doc:ne,maskAttributeFn:v,maskInputFn:A,maskTextFn:T,keepIframeSrcFn:U,blockSelector:i,unblockSelector:s,slimDOMOptions:Bt,dataURLOptions:I,mirror:ze,iframeManager:Pe,stylesheetManager:se,shadowDomManager:ar,processedNodeManager:Ve,canvasManager:Sn,ignoreCSSAttributes:ie,plugins:nt([_e,"optionalAccess",z=>z.filter,"call",z=>z(Ct=>Ct.observer),"optionalAccess",z=>z.map,"call",z=>z(Ct=>({observer:Ct.observer,options:Ct.options,callback:Uu=>ce({type:L.Plugin,data:{plugin:Ct.name,payload:Uu}})}))])||[]},{});Pe.addLoadListener(ne=>{try{$.push(Fe(ne.contentDocument))}catch(z){console.warn(z)}});let H=()=>{bo(),$.push(Fe(document))};return document.readyState==="interactive"||document.readyState==="complete"?H():($.push(ve("DOMContentLoaded",()=>{ce({type:L.DomContentLoaded,data:{}}),J==="DOMContentLoaded"&&H()})),$.push(ve("load",()=>{ce({type:L.Load,data:{}}),J==="load"&&H()},window))),()=>{$.forEach(ne=>ne()),Ve.destroy(),$r=void 0,Hh()}}catch($){console.warn($)}}function Jh(e){if(!$r)throw new Error("please take full snapshot after start recording");$r(e)}Et.mirror=ze;Et.takeFullSnapshot=Jh;function Qh(e,t){try{return e?e(t):new Wr}catch{return console.warn("Unable to initialize CanvasManager"),new Wr}}var Zh=3,em=5;function os(e){return e>9999999999?e:e*1e3}function ki(e){return e>9999999999?e/1e3:e}function Qn(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:L.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ko(t,10,1e3)}}),t.category==="console")))}var tm="button,a";function sl(e){return e.closest(tm)||e}function al(e){let t=cl(e);return!t||!(t instanceof Element)?t:sl(t)}function cl(e){return nm(e)?e.target:e}function nm(e){return typeof e=="object"&&!!e&&"target"in e}var vt;function rm(e){return vt||(vt=[],om()),vt.push(e),()=>{let t=vt?vt.indexOf(e):-1;t>-1&&vt.splice(t,1)}}function om(){le(K,"open",function(e){return function(...t){if(vt)try{vt.forEach(n=>n())}catch{}return e.apply(K,t)}})}function im(e,t,n){e.handleClick(t,n)}var $i=class{constructor(t,n,r=Qn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=rm(()=>{this._lastMutation=Nc()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(am(n,this._ignoreSelector)||!cm(t))return;let r={timestamp:ki(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ki(t)}registerScroll(t=Date.now()){this._lastScroll=ki(t)}registerClick(t){let n=sl(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=Nc();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!o,{clickCount:s,clickBreadcrumb:a}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,l=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:K.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:l,clickCount:s||1}};this._addBreadcrumbEvent(n,d);return}if(s>1){let c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:K.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=ct(()=>this._checkClicks(),1e3)}},sm=["A","BUTTON","INPUT"];function am(e,t){return!!(!sm.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function cm(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Nc(){return Date.now()/1e3}function lm(e,t){try{if(!um(t))return;let{source:n}=t.data;if(n===D.Mutation&&e.registerMutation(t.timestamp),n===D.Scroll&&e.registerScroll(t.timestamp),dm(t)){let{type:r,id:o}=t.data,i=Et.mirror.getNode(o);i instanceof HTMLElement&&r===Se.Click&&e.registerClick(i)}}catch{}}function um(e){return e.type===Zh}function dm(e){return e.data.source===D.MouseInteraction}function Ke(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var zr;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(zr||(zr={}));var fm=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function pm(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(fm.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var hm=e=>t=>{if(!e.isEnabled())return;let n=mm(t);if(!n)return;let r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o&&o.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&im(e.clickDetector,n,al(t.event)),Qn(e,n)};function ll(e,t){let n=Et.mirror.getId(e),r=n&&Et.mirror.getNode(n),o=r&&Et.mirror.getMeta(r),i=o&&_m(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===zr.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:pm(i.attributes)}}:{}}}function mm(e){let{target:t,message:n}=gm(e);return Ke({category:`ui.${e.name}`,...ll(t,n)})}function gm(e){let t=e.name==="click",n,r=null;try{r=t?al(e.event):cl(e.event),n=He(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function _m(e){return e.type===zr.Element}function ym(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=bm(t);n&&Qn(e,n)}function bm(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:s}=e;if(!s||Sm(s)||!i)return null;let a=t||r||o,c=i.length===1;if(!a&&c)return null;let l=He(s,{maxStringLength:200})||"<unknown>",d=ll(s,l);return Ke({category:"ui.keyDown",message:l,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}function Sm(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var vm={resource:Cm,paint:Im,navigation:km};function Lr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Em(e){return e.map(wm).filter(Boolean)}function wm(e){let t=vm[e.entryType];return t?t(e):null}function un(e){return((ae||K.performance.timeOrigin)+e)/1e3}function Im(e){let{duration:t,entryType:n,name:r,startTime:o}=e,i=un(o);return{type:n,name:r,start:i,end:i+t,data:void 0}}function km(e){let{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:d,loadEventEnd:u,redirectCount:f,startTime:p,transferSize:h,type:b}=e;return o===0?null:{type:`${t}.${b}`,start:un(p),end:un(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:s,duration:o,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:u,domComplete:i,redirectCount:f}}}function Cm(e){let{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:c,transferSize:l}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:un(i),end:un(o),name:r,data:{size:l,statusCode:c,decodedBodySize:s,encodedBodySize:a}}}function Tm(e){let t=e.entries[e.entries.length-1],n=t?t.element:void 0;return Qr(e,"largest-contentful-paint",n)}function xm(e){let t=e.entries[0],n=t&&t.sources&&t.sources[0]?t.sources[0].node:void 0;return Qr(e,"cumulative-layout-shift",n)}function Rm(e){let t=e.entries[e.entries.length-1],n=t?t.target:void 0;return Qr(e,"first-input-delay",n)}function Mm(e){let t=e.entries[e.entries.length-1],n=t?t.target:void 0;return Qr(e,"interaction-to-next-paint",n)}function Qr(e,t,n){let r=e.value,o=e.rating,i=un(r);return{type:"web-vital",name:t,start:i,end:i,data:{value:r,size:r,rating:o,nodeId:n?Et.mirror.getId(n):void 0}}}function Am(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(o=>{r.push($e(o,n))}),r.push(An(Lr(Tm,e)),Mn(Lr(xm,e)),Nn(Lr(Rm,e)),On(Lr(Mm,e))),()=>{r.forEach(o=>o())}}var j=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nm='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Om(){let e=new Blob([Nm]);return URL.createObjectURL(e)}function Ce(e,t){j&&(S.info(e),t&&ul(e))}function Ot(e,t){j&&(S.info(e),t&&ct(()=>{ul(e)},0))}function ul(e){We({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var Xn=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Qi}.`)}},qr=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Qi)throw new Xn;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?os(t):null}},zi=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ce("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((o,i)=>{let s=({data:a})=>{let c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",s),!c.success){j&&S.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},qi=class{constructor(t){this._worker=new zi(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=os(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Qi?Promise.reject(new Xn):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{j&&S.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},ji=class{constructor(t){this._fallback=new qr,this._compression=new qi(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{Ce("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n}=this._fallback,r=[];for(let o of t)r.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(o){j&&S.warn("[Replay] Failed to add events when switching buffers.",o)}}};function Lm({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Dm(t);if(n)return n}return Ce("[Replay] Using simple buffer"),new qr}function Dm(e){try{let t=e||Pm();if(!t)return;Ce(`[Replay] Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new ji(n)}catch{Ce("[Replay] Failed to create compression worker")}}function Pm(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Om():""}function is(){try{return"sessionStorage"in K&&!!K.sessionStorage}catch{return!1}}function Fm(e){Hm(),e.session=void 0}function Hm(){if(is())try{K.sessionStorage.removeItem(Ki)}catch{}}function dl(e){return e===void 0?!1:Math.random()<e}function fl(e){let t=Date.now(),n=e.id||ht(),r=e.started||t,o=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:o,segmentId:i,sampled:s,previousSessionId:a}}function ss(e){if(is())try{K.sessionStorage.setItem(Ki,JSON.stringify(e))}catch{}}function Bm(e,t){return dl(e)?"session":t?"buffer":!1}function Oc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let o=Bm(e,t),i=fl({sampled:o,previousSessionId:r});return n&&ss(i),i}function Um(e){if(!is())return null;try{let t=K.sessionStorage.getItem(Ki);if(!t)return null;let n=JSON.parse(t);return Ot("[Replay] Loading existing session",e),fl(n)}catch{return null}}function Gi(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function pl(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Gi(e.started,t,r)||Gi(e.lastActivity,n,r)}function hl(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!pl(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ci({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){let i=o.stickySession&&Um(e);return i?hl(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Ot("[Replay] Session in sessionStorage is expired, creating new one..."),Oc(o,{previousSessionId:i.id})):i:(Ot("[Replay] Creating new session",e),Oc(o,{previousSessionId:r}))}function Wm(e){return e.type===L.Custom}function as(e,t,n){return gl(e,t)?(ml(e,t,n),!0):!1}function $m(e,t,n){return gl(e,t)?ml(e,t,n):Promise.resolve(null)}async function ml(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),o=zm(t,r.beforeAddRecordingEvent);return o?await e.eventBuffer.addEvent(o):void 0}catch(r){let o=r&&r instanceof Xn?"addEventSizeExceeded":"addEvent";j&&S.error(r),await e.stop({reason:o});let i=O();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function gl(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=os(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ot(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function zm(e,t){try{if(typeof t=="function"&&Wm(e))return t(e)}catch(n){return j&&S.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function cs(e){return!e.type}function Vi(e){return e.type==="transaction"}function qm(e){return e.type==="replay_event"}function Lc(e){return e.type==="feedback"}function jm(e){return(t,n)=>{if(!e.isEnabled()||!cs(t)&&!Vi(t))return;let r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(Vi(t)){Gm(e,t);return}Vm(e,t)}}}function Gm(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Vm(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||ct(()=>{e.sendBufferedReplayOrFlush()})}function Ym(e){return t=>{!e.isEnabled()||!cs(t)||Xm(e,t)}}function Xm(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=Ke({category:"replay.hydrate-error",data:{url:qt()}});Qn(e,r)}}function Km(e){let t=O();t&&t.on("beforeAddBreadcrumb",n=>Jm(e,n))}function Jm(e,t){if(!e.isEnabled()||!_l(t))return;let n=Qm(t);n&&Qn(e,n)}function Qm(e){return!_l(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?Zm(e):Ke(e)}function Zm(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ke(e);let n=!1,r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Ar?(n=!0,`${o.slice(0,Ar)}\u2026`):o;if(typeof o=="object")try{let i=ko(o,7);return JSON.stringify(i).length>Ar?(n=!0,`${JSON.stringify(i,null,2).slice(0,Ar)}\u2026`):i}catch{}return o});return Ke({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function _l(e){return!!e.category}function eg(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function tg(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:L.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function ng(e,t){return e.recordingMode!=="buffer"||t.message===Ji||!t.exception||t.type?!1:dl(e.getOptions().errorSampleRate)}function rg(e){return Object.assign((t,n)=>e.isEnabled()?qm(t)?(delete t.breadcrumbs,t):!cs(t)&&!Vi(t)&&!Lc(t)||!e.checkAndHandleExpiredSession()?t:Lc(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),tg(e,t),t):eg(t,n)&&!e.getOptions()._experiments.captureExceptions?(j&&S.log("[Replay] Ignoring error from rrweb internals",t),null):((ng(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):t,{id:"Replay"})}function Zr(e,t){return t.map(({type:n,start:r,end:o,name:i,data:s})=>{let a=e.throttledAddEvent({type:L.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:o,data:s}}});return typeof a=="string"?Promise.resolve(null):a})}function og(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function ig(e){return t=>{if(!e.isEnabled())return;let n=og(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Zr(e,[n]),!1)))}}function sg(e,t){return j&&e.getOptions()._experiments.traceInternals?!1:_r(t,O())}function yl(e,t){e.isEnabled()&&t!==null&&(sg(e,t.name)||e.addUpdate(()=>(Zr(e,[t]),!0)))}function eo(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=El(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function bl(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function Sl(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[El(e)];if(!e)return[void 0]}catch{return j&&S.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return j&&S.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function jr(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function vl(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:s,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:En({method:i,statusCode:s,request:a,response:c})}}function Kn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function wt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:o,warnings:i}=ag(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function Yi(e,t){return Object.entries(e).reduce((n,[r,o])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=o),n},{})}function El(e){return new URLSearchParams(e).toString()}function ag(e){if(!e||typeof e!="string")return{body:e};let t=e.length>bc,n=cg(e);if(t){let r=e.slice(0,bc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function cg(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Gr(e,t){let n=lg(e);return zt(n,t)}function lg(e,t=K.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(K.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function ug(e,t,n){try{let r=await fg(e,t,n),o=vl("resource.fetch",r);yl(n.replay,o)}catch(r){j&&S.error("[Replay] Failed to capture fetch breadcrumb",r)}}function dg(e,t){let{input:n,response:r}=t,o=n?wl(n):void 0,i=eo(o),s=r?bl(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}async function fg(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:s,method:a,status_code:c=0,request_body_size:l,response_body_size:d}=e.data,u=Gr(s,n.networkDetailAllowUrls)&&!Gr(s,n.networkDetailDenyUrls),f=u?pg(n,t.input,l):Kn(l),p=await hg(u,n,t.response,d);return{startTimestamp:o,endTimestamp:i,url:s,method:a,statusCode:c,request:f,response:p}}function pg({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let o=n?_g(n,t):{};if(!e)return wt(o,r,void 0);let i=wl(n),[s,a]=Sl(i),c=wt(o,r,s);return a?jr(c,a):c}async function hg(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return Kn(o);let i=r?Il(r.headers,n):{};if(!r||!t&&o!==void 0)return wt(i,o,void 0);let[s,a]=await gg(r),c=mg(s,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:i});return a?jr(c,a):c}function mg(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{let i=e&&e.length&&n===void 0?eo(e):n;return r?t?wt(o,i,e):wt(o,i,void 0):Kn(i)}catch(i){return j&&S.warn("[Replay] Failed to serialize response body",i),wt(o,n,void 0)}}async function gg(e){let t=yg(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await bg(t)]}catch(n){return j&&S.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function wl(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Il(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function _g(e,t){return e.length===1&&typeof e[0]!="string"?Dc(e[0],t):e.length===2?Dc(e[1],t):{}}function Dc(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Il(n,t):Array.isArray(n)?{}:Yi(n,t):{}}function yg(e){try{return e.clone()}catch(t){j&&S.warn("[Replay] Failed to clone response body",t)}}function bg(e){return new Promise((t,n)=>{let r=ct(()=>n(new Error("Timeout while trying to read response body")),500);Sg(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function Sg(e){return await e.text()}async function vg(e,t,n){try{let r=wg(e,t,n),o=vl("resource.xhr",r);yl(n.replay,o)}catch(r){j&&S.error("[Replay] Failed to capture xhr breadcrumb",r)}}function Eg(e,t){let{xhr:n,input:r}=t;if(!n)return;let o=eo(r),i=n.getResponseHeader("content-length")?bl(n.getResponseHeader("content-length")):Tg(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}function wg(e,t,n){let r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:s,xhr:a}=t,{url:c,method:l,status_code:d=0,request_body_size:u,response_body_size:f}=e.data;if(!c)return null;if(!a||!Gr(c,n.networkDetailAllowUrls)||Gr(c,n.networkDetailDenyUrls)){let y=Kn(u),_=Kn(f);return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:d,request:y,response:_}}let p=a[Te],h=p?Yi(p.request_headers,n.networkRequestHeaders):{},b=Yi(Ig(a),n.networkResponseHeaders),[E,g]=n.networkCaptureBodies?Sl(s):[void 0],[v,A]=n.networkCaptureBodies?kg(a):[void 0],T=wt(h,u,E),w=wt(b,f,v);return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:d,request:g?jr(T,g):T,response:A?jr(w,A):w}}function Ig(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[o,i]=r.split(": ");return i&&(n[o.toLowerCase()]=i),n},{}):{}}function kg(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Cg(e.response,e.responseType)}catch(n){t.push(n)}return j&&S.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function Cg(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return j&&S.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return j&&S.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Tg(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return eo(n)}catch{return}}function xg(e){let t=O();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(c,l)=>Rg(a,c,l))}catch{}}function Rg(e,t,n){if(t.data)try{Mg(t)&&Ng(n)&&(Eg(t,n),vg(t,n,e)),Ag(t)&&Og(n)&&(dg(t,n),ug(t,n,e))}catch{j&&S.warn("Error when enriching network breadcrumb")}}function Mg(e){return e.category==="xhr"}function Ag(e){return e.category==="fetch"}function Ng(e){return e&&e.xhr}function Og(e){return e&&e.response}function Lg(e){let t=O();Fn(hm(e)),at(ig(e)),Km(e),xg(e);let n=rg(e);Wo(n),t&&(t.on("beforeSendEvent",Ym(e)),t.on("afterSendEvent",jm(e)),t.on("createDsc",r=>{let o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,o)=>{let i=e.getSessionId();o&&o.includeReplay&&e.isEnabled()&&i&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=i)}))}async function Dg(e){try{return Promise.all(Zr(e,[Pg(K.performance.memory)]))}catch{return[]}}function Pg(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Fg(e,t,n){let r,o,i,s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){o!==void 0&&clearTimeout(o),i!==void 0&&clearTimeout(i),o=i=void 0}function l(){return o!==void 0||i!==void 0?a():r}function d(){return o&&clearTimeout(o),o=ct(a,t),s&&i===void 0&&(i=ct(a,s)),r}return d.cancel=c,d.flush=l,d}function Hg(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){j&&S.warn("[Replay] Received replay event after session expired.");return}let o=r||!t;t=!0,e.clickDetector&&lm(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!as(e,n,o))return!0;if(!o)return!1;if(Ug(e,o),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){let i=e.eventBuffer.getEarliestTimestamp();i&&(Ce(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&ss(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function Bg(e){let t=e.getOptions();return{type:L.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Ug(e,t){!t||!e.session||e.session.segmentId!==0||as(e,Bg(e),!1)}function Wg(e,t,n,r){return fr(ua(e,la(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function $g({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function zg({client:e,scope:t,replayId:n,event:r}){let o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:o};e.emit("preprocessEvent",r,i);let s=await Ia(e.getOptions(),r,i,t,e,rt());if(!s)return null;s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:c,version:l}=a&&a.sdk||{};return s.sdk={...s.sdk,name:c||"sentry.javascript.unknown",version:l||"0.0.0"},s}async function qg({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){let s=$g({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:d}=r,u=O(),f=ue(),p=u&&u.getTransport(),h=u&&u.getDsn();if(!u||!p||!h||!i.sampled)return Yt({});let b={type:$p,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},E=await zg({scope:f,client:u,replayId:t,event:b});if(!E)return u.recordDroppedEvent("event_processor","replay",b),Ce("An event processor returned `null`, will not send event."),Yt({});delete E.sdkProcessingMetadata;let g=Wg(E,s,h,u.getOptions().tunnel),v;try{v=await p.send(g)}catch(T){let w=new Error(Ji);try{w.cause=T}catch{}throw w}if(typeof v.statusCode=="number"&&(v.statusCode<200||v.statusCode>=300))throw new Vr(v.statusCode);let A=fa({},v);if(da(A,"replay"))throw new Yr(A);return v}var Vr=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},Yr=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function kl(e,t={count:0,interval:Yp}){let{recordingData:n,options:r}=e;if(n.length)try{return await qg(e),!0}catch(o){if(o instanceof Vr||o instanceof Yr)throw o;if(Bo("Replays",{_retryCount:t.count}),j&&r._experiments&&r._experiments.captureExceptions&&Xt(o),t.count>=Xp){let i=new Error(`${Ji} - max retries exceeded`);try{i.cause=o}catch{}throw i}return t.interval*=++t.count,new Promise((i,s)=>{ct(async()=>{try{await kl(e,t),i(!0)}catch(a){s(a)}},t.interval)})}}var Cl="__THROTTLED",jg="__SKIPPED";function Gg(e,t,n){let r=new Map,o=a=>{let c=a-n;r.forEach((l,d)=>{d<c&&r.delete(d)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0),s=!1;return(...a)=>{let c=Math.floor(Date.now()/1e3);if(o(c),i()>=t){let d=s;return s=!0,d?jg:Cl}s=!1;let l=r.get(c)||0;return r.set(c,l+1),e(...a)}}var Xi=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:zp,sessionIdleExpire:qp},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Fg(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Gg((s,a)=>$m(this,s,a),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),i=r?{threshold:Math.min(Kp,r),timeout:r,scrollTimeout:Jp,ignoreSelector:o?o.join(","):""}:void 0;i&&(this.clickDetector=new $i(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ot(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){j&&S.info("[Replay] Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){j&&S.info("[Replay] Buffering is in progress, call `flush()` to save the replay");return}Ot("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();let t=Ci({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){j&&S.info("[Replay] Buffering is in progress, call `flush()` to save the replay");return}Ot("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);let t=Ci({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=Et({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:Vp},emit:Hg(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{Ce(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Fm(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ce("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ce("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();Ce("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Gi(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${K.location.pathname}${K.location.hash}${K.location.search}`,n=`${K.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===Cl){let o=Ke({category:"replay.throttled"});this.addUpdate(()=>!as(this,{type:em,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||de(),n=t&&Ie(t),o=(n&&q(n).data||{})[ot];if(!(!n||!o||!["route","custom"].includes(o)))return q(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Lm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){j&&S.error("[Replay]",t),j&&this._options._experiments&&this._options._experiments.captureExceptions&&Xt(t)}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Ci({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return hl(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{K.document.addEventListener("visibilitychange",this._handleVisibilityChange),K.addEventListener("blur",this._handleWindowBlur),K.addEventListener("focus",this._handleWindowFocus),K.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Lg(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=Am(this)}_removeListeners(){try{K.document.removeEventListener("visibilitychange",this._handleVisibilityChange),K.removeEventListener("blur",this._handleWindowBlur),K.removeEventListener("focus",this._handleWindowFocus),K.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{K.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=Ke({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=Ke({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{ym(this,t)}}_doChangeToBackgroundTasks(t){!this.session||pl(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ce("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:L.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Em(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Zr(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){j&&S.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Dg(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await kl({replayId:t,recordingData:i,segmentId:o,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});let r=O();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){j&&S.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();let i=o<this._options.minReplayDuration,s=o>this._options.maxReplayDuration+5e3;if(i||s){Ce(`[Replay] Session duration (${Math.floor(o/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}let a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&Ce("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){j&&S.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ss(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>o||i){let s=Ke({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function Un(e,t){return[...e,...t].join(",")}function Vg({mask:e,unmask:t,block:n,unblock:r,ignore:o}){let i=['base[href="/"]'],s=Un(e,[".sentry-mask","[data-sentry-mask]"]),a=Un(t,[]);return{maskTextSelector:s,unmaskTextSelector:a,blockSelector:Un(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Un(r,[]),ignoreSelector:Un(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Yg({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Pc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Xg=["content-length","content-type","accept"],Fc=!1,Kg=e=>new Xr(e),Xr=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=jp,flushMaxDelay:n=Gp,minReplayDuration:r=Qp,maxReplayDuration:o=Sc,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:c={},maskAllText:l=!0,maskAllInputs:d=!0,blockAllMedia:u=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:b=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:g=[],networkCaptureBodies:v=!0,networkRequestHeaders:A=[],networkResponseHeaders:T=[],mask:w=[],maskAttributes:y=["title","placeholder"],unmask:_=[],block:I=[],unblock:M=[],ignore:k=[],maskFn:x,beforeAddRecordingEvent:W,beforeErrorSampling:J}={}){this.name=e.id;let Q=Vg({mask:w,unmask:_,block:I,unblock:M,ignore:k});if(this._recordingOptions={maskAllInputs:d,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:x,maskInputFn:x,maskAttributeFn:(ge,F,_e)=>Yg({maskAttributes:y,maskAllText:l,privacyOptions:Q,key:ge,value:F,el:_e}),...Q,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ge=>{try{ge.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Zp),maxReplayDuration:Math.min(o,Sc),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:u,maskAllInputs:d,maskAllText:l,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:b,networkDetailAllowUrls:E,networkDetailDenyUrls:g,networkCaptureBodies:v,networkRequestHeaders:Hc(A),networkResponseHeaders:Hc(T),beforeAddRecordingEvent:W,beforeErrorSampling:J,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Pc}`:Pc),this._isInitialized&&wn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Fc}set _isInitialized(t){Fc=t}afterAllSetup(t){!wn()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=Jg(this._initialOptions,t);this._replay=new Xi({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};Xr.__initStatic();function Jg(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...En(e)},o=Lo(n.replaysSessionSampleRate),i=Lo(n.replaysOnErrorSampleRate);return o==null&&i==null&&ur(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),i!=null&&(r.errorSampleRate=i),r}function Hc(e){return[...Xg,...e.map(t=>t.toLowerCase())]}function Qg(){let e=O();return e&&e.getIntegrationByName("Replay")}m();var Tl;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Tl||(Tl={}));function Zg(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function us(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:us(e.parentNode,t,n,r+1)}function xl(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Zg(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}var dn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Rl={map:{},getId(){return console.error(dn),-1},getNode(){return console.error(dn),null},removeNodeFromMap(){console.error(dn)},has(){return console.error(dn),!1},reset(){console.error(dn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Rl=new Proxy(Rl,{get(e,t,n){return t==="map"&&console.error(dn),Reflect.get(e,t,n)}}));function fs(e,t,n,r,o=window){let i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(s){Pl(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>fs(e,t,i||{},!0)}function ps(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function e_(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function oo(e,t,n,r,o){if(!e)return!1;let i=e_(e);if(!i)return!1;let s=xl(t,n);if(!o){let l=r&&i.matches(r);return s(i)&&!l}let a=us(i,s),c=-1;return a<0?!1:(r&&(c=us(i,xl(null,r))),a>-1&&c<0?!0:a<c)}var Ml={};function Dl(e){let t=Ml[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);let i=o.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(o)}catch{}return Ml[e]=r.bind(window)}function Lt(...e){return Dl("requestAnimationFrame")(...e)}function Pl(...e){return Dl("setTimeout")(...e)}var pn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(pn||{}),no;function t_(e){no=e}var ls=e=>no?(...n)=>{try{return e(...n)}catch(r){if(no&&no(r)===!0)return()=>{};throw r}}:e,fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Zn=0;Zn<fn.length;Zn++)n_[fn.charCodeAt(Zn)]=Zn;var Zn,r_=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=fn[t[n]>>2],o+=fn[(t[n]&3)<<4|t[n+1]>>4],o+=fn[(t[n+1]&15)<<2|t[n+2]>>6],o+=fn[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Al=new Map;function o_(e,t){let n=Al.get(e);return n||(n=new Map,Al.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var Fl=(e,t,n)=>{if(!e||!(Bl(e,t)||typeof e=="object"))return;let r=e.constructor.name,o=o_(n,r),i=o.indexOf(e);return i===-1&&(i=o.length,o.push(e)),i};function ro(e,t,n){if(e instanceof Array)return e.map(r=>ro(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,o=r_(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ro(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ro(e.data,t,n),e.width,e.height]};if(Bl(e,t)||typeof e=="object"){let r=e.constructor.name,o=Fl(e,t,n);return{rr_type:r,index:o}}}}return e}var Hl=(e,t,n)=>e.map(r=>ro(r,t,n)),Bl=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function i_(e,t,n,r,o){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let a of s)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;let c=ps(t.CanvasRenderingContext2D.prototype,a,function(l){return function(...d){return oo(this.canvas,n,r,o,!0)||Pl(()=>{let u=Hl(d,t,this);e(this.canvas,{type:pn["2D"],property:a,args:u})},0),l.apply(this,d)}});i.push(c)}catch{let l=fs(t.CanvasRenderingContext2D.prototype,a,{set(d){e(this.canvas,{type:pn["2D"],property:a,args:[d],setter:!0})}});i.push(l)}return()=>{i.forEach(a=>a())}}function s_(e){return e==="experimental-webgl"?"webgl":e}function Nl(e,t,n,r,o){let i=[];try{let s=ps(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...l){if(!oo(this,t,n,r,!0)){let d=s_(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(l[0]&&typeof l[0]=="object"){let u=l[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...l])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Ol(e,t,n,r,o,i,s,a){let c=[],l=Object.getOwnPropertyNames(e);for(let d of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let u=ps(e,d,function(f){return function(...p){let h=f.apply(this,p);if(Fl(h,a,this),"tagName"in this.canvas&&!oo(this.canvas,r,o,i,!0)){let b=Hl(p,a,this),E={type:t,property:d,args:b};n(this.canvas,E)}return h}});c.push(u)}catch{let f=fs(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(f)}return c}function a_(e,t,n,r,o,i){let s=[];return s.push(...Ol(t.WebGLRenderingContext.prototype,pn.WebGL,e,n,r,o,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Ol(t.WebGL2RenderingContext.prototype,pn.WebGL2,e,n,r,o,i,t)),()=>{s.forEach(a=>a())}}var c_='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function l_(){let e=new Blob([c_]);return URL.createObjectURL(e)}var ds=class{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,nt([this,"access",t=>t.worker,"optionalAccess",t=>t.terminate,"call",t=>t()]),this.worker=null,this.snapshotInProgressMap=new Map,(this.options.recordCanvas&&typeof this.options.sampling=="number"||this.options.enableManualSnapshot)&&(this.worker=this.initFPSWorker())}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.processMutation=(u,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(u)||this.pendingCanvasMutations.set(u,[]),this.pendingCanvasMutations.get(u).push(f)};let{sampling:n="all",win:r,blockClass:o,blockSelector:i,unblockSelector:s,maxCanvasSize:a,recordCanvas:c,dataURLOptions:l,errorHandler:d}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,d&&t_(d),(c&&typeof n=="number"||t.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(r),!t.enableManualSnapshot&&ls(()=>{c&&n==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,o,i,s,a,{dataURLOptions:l})})()}addWindow(t){let{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:i,recordCanvas:s,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}ls(()=>{if(s&&n==="all"&&this.initCanvasMutationObserver(t,r,o,i),s&&typeof n=="number"){let c=Nl(t,r,o,i,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let t=new Worker(l_());return t.onmessage=n=>{let r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;let{base64:i,type:s,width:a,height:c}=r;this.mutationCb({id:o,type:pn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:i}],type:s}]},0,0,a,c]}]})},t}initCanvasFPSObserver(t,n,r,o,i,s){let a=this.takeSnapshot(!1,t,n,r,o,i,s.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a)})}initCanvasMutationObserver(t,n,r,o){let i=Nl(t,n,r,o,!1),s=i_(this.processMutation.bind(this),t,n,r,o),a=a_(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{i(),s(),a()})}snapshot(t){let{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.restoreHandlers.push(()=>{cancelAnimationFrame(r)})}takeSnapshot(t,n,r,o,i,s,a,c){let l=1e3/n,d=0,u,f=h=>{if(h)return[h];let b=[],E=g=>{g.querySelectorAll("canvas").forEach(v=>{oo(v,r,o,i,!0)||b.push(v)})};for(let g of this.windows){let v=g.deref();v&&E(v.document)}for(let g of this.shadowDoms){let v=g.deref();v&&E(v)}return b},p=h=>{if(this.windows.length){if(d&&h-d<l){u=Lt(p);return}d=h,f(c).forEach(b=>{if(!this.mirror.hasNode(b))return;let E=this.mirror.getId(b);if(!this.snapshotInProgressMap.get(E)&&!(!b.width||!b.height)){if(this.snapshotInProgressMap.set(E,!0),!t&&["webgl","webgl2"].includes(b.__context)){let g=b.getContext(b.__context);nt([g,"optionalAccess",v=>v.getContextAttributes,"call",v=>v(),"optionalAccess",v=>v.preserveDrawingBuffer])===!1&&g.clear(g.COLOR_BUFFER_BIT)}createImageBitmap(b).then(g=>{nt([this,"access",v=>v.worker,"optionalAccess",v=>v.postMessage,"call",v=>v({id:E,bitmap:g,width:b.width,height:b.height,dataURLOptions:a,maxCanvasSize:s},[g])])}).catch(g=>{ls(()=>{throw g})()})}}),u=Lt(p)}};return u=Lt(p),u}startPendingCanvasMutationFlusher(){Lt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=n=>{this.rafStamps.latestId=n,Lt(t)};Lt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{let r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Lt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;let r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;let o=r.map(s=>{let{type:a,...c}=s;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}},Ll={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},u_="ReplayCanvas",to=1280,d_=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,to):to,n?Math.min(n,to):to]},o,i=new Promise(s=>o=s);return{name:u_,getOptions(){let{quality:s,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:l=>{let d=new ds({...l,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:u=>{try{typeof u=="object"&&(u.__rrweb__=!0)}catch{}}});return o(d),d},...Ll[s||"medium"]||Ll.medium}},async snapshot(s){(await i).snapshot(s)}}},f_=d_;m();m();var Je=ye,Z=Je.document,tr=Je.navigator,ru="Report a Bug",p_="Cancel",h_="Send Bug Report",m_="Confirm",g_="Report a Bug",__="your.email@example.org",y_="Email",b_="What's the bug? What did you expect?",S_="Description",v_="Your Name",E_="Name",w_="Thank you for your report!",I_="(required)",k_="Add a screenshot",C_="Remove screenshot",T_="widget",x_="api",R_=5e3,ou=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=O();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&ue().setTags(e.tags);let r=Go({source:x_,url:qt(),...e},t);return new Promise((o,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),a=n.on("afterSendEvent",(c,l)=>{if(c.event_id===r)return clearTimeout(s),a(),l&&typeof l.statusCode=="number"&&l.statusCode>=200&&l.statusCode<300&&o(r),l&&typeof l.statusCode=="number"&&l.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},co=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function M_(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(tr.userAgent)||/Macintosh/i.test(tr.userAgent)&&tr.maxTouchPoints&&tr.maxTouchPoints>1||!isSecureContext)}function io(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen()},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose()},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n)},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n)},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function A_(){let e=Z.createElement("style");return e.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e}function xe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var hn=20,N_="http://www.w3.org/2000/svg";function O_(){let e=a=>Je.document.createElementNS(N_,a),t=xe(e("svg"),{width:`${hn}`,height:`${hn}`,viewBox:`0 0 ${hn} ${hn}`,fill:"var(--foreground)"}),n=xe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let o=e("defs"),i=xe(e("clipPath"),{id:"clip0_57_80"}),s=xe(e("rect"),{width:`${hn}`,height:`${hn}`,fill:"white"});return i.appendChild(s),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(s),t}function L_({triggerLabel:e,triggerAriaLabel:t,shadow:n}){let r=Z.createElement("button");if(r.type="button",r.className="widget__actor",r.ariaHidden="false",r.ariaLabel=t||e||ru,r.appendChild(O_()),e){let i=Z.createElement("span");i.appendChild(Z.createTextNode(e)),r.appendChild(i)}let o=A_();return{el:r,appendToDom(){n.appendChild(o),n.appendChild(r)},removeFromDom(){n.removeChild(r),n.removeChild(o)},show(){r.ariaHidden="false"},hide(){r.ariaHidden="true"}}}var iu="rgba(88, 74, 192, 1)",D_={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:iu,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Ul={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:iu,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Wl(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function P_({colorScheme:e,themeDark:t,themeLight:n}){let r=Z.createElement("style");return r.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Wl(e==="dark"?{...Ul,...t}:{...D_,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Wl({...Ul,...t})}
  }
}`:""}
}
`,r}var mo=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:i=!0,showBranding:s=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:l=!0,showName:d=!0,enableScreenshot:u=!0,useSentryUser:f={email:"email",name:"username"},tags:p,colorScheme:h="system",themeLight:b={},themeDark:E={},addScreenshotButtonLabel:g=k_,cancelButtonLabel:v=p_,confirmButtonLabel:A=m_,emailLabel:T=y_,emailPlaceholder:w=__,formTitle:y=g_,isRequiredLabel:_=I_,messageLabel:I=S_,messagePlaceholder:M=b_,nameLabel:k=E_,namePlaceholder:x=v_,removeScreenshotButtonLabel:W=C_,submitButtonLabel:J=h_,successMessageText:Q=w_,triggerLabel:ge=ru,triggerAriaLabel:F="",onFormOpen:_e,onFormClose:U,onSubmitSuccess:ie,onSubmitError:Ee,onFormSubmitted:Le}={})=>{let De={id:o,autoInject:i,showBranding:s,isEmailRequired:a,isNameRequired:c,showEmail:l,showName:d,enableScreenshot:u,useSentryUser:f,tags:p,colorScheme:h,themeDark:E,themeLight:b,triggerLabel:ge,triggerAriaLabel:F,cancelButtonLabel:v,submitButtonLabel:J,confirmButtonLabel:A,formTitle:y,emailLabel:T,emailPlaceholder:w,messageLabel:I,messagePlaceholder:M,nameLabel:k,namePlaceholder:x,successMessageText:Q,isRequiredLabel:_,addScreenshotButtonLabel:g,removeScreenshotButtonLabel:W,onFormClose:U,onFormOpen:_e,onSubmitError:Ee,onSubmitSuccess:ie,onFormSubmitted:Le},Re=null,Ge=[],Ht=Y=>{if(!Re){let te=Z.createElement("div");te.id=String(Y.id),Z.body.appendChild(te),Re=te.attachShadow({mode:"open"}),Re.appendChild(P_(Y))}return Re},Bt=async(Y,te,we)=>{let fe=O(),se=fe&&fe.getIntegrationByName(Y);if(se)return se;let Ve=(te&&te()||await e(we))();return fe&&fe.addIntegration(Ve),Ve},Ut=async Y=>{let te=Y.enableScreenshot&&M_(),[we,fe]=await Promise.all([Bt("FeedbackModal",t,"feedbackModalIntegration"),te?Bt("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!we)throw co&&S.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");return te&&!fe&&co&&S.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots."),we.createDialog({options:Y,screenshotIntegration:te?fe:void 0,sendFeedback:ou,shadow:Ht(Y)})},Wt=(Y,te={})=>{let we=io(De,te),fe=typeof Y=="string"?Z.querySelector(Y):typeof Y.addEventListener=="function"?Y:null;if(!fe)throw co&&S.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let se=null,Pe=async()=>{se||(se=await Ut({...we,onFormClose:()=>{se&&se.close(),we.onFormClose&&we.onFormClose()},onFormSubmitted:()=>{se&&se.removeFromDom(),we.onFormSubmitted&&we.onFormSubmitted()}})),se.appendToDom(),se.open()};fe.addEventListener("click",Pe);let Ve=()=>{Ge=Ge.filter(Sn=>Sn!==Ve),se&&se.removeFromDom(),se=null,fe.removeEventListener("click",Pe)};return Ge.push(Ve),Ve},$t=(Y={})=>{let te=io(De,Y),we=Ht(te),fe=L_({triggerLabel:te.triggerLabel,triggerAriaLabel:te.triggerAriaLabel,shadow:we});return Wt(fe.el,{...te,onFormOpen(){fe.hide()},onFormClose(){fe.show()},onFormSubmitted(){fe.show()}}),fe};return{name:"Feedback",setupOnce(){!wn()||!De.autoInject||(Z.readyState==="loading"?Z.addEventListener("DOMContentLoaded",()=>$t().appendToDom()):$t().appendToDom())},attachTo:Wt,createWidget(Y={}){let te=$t(io(De,Y));return te.appendToDom(),te},async createForm(Y={}){return Ut(io(De,Y))},remove(){Re&&(Re.parentElement&&Re.parentElement.remove(),Re=null),Ge.forEach(Y=>Y()),Ge=[]}}};function F_(){let e=O();return e&&e.getIntegrationByName("Feedback")}var go,V,su,Dt,$l,au,ys,rr={},Es=[],H_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ws=Array.isArray;function kt(e,t){for(var n in t)e[n]=t[n];return e}function cu(e){var t=e.parentNode;t&&t.removeChild(e)}function P(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?go.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return lo(e,s,r,o,null)}function lo(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++su,__i:-1,__u:0};return o==null&&V.vnode!=null&&V.vnode(i),i}function or(e){return e.children}function uo(e,t){this.props=e,this.context=t}function _n(e,t){if(t==null)return e.__?_n(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?_n(e):null}function B_(e,t,n){var r,o=e.__v,i=o.__e,s=e.__P;if(s)return(r=kt({},o)).__v=o.__v+1,V.vnode&&V.vnode(r),Is(s,r,o,e.__n,s.ownerSVGElement!==void 0,32&o.__u?[i]:null,t,i??_n(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&lu(r),r}function lu(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return lu(e)}}function zl(e){(!e.__d&&(e.__d=!0)&&Dt.push(e)&&!ho.__r++||$l!==V.debounceRendering)&&(($l=V.debounceRendering)||au)(ho)}function ho(){var e,t,n,r=[],o=[];for(Dt.sort(ys);e=Dt.shift();)e.__d&&(n=Dt.length,t=B_(e,r,o)||t,n===0||Dt.length>n?(bs(r,t,o),o.length=r.length=0,t=void 0,Dt.sort(ys)):t&&V.__c&&V.__c(t,Es));t&&bs(r,t,o),ho.__r=0}function uu(e,t,n,r,o,i,s,a,c,l,d){var u,f,p,h,b,E=r&&r.__k||Es,g=t.length;for(n.__d=c,U_(n,t,E),c=n.__d,u=0;u<g;u++)(p=n.__k[u])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?rr:E[p.__i]||rr,p.__i=u,Is(e,p,f,o,i,s,a,c,l,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&ks(f.ref,null,p),d.push(p.ref,p.__c||h,p)),b==null&&h!=null&&(b=h),65536&p.__u||f.__k===p.__k?c=du(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=b}function U_(e,t,n){var r,o,i,s,a,c=t.length,l=n.length,d=l,u=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?lo(null,o,null,null,o):ws(o)?lo(or,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?lo(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=W_(o,n,s=r+u,d),o.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&u--,typeof o.type!="function"&&(o.__u|=65536)):a!==s&&(a===s+1?u++:a>s?d>c-s?u+=a-s:u--:u=a<s&&a==s-1?a-s:0,a!==r+u&&(o.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=_n(i)),Ss(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<l;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=_n(i)),Ss(i,i))}function du(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=du(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function W_(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&i===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&!(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function ql(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||H_.test(t)?n:n+"px"}function so(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ql(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ql(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Gl:jl,i)):e.removeEventListener(t,i?Gl:jl,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function jl(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(V.event?V.event(e):e)}}function Gl(e){if(this.l)return this.l[e.type+!0](V.event?V.event(e):e)}function Is(e,t,n,r,o,i,s,a,c,l){var d,u,f,p,h,b,E,g,v,A,T,w,y,_,I,M=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=V.__b)&&d(t);e:if(typeof M=="function")try{if(g=t.props,v=(d=M.contextType)&&r[d.__c],A=d?v?v.props.value:d.__:r,n.__c?E=(u=t.__c=n.__c).__=u.__E:("prototype"in M&&M.prototype.render?t.__c=u=new M(g,A):(t.__c=u=new uo(g,A),u.constructor=M,u.render=z_),v&&v.sub(u),u.props=g,u.state||(u.state={}),u.context=A,u.__n=r,f=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),M.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=kt({},u.__s)),kt(u.__s,M.getDerivedStateFromProps(g,u.__s))),p=u.props,h=u.state,u.__v=t,f)M.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(M.getDerivedStateFromProps==null&&g!==p&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,A),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(g,u.__s,A)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=g,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(k){k&&(k.__=t)}),T=0;T<u._sb.length;T++)u.__h.push(u._sb[T]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,A),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(p,h,b)})}if(u.context=A,u.props=g,u.__P=e,u.__e=!1,w=V.__r,y=0,"prototype"in M&&M.prototype.render){for(u.state=u.__s,u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[]}else do u.__d=!1,w&&w(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++y<25);u.state=u.__s,u.getChildContext!=null&&(r=kt(kt({},r),u.getChildContext())),f||u.getSnapshotBeforeUpdate==null||(b=u.getSnapshotBeforeUpdate(p,h)),uu(e,ws(I=d!=null&&d.type===or&&d.key==null?d.props.children:d)?I:[I],t,n,r,o,i,s,a,c,l),u.base=t.__e,t.__u&=-161,u.__h.length&&s.push(u),E&&(u.__E=u.__=null)}catch(k){t.__v=null,c||i!=null?(t.__e=a,t.__u|=c?160:32,i[i.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),V.__e(k,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=$_(n.__e,t,n,r,o,i,s,c,l);(d=V.diffed)&&d(t)}function bs(e,t,n){for(var r=0;r<n.length;r++)ks(n[r],n[++r],n[++r]);V.__c&&V.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){V.__e(i,o.__v)}})}function $_(e,t,n,r,o,i,s,a,c){var l,d,u,f,p,h,b,E=n.props,g=t.props,v=t.type;if(v==="svg"&&(o=!0),i!=null){for(l=0;l<i.length;l++)if((p=i[l])&&"setAttribute"in p==!!v&&(v?p.localName===v:p.nodeType===3)){e=p,i[l]=null;break}}if(e==null){if(v===null)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,g.is&&g),i=null,a=!1}if(v===null)E===g||a&&e.data===g||(e.data=g);else{if(i=i&&go.call(e.childNodes),E=n.props||rr,!a&&i!=null)for(E={},l=0;l<e.attributes.length;l++)E[(p=e.attributes[l]).name]=p.value;for(l in E)p=E[l],l=="children"||(l=="dangerouslySetInnerHTML"?u=p:l==="key"||l in g||so(e,l,null,p,o));for(l in g)p=g[l],l=="children"?f=p:l=="dangerouslySetInnerHTML"?d=p:l=="value"?h=p:l=="checked"?b=p:l==="key"||a&&typeof p!="function"||E[l]===p||so(e,l,p,E[l],o);if(d)a||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),uu(e,ws(f)?f:[f],t,n,r,o&&v!=="foreignObject",i,s,i?i[0]:n.__k&&_n(n,0),a,c),i!=null)for(l=i.length;l--;)i[l]!=null&&cu(i[l]);a||(l="value",h!==void 0&&(h!==e[l]||v==="progress"&&!h||v==="option"&&h!==E[l])&&so(e,l,h,E[l],!1),l="checked",b!==void 0&&b!==e[l]&&so(e,l,b,E[l],!1))}return e}function ks(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){V.__e(r,n)}}function Ss(e,t,n){var r,o;if(V.unmount&&V.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ks(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){V.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Ss(r[o],t,n||typeof e.type!="function");n||e.__e==null||cu(e.__e),e.__=e.__e=e.__d=void 0}function z_(e,t,n){return this.constructor(e,n)}function q_(e,t,n){var r,o,i,s;V.__&&V.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],Is(t,e=(!r&&n||t).__k=P(or,null,[e]),o||rr,rr,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?go.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),e.__d=void 0,bs(i,e,s)}go=Es.slice,V={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},su=0,uo.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kt({},this.state),typeof e=="function"&&(e=e(kt({},n),this.props)),e&&kt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),zl(this))},uo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),zl(this))},uo.prototype.render=or,Dt=[],au=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ys=function(e,t){return e.__v.__b-t.__v.__b},ho.__r=0;var ft,G,hs,Vl,yn=0,fu=[],fo=[],oe=V,Yl=oe.__b,Xl=oe.__r,Kl=oe.diffed,Jl=oe.__c,Ql=oe.unmount,Zl=oe.__;function Pt(e,t){oe.__h&&oe.__h(G,e,yn||t),yn=0;var n=G.__H||(G.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:fo}),n.__[e]}function mn(e){return yn=1,pu(mu,e)}function pu(e,t,n){var r=Pt(ft++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):mu(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=G,!G.u)){var o=function(a,c,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,l);var u=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(u=!0)}}),!(!u&&r.__c.props===a)&&(!i||i.call(this,a,c,l))};G.u=!0;var i=G.shouldComponentUpdate,s=G.componentWillUpdate;G.componentWillUpdate=function(a,c,l){if(this.__e){var d=i;i=void 0,o(a,c,l),i=d}s&&s.call(this,a,c,l)},G.shouldComponentUpdate=o}return r.__N||r.__}function j_(e,t){var n=Pt(ft++,3);!oe.__s&&Cs(n.__H,t)&&(n.__=e,n.i=t,G.__H.__h.push(n))}function hu(e,t){var n=Pt(ft++,4);!oe.__s&&Cs(n.__H,t)&&(n.__=e,n.i=t,G.__h.push(n))}function G_(e){return yn=5,ir(function(){return{current:e}},[])}function V_(e,t,n){yn=6,hu(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function ir(e,t){var n=Pt(ft++,7);return Cs(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function gn(e,t){return yn=8,ir(function(){return e},t)}function Y_(e){var t=G.context[e.__c],n=Pt(ft++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(G)),t.props.value):e.__}function X_(e,t){oe.useDebugValue&&oe.useDebugValue(t?t(e):e)}function K_(e){var t=Pt(ft++,10),n=mn();return t.__=e,G.componentDidCatch||(G.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function J_(){var e=Pt(ft++,11);if(!e.__){for(var t=G.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Q_(){for(var e;e=fu.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(po),e.__H.__h.forEach(vs),e.__H.__h=[]}catch(t){e.__H.__h=[],oe.__e(t,e.__v)}}oe.__b=function(e){G=null,Yl&&Yl(e)},oe.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Zl&&Zl(e,t)},oe.__r=function(e){Xl&&Xl(e),ft=0;var t=(G=e.__c).__H;t&&(hs===G?(t.__h=[],G.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=fo,n.__N=n.i=void 0})):(t.__h.forEach(po),t.__h.forEach(vs),t.__h=[],ft=0)),hs=G},oe.diffed=function(e){Kl&&Kl(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(fu.push(t)!==1&&Vl===oe.requestAnimationFrame||((Vl=oe.requestAnimationFrame)||Z_)(Q_)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==fo&&(n.__=n.__V),n.i=void 0,n.__V=fo})),hs=G=null},oe.__c=function(e,t){t.some(function(n){try{n.__h.forEach(po),n.__h=n.__h.filter(function(r){return!r.__||vs(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],oe.__e(r,n.__v)}}),Jl&&Jl(e,t)},oe.unmount=function(e){Ql&&Ql(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{po(r)}catch(o){t=o}}),n.__H=void 0,t&&oe.__e(t,n.__v))};var eu=typeof requestAnimationFrame=="function";function Z_(e){var t,n=function(){clearTimeout(r),eu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);eu&&(t=requestAnimationFrame(n))}function po(e){var t=G,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),G=t}function vs(e){var t=G;e.__c=e.__(),G=t}function Cs(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function mu(e,t){return typeof t=="function"?t(e):t}var ey={__proto__:null,useCallback:gn,useContext:Y_,useDebugValue:X_,useEffect:j_,useErrorBoundary:K_,useId:J_,useImperativeHandle:V_,useLayoutEffect:hu,useMemo:ir,useReducer:pu,useRef:G_,useState:mn},ty="http://www.w3.org/2000/svg";function ny(){let e=r=>Z.createElementNS(ty,r),t=xe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=xe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}var tu="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function ry({options:e}){let t=ir(()=>({__html:ny().outerHTML}),[]);return P("h2",{class:"dialog__header",__self:this,__source:{fileName:tu,lineNumber:16}},e.formTitle,e.showBranding?P("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:tu,lineNumber:19}}):null)}function oy(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}var ee="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function ms(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function iy({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:i,onSubmitError:s,showEmail:a,showName:c,screenshotInput:l}){let{tags:d,addScreenshotButtonLabel:u,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:b,isEmailRequired:E,isNameRequired:g,messageLabel:v,messagePlaceholder:A,nameLabel:T,namePlaceholder:w,submitButtonLabel:y,isRequiredLabel:_}=e,[I,M]=mn(null),[k,x]=mn(!1),W=l&&l.input,[J,Q]=mn(null),ge=gn(U=>{Q(U),x(!1)},[]),F=gn(U=>{let ie=oy(U,{emailLabel:h,isEmailRequired:E,isNameRequired:g,messageLabel:v,nameLabel:T});return ie.length>0?M(`Please enter in the following required fields: ${ie.join(", ")}`):M(null),ie.length===0},[h,E,g,v,T]),_e=gn(async U=>{try{if(U.preventDefault(),!(U.target instanceof HTMLFormElement))return;let ie=new FormData(U.target),Ee=await(l&&k?l.value():void 0),Le={name:ms(ie,"name"),email:ms(ie,"email"),message:ms(ie,"message"),attachments:Ee?[Ee]:void 0};if(!F(Le))return;try{await o({name:Le.name,email:Le.email,message:Le.message,source:T_,tags:d},{attachments:Le.attachments}),i(Le)}catch(De){co&&S.error(De),M(De),s(De)}}catch{}},[l&&k,i,s]);return P("form",{class:"form",onSubmit:_e,__self:this,__source:{fileName:ee,lineNumber:144}},W&&k?P(W,{onError:ge,__self:this,__source:{fileName:ee,lineNumber:146}}):null,P("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:ee,lineNumber:149}},P("div",{class:"form__top",__self:this,__source:{fileName:ee,lineNumber:150}},I?P("div",{class:"form__error-container",__self:this,__source:{fileName:ee,lineNumber:151}},I):null,c?P("label",{for:"name",class:"form__label",__self:this,__source:{fileName:ee,lineNumber:154}},P(gs,{label:T,isRequiredLabel:_,isRequired:g,__self:this,__source:{fileName:ee,lineNumber:155}}),P("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:w,required:g,type:"text",__self:this,__source:{fileName:ee,lineNumber:156}})):P("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:ee,lineNumber:167}}),a?P("label",{for:"email",class:"form__label",__self:this,__source:{fileName:ee,lineNumber:171}},P(gs,{label:h,isRequiredLabel:_,isRequired:E,__self:this,__source:{fileName:ee,lineNumber:172}}),P("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:b,required:E,type:"email",__self:this,__source:{fileName:ee,lineNumber:173}})):P("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:ee,lineNumber:184}}),P("label",{for:"message",class:"form__label",__self:this,__source:{fileName:ee,lineNumber:187}},P(gs,{label:v,isRequiredLabel:_,isRequired:!0,__self:this,__source:{fileName:ee,lineNumber:188}}),P("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:A,required:!0,rows:5,__self:this,__source:{fileName:ee,lineNumber:189}})),W?P("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:ee,lineNumber:201}},P("button",{class:"btn btn--default",type:"button",onClick:()=>{Q(null),x(U=>!U)},__self:this,__source:{fileName:ee,lineNumber:202}},k?f:u),J?P("div",{class:"form__error-container",__self:this,__source:{fileName:ee,lineNumber:212}},J.message):null):null),P("div",{class:"btn-group",__self:this,__source:{fileName:ee,lineNumber:216}},P("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:ee,lineNumber:217}},y),P("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:ee,lineNumber:220}},p))))}function gs({label:e,isRequired:t,isRequiredLabel:n}){return P("span",{class:"form__label__text",__self:this,__source:{fileName:ee,lineNumber:239}},e,t&&P("span",{class:"form__label__text--required",__self:this,__source:{fileName:ee,lineNumber:241}},n))}var ao=16,nu=17,sy="http://www.w3.org/2000/svg";function ay(){let e=c=>Je.document.createElementNS(sy,c),t=xe(e("svg"),{width:`${ao}`,height:`${nu}`,viewBox:`0 0 ${ao} ${nu}`,fill:"inherit"}),n=xe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=xe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);let i=e("defs"),s=xe(e("clipPath"),{id:"clip0_57_156"}),a=xe(e("rect"),{width:`${ao}`,height:`${ao}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),t}var ut="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function cy({open:e,onFormSubmitted:t,...n}){let r=n.options,o=ir(()=>({__html:ay().outerHTML}),[]),[i,s]=mn(null),a=gn(()=>{i&&(clearTimeout(i),s(null)),t()},[i]),c=gn(l=>{n.onSubmitSuccess(l),s(setTimeout(()=>{t(),s(null)},R_))},[t]);return P(or,{__self:this,__source:{fileName:ut,lineNumber:48}},i?P("div",{class:"success__position",onClick:a,__self:this,__source:{fileName:ut,lineNumber:50}},P("div",{class:"success__content",__self:this,__source:{fileName:ut,lineNumber:51}},r.successMessageText,P("span",{class:"success__icon",dangerouslySetInnerHTML:o,__self:this,__source:{fileName:ut,lineNumber:53}}))):P("dialog",{class:"dialog",onClick:r.onFormClose,open:e,__self:this,__source:{fileName:ut,lineNumber:57}},P("div",{class:"dialog__position",__self:this,__source:{fileName:ut,lineNumber:58}},P("div",{class:"dialog__content",onClick:l=>{l.stopPropagation()},__self:this,__source:{fileName:ut,lineNumber:59}},P(ry,{options:r,__self:this,__source:{fileName:ut,lineNumber:66}}),P(iy,{...n,onSubmitSuccess:c,__self:this,__source:{fileName:ut,lineNumber:67}})))))}var ly=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,uy=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,dy=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  flex: 0 0 var(--form-width, 272px);
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,fy=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,py=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function hy(){let e=Z.createElement("style");return e.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${ly}
${uy}
${dy}
${fy}
${py}
`,e}var my="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function gy(){let e=ue().getUser(),t=rt().getUser(),n=Ro().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var gu=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let o=r,i=e.useSentryUser,s=gy(),a=Z.createElement("div"),c=hy(),l="",d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){o.removeChild(a),o.removeChild(c),Z.body.style.overflow=l},open(){f(!0),e.onFormOpen&&e.onFormOpen(),l=Z.body.style.overflow,Z.body.style.overflow="hidden"},close(){f(!1),Z.body.style.overflow=l}},u=t&&t.createInput({h:P,hooks:ey,dialog:d,options:e}),f=p=>{q_(P(cy,{options:e,screenshotInput:u,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose()},onSubmit:n,onSubmitSuccess:h=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(h)},onSubmitError:h=>{e.onSubmitError&&e.onSubmitError(h)},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted()},open:p,__self:void 0,__source:{fileName:my,lineNumber:67}}),a)};return d}}),_y="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx";function yy({h:e}){return function({top:n,left:r,corner:o,onGrabButton:i}){return e("button",{class:`editor__crop-corner editor__crop-corner--${o} `,style:{top:n,left:r},onMouseDown:s=>{s.preventDefault(),i(s,o)},onClick:s=>{s.preventDefault()},__self:this,__source:{fileName:_y,lineNumber:22}})}}function by(){let e=Z.createElement("style"),t="#1A141F",n="#302735";return e.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${t};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${t} 8px,
      ${t} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${n} 15px,
      ${n} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container canvas {
  object-fit: contain;
  position: relative;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,e}function Sy({hooks:e}){return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:o,onError:i}){e.useEffect(()=>{(async()=>{n();let a=await tr.mediaDevices.getDisplayMedia({video:{width:Je.innerWidth*Je.devicePixelRatio,height:Je.innerHeight*Je.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),c=Z.createElement("video");await new Promise((l,d)=>{c.srcObject=a,c.onloadedmetadata=()=>{r(c),a.getTracks().forEach(u=>u.stop()),l()},c.play().catch(d)}),o()})().catch(i)},[])}}var Ne="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",nr=30,dt=3,It=nr+dt,Oe=Je.devicePixelRatio,er=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),_s=e=>{let t=e.clientHeight,n=e.clientWidth,r=e.width/e.height,o=t*r,i=t;o>n&&(o=n,i=n/r);let s=(n-o)/2,a=(t-i)/2;return{startX:s,startY:a,endX:o+s,endY:i+a}};function vy({h:e,hooks:t,imageBuffer:n,dialog:r,options:o}){let i=Sy({hooks:t});return function({onError:a}){let c=t.useMemo(()=>({__html:by().innerText}),[]),l=yy({h:e}),d=t.useRef(null),u=t.useRef(null),f=t.useRef(null),[p,h]=t.useState({startX:0,startY:0,endX:0,endY:0}),[b,E]=t.useState(!1);t.useEffect(()=>{Je.addEventListener("resize",g,!1)},[]);function g(){let w=f.current,y=er(_s(n));if(w){w.width=y.width*Oe,w.height=y.height*Oe,w.style.width=`${y.width}px`,w.style.height=`${y.height}px`;let I=w.getContext("2d");I&&I.scale(Oe,Oe)}let _=u.current;_&&(_.style.width=`${y.width}px`,_.style.height=`${y.height}px`),h({startX:0,startY:0,endX:y.width,endY:y.height})}t.useEffect(()=>{let w=f.current;if(!w)return;let y=w.getContext("2d");if(!y)return;let _=er(_s(n)),I=er(p);y.clearRect(0,0,_.width,_.height),y.fillStyle="rgba(0, 0, 0, 0.5)",y.fillRect(0,0,_.width,_.height),y.clearRect(I.x,I.y,I.width,I.height),y.strokeStyle="#ffffff",y.lineWidth=3,y.strokeRect(I.x+1,I.y+1,I.width-2,I.height-2),y.strokeStyle="#000000",y.lineWidth=1,y.strokeRect(I.x+3,I.y+3,I.width-6,I.height-6)},[p]);function v(w,y){E(!1);let _=A(y),I=()=>{Z.removeEventListener("mousemove",_),Z.removeEventListener("mouseup",I),E(!0)};Z.addEventListener("mouseup",I),Z.addEventListener("mousemove",_)}let A=t.useCallback(w=>function(y){if(!f.current)return;let _=f.current,I=_.getBoundingClientRect(),M=y.clientX-I.x,k=y.clientY-I.y;switch(w){case"top-left":h(x=>({...x,startX:Math.min(Math.max(0,M),x.endX-It),startY:Math.min(Math.max(0,k),x.endY-It)}));break;case"top-right":h(x=>({...x,endX:Math.max(Math.min(M,_.width/Oe),x.startX+It),startY:Math.min(Math.max(0,k),x.endY-It)}));break;case"bottom-left":h(x=>({...x,startX:Math.min(Math.max(0,M),x.endX-It),endY:Math.max(Math.min(k,_.height/Oe),x.startY+It)}));break;case"bottom-right":h(x=>({...x,endX:Math.max(Math.min(M,_.width/Oe),x.startX+It),endY:Math.max(Math.min(k,_.height/Oe),x.startY+It)}));break}},[]);function T(){let w=Z.createElement("canvas"),y=er(_s(n)),_=er(p);w.width=_.width*Oe,w.height=_.height*Oe;let I=w.getContext("2d");I&&n&&I.drawImage(n,_.x/y.width*n.width,_.y/y.height*n.height,_.width/y.width*n.width,_.height/y.height*n.height,0,0,w.width,w.height);let M=n.getContext("2d");M&&(M.clearRect(0,0,n.width,n.height),n.width=w.width,n.height=w.height,n.style.width=`${_.width}px`,n.style.height=`${_.height}px`,M.drawImage(w,0,0),g())}return i({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none"},[]),onScreenshot:t.useCallback(w=>{let y=n.getContext("2d");if(!y)throw new Error("Could not get canvas context");n.width=w.videoWidth,n.height=w.videoHeight,n.style.width="100%",n.style.height="100%",y.drawImage(w,0,0)},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";let w=d.current;w&&w.appendChild(n),g()},[]),onError:t.useCallback(w=>{r.el.style.display="block",a(w)},[])}),e("div",{class:"editor",__self:this,__source:{fileName:Ne,lineNumber:262}},e("style",{dangerouslySetInnerHTML:c,__self:this,__source:{fileName:Ne,lineNumber:263}}),e("div",{class:"editor__canvas-container",ref:d,__self:this,__source:{fileName:Ne,lineNumber:264}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:u,__self:this,__source:{fileName:Ne,lineNumber:265}},e("canvas",{style:{position:"absolute"},ref:f,__self:this,__source:{fileName:Ne,lineNumber:266}}),e(l,{left:p.startX-dt,top:p.startY-dt,onGrabButton:v,corner:"top-left",__self:this,__source:{fileName:Ne,lineNumber:267}}),e(l,{left:p.endX-nr+dt,top:p.startY-dt,onGrabButton:v,corner:"top-right",__self:this,__source:{fileName:Ne,lineNumber:273}}),e(l,{left:p.startX-dt,top:p.endY-nr+dt,onGrabButton:v,corner:"bottom-left",__self:this,__source:{fileName:Ne,lineNumber:279}}),e(l,{left:p.endX-nr+dt,top:p.endY-nr+dt,onGrabButton:v,corner:"bottom-right",__self:this,__source:{fileName:Ne,lineNumber:285}}),e("div",{style:{left:Math.max(0,p.endX-191),top:Math.max(0,p.endY+8),display:b?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:Ne,lineNumber:291}},e("button",{onClick:w=>{w.preventDefault(),f.current&&h({startX:0,startY:0,endX:f.current.width/Oe,endY:f.current.height/Oe}),E(!1)},class:"btn btn--default",__self:this,__source:{fileName:Ne,lineNumber:299}},o.cancelButtonLabel),e("button",{onClick:w=>{w.preventDefault(),T(),E(!1)},class:"btn btn--primary",__self:this,__source:{fileName:Ne,lineNumber:316}},o.confirmButtonLabel)))))}}var _u=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let o=Z.createElement("canvas");return{input:vy({h:e,hooks:t,imageBuffer:o,dialog:n,options:r}),value:async()=>{let i=await new Promise(s=>{o.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(await i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}});var Ey=mo({lazyLoadIntegration:Bn});m();var yu=mo({lazyLoadIntegration:Bn,getModalIntegration:()=>gu,getScreenshotIntegration:()=>_u});m();function wy(e,t=1,n){Kt.increment(Jt,e,t,n)}function Iy(e,t,n){Kt.distribution(Jt,e,t,n)}function ky(e,t,n){Kt.set(Jt,e,t,n)}function Cy(e,t,n){Kt.gauge(Jt,e,t,n)}function Ty(e,t,n="second",r){return Kt.timing(Jt,e,t,n,r)}var xy={increment:wy,distribution:Iy,set:ky,gauge:Cy,timing:Ty};m();var sr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function Ts(e){let{traceFetch:t,traceXHR:n,shouldCreateSpanForRequest:r,enableHTTPTimings:o,tracePropagationTargets:i}={traceFetch:sr.traceFetch,traceXHR:sr.traceXHR,...e},s=typeof r=="function"?r:l=>!0,a=l=>Ny(l,i),c={};t&&Vt(l=>{let d=Aa(l,s,a,c);if(d){let u=Su(l.fetchData.url),f=u?tt(u).host:void 0;d.setAttributes({"http.url":u,"server.address":f})}o&&d&&bu(d)}),n&&At(l=>{let d=Oy(l,s,a,c);o&&d&&bu(d)})}function Ry(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function bu(e){let{url:t}=q(e).data||{};if(!t||typeof t!="string")return;let n=$e("resource",({entries:r})=>{r.forEach(o=>{Ry(o)&&o.name.endsWith(t)&&(Ay(o).forEach(s=>e.setAttribute(...s)),setTimeout(n))})})}function My(e){let t="unknown",n="unknown",r="";for(let o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Qe(e=0){return((ae||performance.timeOrigin)+e)/1e3}function Ay(e){let{name:t,version:n}=My(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),ae?[...r,["http.request.redirect_start",Qe(e.redirectStart)],["http.request.fetch_start",Qe(e.fetchStart)],["http.request.domain_lookup_start",Qe(e.domainLookupStart)],["http.request.domain_lookup_end",Qe(e.domainLookupEnd)],["http.request.connect_start",Qe(e.connectStart)],["http.request.secure_connection_start",Qe(e.secureConnectionStart)],["http.request.connection_end",Qe(e.connectEnd)],["http.request.request_start",Qe(e.requestStart)],["http.request.response_start",Qe(e.responseStart)],["http.request.response_end",Qe(e.responseEnd)]]:r}function Ny(e,t){let n=C.location&&C.location.href;if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}let i=r.origin===o;return t?zt(r.toString(),t)||i&&zt(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?zt(e,t):r}}function Oy(e,t,n,r){let o=e.xhr,i=o&&o[Te];if(!o||o.__sentry_own_request__||!i)return;let s=pr()&&t(i.url);if(e.endTimestamp&&s){let f=o.__sentry_xhr_span_id__;if(!f)return;let p=r[f];p&&i.status_code!==void 0&&(Ao(p,i.status_code),p.end(),delete r[f]);return}let a=Su(i.url),c=a?tt(a).host:void 0,l=!!de(),d=s&&l?Ue({name:`${i.method} ${i.url}`,attributes:{type:"xhr","http.method":i.method,"http.url":a,url:i.url,"server.address":c,[he]:"auto.http.browser",[Mo]:"http.client"}}):new Sa;o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d;let u=O();return o.setRequestHeader&&n(i.url)&&u&&Ly(o,u,pr()&&l?d:void 0),d}function Ly(e,t,n){let r=ue(),o=rt(),{traceId:i,spanId:s,sampled:a,dsc:c}={...o.getPropagationContext(),...r.getPropagationContext()},l=n&&pr()?No(n):sa(i,s,a),d=oa(c||(n?hr(n):Ea(i,t)));Dy(e,l,d)}function Dy(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ra,n)}catch{}}function Su(e){try{return new URL(e,C.location.origin).href}catch{return}}m();m();function vu(){C&&C.document?C.document.addEventListener("visibilitychange",()=>{let e=de();if(!e)return;let t=Ie(e);if(C.document.hidden&&t){let n="cancelled",{op:r,status:o}=q(t);N&&S.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):N&&S.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Fy="BrowserTracing",Hy={...wa,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...sr},By=(e={})=>{Oo();let{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:o},beforeStartSpan:i,idleTimeout:s,finalTimeout:a,childSpanTimeout:c,markBackgroundSpan:l,traceFetch:d,traceXHR:u,shouldCreateSpanForRequest:f,enableHTTPTimings:p,instrumentPageLoad:h,instrumentNavigation:b}={...Hy,...e},E=ai();t&&mi(),r&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?li():n&&ci(),o&&ui();let g={name:void 0,source:void 0};function v(A,T){let w=T.op==="pageload",y=i?i(T):T,_=y.attributes||{};T.name!==y.name&&(_[ot]="custom",y.attributes=_),g.name=y.name,g.source=_[ot];let I=Fo(y,{idleTimeout:s,finalTimeout:a,childSpanTimeout:c,disableAutoFinish:w,beforeSpanEnd:k=>{E(),di(k)}});function M(){["interactive","complete"].includes(C.document.readyState)&&A.emit("idleSpanEnableAutoFinish",I)}return w&&C.document&&(C.document.addEventListener("readystatechange",()=>{M()}),M()),I}return{name:Fy,afterAllSetup(A){let T,w=C.location&&C.location.href;A.on("startNavigationSpan",y=>{O()===A&&(T&&!q(T).timestamp&&(N&&S.log(`[Tracing] Finishing current root span with op: ${q(T).op}`),T.end()),T=v(A,{op:"navigation",...y}))}),A.on("startPageLoadSpan",(y,_={})=>{if(O()!==A)return;T&&!q(T).timestamp&&(N&&S.log(`[Tracing] Finishing current root span with op: ${q(T).op}`),T.end());let I=_.sentryTrace||Eu("sentry-trace"),M=_.baggage||Eu("baggage"),k=ia(I,M);ue().setPropagationContext(k),T=v(A,{op:"pageload",...y})}),A.on("spanEnd",y=>{let _=q(y).op;if(y!==Ie(y)||_!=="navigation"&&_!=="pageload")return;let I=ue(),M=I.getPropagationContext();I.setPropagationContext({...M,sampled:M.sampled!==void 0?M.sampled:ba(y),dsc:M.dsc||hr(y)})}),C.location&&(h&&wu(A,{name:C.location.pathname,startTime:ae?ae/1e3:void 0,attributes:{[ot]:"url",[he]:"auto.pageload.browser"}}),b&&at(({to:y,from:_})=>{if(_===void 0&&w&&w.indexOf(y)!==-1){w=void 0;return}_!==y&&(w=void 0,Iu(A,{name:C.location.pathname,attributes:{[ot]:"url",[he]:"auto.navigation.browser"}}))})),l&&vu(),o&&Uy(s,a,c,g),t&&gi(),Ts({traceFetch:d,traceXHR:u,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}}};function wu(e,t,n){e.emit("startPageLoadSpan",t,n),ue().setTransactionName(t.name);let r=de();return(r&&q(r).op)==="pageload"?r:void 0}function Iu(e,t){rt().setPropagationContext(xo()),ue().setPropagationContext(xo()),e.emit("startNavigationSpan",t),ue().setTransactionName(t.name);let n=de();return(n&&q(n).op)==="navigation"?n:void 0}function Eu(e){let t=Hs(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Uy(e,t,n,r){let o,i=()=>{let s="ui.action.click",a=de(),c=a&&Ie(a);if(c){let l=q(c).op;if(["navigation","pageload"].includes(l)){N&&S.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(ma,"interactionInterrupted"),o.end(),o=void 0),!r.name){N&&S.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}o=Fo({name:r.name,op:s,attributes:{[ot]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};C.document&&addEventListener("click",i,{once:!1,capture:!0})}m();function bn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Wy(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=bn(n);return o=>r.then(i=>o(i.transaction(t,"readwrite").objectStore(t)))}function xs(e){return bn(e.getAllKeys())}function $y(e,t,n){return e(r=>xs(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),bn(r.transaction)}))}function zy(e,t,n){return e(r=>xs(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),bn(r.transaction)}))}function qy(e){return e(t=>xs(t).then(n=>{let r=n[0];if(r!=null)return bn(t.get(r)).then(o=>(t.delete(r),bn(t.transaction).then(()=>o)))}))}function jy(e){let t;function n(){return t==null&&(t=Wy(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{let o=await To(r);await $y(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{let o=await To(r);await zy(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{let r=await qy(n());if(r)return ca(r)}catch{}}}}function Gy(e){return t=>e({...t,createStore:jy})}function Vy(e=Hn){return Gy(Ra(e))}m();m();m();var ku=1e6,_o=String(0),Yy="main",xu="",Ru="",Mu="",Rs=C.navigator&&C.navigator.userAgent||"",Au="",Xy=C.navigator&&C.navigator.language||C.navigator&&C.navigator.languages&&C.navigator.languages[0]||"";function Ky(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Cu=C.navigator&&C.navigator.userAgentData;Ky(Cu)&&Cu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(xu=e.platform||"",Mu=e.architecture||"",Au=e.model||"",Ru=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){let t=e.fullVersionList[e.fullVersionList.length-1];Rs=`${t.brand} ${t.version}`}}).catch(e=>{});function Jy(e){return!("thread_metadata"in e)}function Qy(e){return Jy(e)?tb(e):e}function Zy(e){let t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&N&&S.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function eb(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let o=Zy(r),i=Qy(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:et()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:et()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||va,runtime:{name:"javascript",version:C.navigator.userAgent},os:{name:xu,version:Ru,build_number:Rs},device:{locale:Xy,model:Au,manufacturer:Rs,architecture:Mu,is_emulator:!1},debug_meta:{images:nb(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||ht(),trace_id:o,active_thread_id:_o,relative_start_ns:"0",relative_end_ns:((a-s)*1e6).toFixed(0)}]}}function yo(e){return q(e).op==="pageload"}function tb(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[_o]:{name:Yy}}},o=e.samples[0];if(!o)return r;let i=o.timestamp,s=typeof performance.timeOrigin=="number"?performance.timeOrigin:ae||0,a=s-(ae||s);return e.samples.forEach((c,l)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[l]={elapsed_since_start_ns:((c.timestamp+a-i)*ku).toFixed(0),stack_id:t,thread_id:_o};return}let d=e.stacks[c.stackId],u=[];for(;d;){u.push(d.frameId);let p=e.frames[d.frameId];p&&r.frames[d.frameId]===void 0&&(r.frames[d.frameId]={function:p.name,abs_path:typeof p.resourceId=="number"?e.resources[p.resourceId]:void 0,lineno:p.line,colno:p.column}),d=d.parentId===void 0?void 0:e.stacks[d.parentId]}let f={elapsed_since_start_ns:((c.timestamp+a-i)*ku).toFixed(0),stack_id:n,thread_id:_o};r.stacks[n]=u,r.samples[l]=f,n++}),r}function Nu(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function Ou(e){let t=[];return aa(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++){let i=n[o];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[o])}}),t}var Tu=new WeakMap;function nb(e){let t=ye._sentryDebugIds;if(!t)return[];let n=O(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i,s=Tu.get(o);s?i=s:(i=new Map,Tu.set(o,i));let a=Object.keys(t).reduce((l,d)=>{let u,f=i.get(d);f?u=f:(u=o(d),i.set(d,u));for(let p=u.length-1;p>=0;p--){let h=u[p],b=h&&h.filename;if(h&&b){l[b]=t[d];break}}return l},{}),c=[];for(let l of e)l&&a[l]&&c.push({type:"sourcemap",code_file:l,debug_id:a[l]});return c}function rb(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(N&&S.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(N&&S.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function ob(e){return e.samples.length<2?(N&&S.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(N&&S.log("[Profiling] Discarding profile because it contains no frames"),!1)}var Lu=!1,Ms=3e4;function ib(e){return typeof e=="function"}function Du(){let e=C.Profiler;if(!ib(e)){N&&S.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Ms/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{N&&(S.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),S.log("[Profiling] Disabling profiling for current user session.")),Lu=!0}}function As(e){if(Lu)return N&&S.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return N&&S.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=O(),n=t&&t.getOptions();if(!n)return N&&S.log("[Profiling] Profiling disabled, no options found."),!1;let r=n.profilesSampleRate;return rb(r)?r?(r===!0?!0:Math.random()<r)?!0:(N&&S.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(N&&S.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(N&&S.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Pu(e,t,n,r){return ob(n)?eb(e,t,n,r):null}var Ft=new Map;function Fu(){return Ft.size}function Hu(e){let t=Ft.get(e);return t&&Ft.delete(e),t}function Bu(e,t){if(Ft.set(e,t),Ft.size>30){let n=Ft.keys().next().value;Ft.delete(n)}}function Ns(e){let t;yo(e)&&(t=et()*1e3);let n=Du();if(!n)return;N&&S.log(`[Profiling] started profiling span: ${q(e).description}`);let r=ht();ue().setContext("profile",{profile_id:r,start_timestamp:t});async function o(){if(e&&n)return n.stop().then(c=>{if(i&&(C.clearTimeout(i),i=void 0),N&&S.log(`[Profiling] stopped profiling of span: ${q(e).description}`),!c){N&&S.log(`[Profiling] profiler returned null profile for: ${q(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}Bu(r,c)}).catch(c=>{N&&S.log("[Profiling] error while stopping profiler:",c)})}let i=C.setTimeout(()=>{N&&S.log("[Profiling] max profile duration elapsed, stopping profiling for:",q(e).description),o()},Ms),s=e.end.bind(e);function a(){return e?(o().then(()=>{s()},()=>{s()}),e):s()}e.end=a}var sb="BrowserProfiling",ab=()=>({name:sb,setup(e){let t=de(),n=t&&Ie(t);n&&yo(n)&&As(n)&&Ns(n),e.on("spanStart",r=>{r===Ie(r)&&As(r)&&Ns(r)}),e.on("beforeEnvelope",r=>{if(!Fu())return;let o=Ou(r);if(!o.length)return;let i=[];for(let s of o){let a=s&&s.contexts,c=a&&a.profile&&a.profile.profile_id,l=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){N&&S.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!c){N&&S.log("[Profiling] cannot find profile for a span without a profile context");continue}a&&a.profile&&delete a.profile;let d=Hu(c);if(!d){N&&S.log(`[Profiling] Could not retrieve profile for span: ${c}`);continue}let u=Pu(c,l,d,s);u&&i.push(u)}Nu(r,i)})}}),cb=ab;export{Tn as BrowserClient,Io as SDK_VERSION,Mo as SEMANTIC_ATTRIBUTE_SENTRY_OP,he as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,zu as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,ot as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,Wu as Scope,C as WINDOW,We as addBreadcrumb,Wo as addEventProcessor,ad as addIntegration,Gu as addTracingExtensions,yi as breadcrumbsIntegration,bi as browserApiErrorsIntegration,cb as browserProfilingIntegration,By as browserTracingIntegration,fd as captureConsoleIntegration,xt as captureEvent,Xt as captureException,Go as captureFeedback,Ho as captureMessage,gr as captureSession,gp as captureUserFeedback,oc as chromeStackLineParser,od as close,Bp as contextLinesIntegration,Ku as continueTrace,$o as createTransport,ei as createUserFeedbackEnvelope,pd as debugIntegration,jo as dedupeIntegration,sr as defaultRequestInstrumentationOptions,sc as defaultStackLineParsers,_i as defaultStackParser,sd as endSession,Qo as eventFromException,Zo as eventFromMessage,Cn as exceptionFromError,hd as extraErrorDataIntegration,Ey as feedbackAsyncIntegration,yu as feedbackIntegration,yu as feedbackSyncIntegration,rd as flush,pp as forceLoad,zo as functionToStringIntegration,ic as geckoStackLineParser,de as getActiveSpan,O as getClient,bd as getCurrentHub,ue as getCurrentScope,dc as getDefaultIntegrations,F_ as getFeedback,Ro as getGlobalScope,rt as getIsolationScope,Qg as getReplay,Ie as getRootSpan,ju as getSpanDescendants,qu as getSpanStatusFromHttpCode,Si as globalHandlersIntegration,kp as httpClientIntegration,vi as httpContextIntegration,qo as inboundFiltersIntegration,dp as init,Ts as instrumentOutgoingRequests,id as isInitialized,Uo as lastEventId,Bn as lazyLoadIntegration,Ei as linkedErrorsIntegration,Vy as makeBrowserOfflineTransport,Hn as makeFetchTransport,ld as makeMultiplexedTransport,xy as metrics,dd as moduleMetadataIntegration,hp as onLoad,Of as opera10StackLineParser,Pf as opera11StackLineParser,ud as parameterize,Oo as registerSpanErrorInstrumentation,f_ as replayCanvasIntegration,Kg as replayIntegration,Ep as reportingObserverIntegration,md as rewriteFramesIntegration,ou as sendFeedback,gd as sessionTimingIntegration,Bo as setContext,cd as setCurrentClient,Zu as setExtra,Qu as setExtras,Ao as setHttpStatus,Do as setMeasurement,td as setTag,ed as setTags,nd as setUser,fp as showReportDialog,Vu as spanToBaggageHeader,q as spanToJSON,No as spanToTraceHeader,Iu as startBrowserTracingNavigationSpan,wu as startBrowserTracingPageLoadSpan,Ue as startInactiveSpan,Ju as startNewTrace,mr as startSession,Yu as startSpan,Xu as startSpanManual,yd as thirdPartyErrorFilterIntegration,Mf as winjsStackLineParser,Po as withActiveSpan,$u as withIsolationScope,kn as withScope,_d as zodErrorsIntegration};
//# sourceMappingURL=esm-YWMLPSSR.js.map