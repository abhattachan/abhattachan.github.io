{"version":3,"sources":["../../../node_modules/assert-plus/assert.js","../../../node_modules/extsprintf/lib/extsprintf.js","../../../node_modules/core-util-is/lib/util.js","../../../node_modules/verror/lib/verror.js","../../../node_modules/variant/lib/isType.js","../../../node_modules/variant/lib/util.js","../../../node_modules/variant/lib/variant.js","../../../node_modules/variant/lib/precepts.js","../../../node_modules/variant/lib/match.js","../../../node_modules/variant/lib/types.js","../../../node_modules/variant/lib/flags.js","../../../node_modules/variant/lib/isOfVariant.js","../../../node_modules/variant/lib/remote.js","../../../node_modules/variant/lib/typed.js","../../../node_modules/variant/lib/match.tools.js","../../../node_modules/variant/lib/matcher.js","../../../node_modules/variant/lib/cosmos.js","../../../node_modules/variant/lib/type/index.js","../../../node_modules/variant/lib/augment.js","../../../node_modules/variant/lib/constrained.js","../../../node_modules/variant/lib/construct.js","../../../node_modules/variant/lib/generic.js","../../../node_modules/variant/lib/typeCatalog.js","../../../node_modules/variant/lib/catalog.js","../../../node_modules/variant/lib/patterned.js","../../../node_modules/variant/lib/variant.tools.js","../../../node_modules/variant/lib/slim.js","../../../node_modules/variant/lib/index.js","../../cli-error/src/index.ts","../../cli-error/src/cli-error.ts","../../cli-error/src/cli-error-codes.ts","../../cli-error/src/is-cli-error.ts","../../cli-error/src/normalize-error.ts"],"sourcesContent":["// Copyright (c) 2012, Mark Cavage. All rights reserved.\n// Copyright 2015 Joyent, Inc.\n\nvar assert = require('assert');\nvar Stream = require('stream').Stream;\nvar util = require('util');\n\n\n///--- Globals\n\n/* JSSTYLED */\nvar UUID_REGEXP = /^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;\n\n\n///--- Internal\n\nfunction _capitalize(str) {\n    return (str.charAt(0).toUpperCase() + str.slice(1));\n}\n\nfunction _toss(name, expected, oper, arg, actual) {\n    throw new assert.AssertionError({\n        message: util.format('%s (%s) is required', name, expected),\n        actual: (actual === undefined) ? typeof (arg) : actual(arg),\n        expected: expected,\n        operator: oper || '===',\n        stackStartFunction: _toss.caller\n    });\n}\n\nfunction _getClass(arg) {\n    return (Object.prototype.toString.call(arg).slice(8, -1));\n}\n\nfunction noop() {\n    // Why even bother with asserts?\n}\n\n\n///--- Exports\n\nvar types = {\n    bool: {\n        check: function (arg) { return typeof (arg) === 'boolean'; }\n    },\n    func: {\n        check: function (arg) { return typeof (arg) === 'function'; }\n    },\n    string: {\n        check: function (arg) { return typeof (arg) === 'string'; }\n    },\n    object: {\n        check: function (arg) {\n            return typeof (arg) === 'object' && arg !== null;\n        }\n    },\n    number: {\n        check: function (arg) {\n            return typeof (arg) === 'number' && !isNaN(arg);\n        }\n    },\n    finite: {\n        check: function (arg) {\n            return typeof (arg) === 'number' && !isNaN(arg) && isFinite(arg);\n        }\n    },\n    buffer: {\n        check: function (arg) { return Buffer.isBuffer(arg); },\n        operator: 'Buffer.isBuffer'\n    },\n    array: {\n        check: function (arg) { return Array.isArray(arg); },\n        operator: 'Array.isArray'\n    },\n    stream: {\n        check: function (arg) { return arg instanceof Stream; },\n        operator: 'instanceof',\n        actual: _getClass\n    },\n    date: {\n        check: function (arg) { return arg instanceof Date; },\n        operator: 'instanceof',\n        actual: _getClass\n    },\n    regexp: {\n        check: function (arg) { return arg instanceof RegExp; },\n        operator: 'instanceof',\n        actual: _getClass\n    },\n    uuid: {\n        check: function (arg) {\n            return typeof (arg) === 'string' && UUID_REGEXP.test(arg);\n        },\n        operator: 'isUUID'\n    }\n};\n\nfunction _setExports(ndebug) {\n    var keys = Object.keys(types);\n    var out;\n\n    /* re-export standard assert */\n    if (process.env.NODE_NDEBUG) {\n        out = noop;\n    } else {\n        out = function (arg, msg) {\n            if (!arg) {\n                _toss(msg, 'true', arg);\n            }\n        };\n    }\n\n    /* standard checks */\n    keys.forEach(function (k) {\n        if (ndebug) {\n            out[k] = noop;\n            return;\n        }\n        var type = types[k];\n        out[k] = function (arg, msg) {\n            if (!type.check(arg)) {\n                _toss(msg, k, type.operator, arg, type.actual);\n            }\n        };\n    });\n\n    /* optional checks */\n    keys.forEach(function (k) {\n        var name = 'optional' + _capitalize(k);\n        if (ndebug) {\n            out[name] = noop;\n            return;\n        }\n        var type = types[k];\n        out[name] = function (arg, msg) {\n            if (arg === undefined || arg === null) {\n                return;\n            }\n            if (!type.check(arg)) {\n                _toss(msg, k, type.operator, arg, type.actual);\n            }\n        };\n    });\n\n    /* arrayOf checks */\n    keys.forEach(function (k) {\n        var name = 'arrayOf' + _capitalize(k);\n        if (ndebug) {\n            out[name] = noop;\n            return;\n        }\n        var type = types[k];\n        var expected = '[' + k + ']';\n        out[name] = function (arg, msg) {\n            if (!Array.isArray(arg)) {\n                _toss(msg, expected, type.operator, arg, type.actual);\n            }\n            var i;\n            for (i = 0; i < arg.length; i++) {\n                if (!type.check(arg[i])) {\n                    _toss(msg, expected, type.operator, arg, type.actual);\n                }\n            }\n        };\n    });\n\n    /* optionalArrayOf checks */\n    keys.forEach(function (k) {\n        var name = 'optionalArrayOf' + _capitalize(k);\n        if (ndebug) {\n            out[name] = noop;\n            return;\n        }\n        var type = types[k];\n        var expected = '[' + k + ']';\n        out[name] = function (arg, msg) {\n            if (arg === undefined || arg === null) {\n                return;\n            }\n            if (!Array.isArray(arg)) {\n                _toss(msg, expected, type.operator, arg, type.actual);\n            }\n            var i;\n            for (i = 0; i < arg.length; i++) {\n                if (!type.check(arg[i])) {\n                    _toss(msg, expected, type.operator, arg, type.actual);\n                }\n            }\n        };\n    });\n\n    /* re-export built-in assertions */\n    Object.keys(assert).forEach(function (k) {\n        if (k === 'AssertionError') {\n            out[k] = assert[k];\n            return;\n        }\n        if (ndebug) {\n            out[k] = noop;\n            return;\n        }\n        out[k] = assert[k];\n    });\n\n    /* export ourselves (for unit tests _only_) */\n    out._setExports = _setExports;\n\n    return out;\n}\n\nmodule.exports = _setExports(process.env.NODE_NDEBUG);\n","/*\n * extsprintf.js: extended POSIX-style sprintf\n */\n\nvar mod_assert = require('assert');\nvar mod_util = require('util');\n\n/*\n * Public interface\n */\nexports.sprintf = jsSprintf;\nexports.printf = jsPrintf;\nexports.fprintf = jsFprintf;\n\n/*\n * Stripped down version of s[n]printf(3c).  We make a best effort to throw an\n * exception when given a format string we don't understand, rather than\n * ignoring it, so that we won't break existing programs if/when we go implement\n * the rest of this.\n *\n * This implementation currently supports specifying\n *\t- field alignment ('-' flag),\n * \t- zero-pad ('0' flag)\n *\t- always show numeric sign ('+' flag),\n *\t- field width\n *\t- conversions for strings, decimal integers, and floats (numbers).\n *\t- argument size specifiers.  These are all accepted but ignored, since\n *\t  Javascript has no notion of the physical size of an argument.\n *\n * Everything else is currently unsupported, most notably precision, unsigned\n * numbers, non-decimal numbers, and characters.\n */\nfunction jsSprintf(ofmt)\n{\n\tvar regex = [\n\t    '([^%]*)',\t\t\t\t/* normal text */\n\t    '%',\t\t\t\t/* start of format */\n\t    '([\\'\\\\-+ #0]*?)',\t\t\t/* flags (optional) */\n\t    '([1-9]\\\\d*)?',\t\t\t/* width (optional) */\n\t    '(\\\\.([1-9]\\\\d*))?',\t\t/* precision (optional) */\n\t    '[lhjztL]*?',\t\t\t/* length mods (ignored) */\n\t    '([diouxXfFeEgGaAcCsSp%jr])'\t/* conversion */\n\t].join('');\n\n\tvar re = new RegExp(regex);\n\n\t/* variadic arguments used to fill in conversion specifiers */\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\t/* remaining format string */\n\tvar fmt = ofmt;\n\n\t/* components of the current conversion specifier */\n\tvar flags, width, precision, conversion;\n\tvar left, pad, sign, arg, match;\n\n\t/* return value */\n\tvar ret = '';\n\n\t/* current variadic argument (1-based) */\n\tvar argn = 1;\n\t/* 0-based position in the format string that we've read */\n\tvar posn = 0;\n\t/* 1-based position in the format string of the current conversion */\n\tvar convposn;\n\t/* current conversion specifier */\n\tvar curconv;\n\n\tmod_assert.equal('string', typeof (fmt),\n\t    'first argument must be a format string');\n\n\twhile ((match = re.exec(fmt)) !== null) {\n\t\tret += match[1];\n\t\tfmt = fmt.substring(match[0].length);\n\n\t\t/*\n\t\t * Update flags related to the current conversion specifier's\n\t\t * position so that we can report clear error messages.\n\t\t */\n\t\tcurconv = match[0].substring(match[1].length);\n\t\tconvposn = posn + match[1].length + 1;\n\t\tposn += match[0].length;\n\n\t\tflags = match[2] || '';\n\t\twidth = match[3] || 0;\n\t\tprecision = match[4] || '';\n\t\tconversion = match[6];\n\t\tleft = false;\n\t\tsign = false;\n\t\tpad = ' ';\n\n\t\tif (conversion == '%') {\n\t\t\tret += '%';\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (args.length === 0) {\n\t\t\tthrow (jsError(ofmt, convposn, curconv,\n\t\t\t    'has no matching argument ' +\n\t\t\t    '(too few arguments passed)'));\n\t\t}\n\n\t\targ = args.shift();\n\t\targn++;\n\n\t\tif (flags.match(/[\\' #]/)) {\n\t\t\tthrow (jsError(ofmt, convposn, curconv,\n\t\t\t    'uses unsupported flags'));\n\t\t}\n\n\t\tif (precision.length > 0) {\n\t\t\tthrow (jsError(ofmt, convposn, curconv,\n\t\t\t    'uses non-zero precision (not supported)'));\n\t\t}\n\n\t\tif (flags.match(/-/))\n\t\t\tleft = true;\n\n\t\tif (flags.match(/0/))\n\t\t\tpad = '0';\n\n\t\tif (flags.match(/\\+/))\n\t\t\tsign = true;\n\n\t\tswitch (conversion) {\n\t\tcase 's':\n\t\t\tif (arg === undefined || arg === null) {\n\t\t\t\tthrow (jsError(ofmt, convposn, curconv,\n\t\t\t\t    'attempted to print undefined or null ' +\n\t\t\t\t    'as a string (argument ' + argn + ' to ' +\n\t\t\t\t    'sprintf)'));\n\t\t\t}\n\t\t\tret += doPad(pad, width, left, arg.toString());\n\t\t\tbreak;\n\n\t\tcase 'd':\n\t\t\targ = Math.floor(arg);\n\t\t\t/*jsl:fallthru*/\n\t\tcase 'f':\n\t\t\tsign = sign && arg > 0 ? '+' : '';\n\t\t\tret += sign + doPad(pad, width, left,\n\t\t\t    arg.toString());\n\t\t\tbreak;\n\n\t\tcase 'x':\n\t\t\tret += doPad(pad, width, left, arg.toString(16));\n\t\t\tbreak;\n\n\t\tcase 'j': /* non-standard */\n\t\t\tif (width === 0)\n\t\t\t\twidth = 10;\n\t\t\tret += mod_util.inspect(arg, false, width);\n\t\t\tbreak;\n\n\t\tcase 'r': /* non-standard */\n\t\t\tret += dumpException(arg);\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow (jsError(ofmt, convposn, curconv,\n\t\t\t    'is not supported'));\n\t\t}\n\t}\n\n\tret += fmt;\n\treturn (ret);\n}\n\nfunction jsError(fmtstr, convposn, curconv, reason) {\n\tmod_assert.equal(typeof (fmtstr), 'string');\n\tmod_assert.equal(typeof (curconv), 'string');\n\tmod_assert.equal(typeof (convposn), 'number');\n\tmod_assert.equal(typeof (reason), 'string');\n\treturn (new Error('format string \"' + fmtstr +\n\t    '\": conversion specifier \"' + curconv + '\" at character ' +\n\t    convposn + ' ' + reason));\n}\n\nfunction jsPrintf() {\n\tvar args = Array.prototype.slice.call(arguments);\n\targs.unshift(process.stdout);\n\tjsFprintf.apply(null, args);\n}\n\nfunction jsFprintf(stream) {\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\treturn (stream.write(jsSprintf.apply(this, args)));\n}\n\nfunction doPad(chr, width, left, str)\n{\n\tvar ret = str;\n\n\twhile (ret.length < width) {\n\t\tif (left)\n\t\t\tret += chr;\n\t\telse\n\t\t\tret = chr + ret;\n\t}\n\n\treturn (ret);\n}\n\n/*\n * This function dumps long stack traces for exceptions having a cause() method.\n * See node-verror for an example.\n */\nfunction dumpException(ex)\n{\n\tvar ret;\n\n\tif (!(ex instanceof Error))\n\t\tthrow (new Error(jsSprintf('invalid type for %%r: %j', ex)));\n\n\t/* Note that V8 prepends \"ex.stack\" with ex.toString(). */\n\tret = 'EXCEPTION: ' + ex.constructor.name + ': ' + ex.stack;\n\n\tif (ex.cause && typeof (ex.cause) === 'function') {\n\t\tvar cex = ex.cause();\n\t\tif (cex) {\n\t\t\tret += '\\nCaused by: ' + dumpException(cex);\n\t\t}\n\t}\n\n\treturn (ret);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","/*\n * verror.js: richer JavaScript errors\n */\n\nvar mod_assertplus = require('assert-plus');\nvar mod_util = require('util');\n\nvar mod_extsprintf = require('extsprintf');\nvar mod_isError = require('core-util-is').isError;\nvar sprintf = mod_extsprintf.sprintf;\n\n/*\n * Public interface\n */\n\n/* So you can 'var VError = require('verror')' */\nmodule.exports = VError;\n/* For compatibility */\nVError.VError = VError;\n/* Other exported classes */\nVError.SError = SError;\nVError.WError = WError;\nVError.MultiError = MultiError;\n\n/*\n * Common function used to parse constructor arguments for VError, WError, and\n * SError.  Named arguments to this function:\n *\n *     strict\t\tforce strict interpretation of sprintf arguments, even\n *     \t\t\tif the options in \"argv\" don't say so\n *\n *     argv\t\terror's constructor arguments, which are to be\n *     \t\t\tinterpreted as described in README.md.  For quick\n *     \t\t\treference, \"argv\" has one of the following forms:\n *\n *          [ sprintf_args... ]           (argv[0] is a string)\n *          [ cause, sprintf_args... ]    (argv[0] is an Error)\n *          [ options, sprintf_args... ]  (argv[0] is an object)\n *\n * This function normalizes these forms, producing an object with the following\n * properties:\n *\n *    options           equivalent to \"options\" in third form.  This will never\n *    \t\t\tbe a direct reference to what the caller passed in\n *    \t\t\t(i.e., it may be a shallow copy), so it can be freely\n *    \t\t\tmodified.\n *\n *    shortmessage      result of sprintf(sprintf_args), taking options.strict\n *    \t\t\tinto account as described in README.md.\n */\nfunction parseConstructorArguments(args)\n{\n\tvar argv, options, sprintf_args, shortmessage, k;\n\n\tmod_assertplus.object(args, 'args');\n\tmod_assertplus.bool(args.strict, 'args.strict');\n\tmod_assertplus.array(args.argv, 'args.argv');\n\targv = args.argv;\n\n\t/*\n\t * First, figure out which form of invocation we've been given.\n\t */\n\tif (argv.length === 0) {\n\t\toptions = {};\n\t\tsprintf_args = [];\n\t} else if (mod_isError(argv[0])) {\n\t\toptions = { 'cause': argv[0] };\n\t\tsprintf_args = argv.slice(1);\n\t} else if (typeof (argv[0]) === 'object') {\n\t\toptions = {};\n\t\tfor (k in argv[0]) {\n\t\t\toptions[k] = argv[0][k];\n\t\t}\n\t\tsprintf_args = argv.slice(1);\n\t} else {\n\t\tmod_assertplus.string(argv[0],\n\t\t    'first argument to VError, SError, or WError ' +\n\t\t    'constructor must be a string, object, or Error');\n\t\toptions = {};\n\t\tsprintf_args = argv;\n\t}\n\n\t/*\n\t * Now construct the error's message.\n\t *\n\t * extsprintf (which we invoke here with our caller's arguments in order\n\t * to construct this Error's message) is strict in its interpretation of\n\t * values to be processed by the \"%s\" specifier.  The value passed to\n\t * extsprintf must actually be a string or something convertible to a\n\t * String using .toString().  Passing other values (notably \"null\" and\n\t * \"undefined\") is considered a programmer error.  The assumption is\n\t * that if you actually want to print the string \"null\" or \"undefined\",\n\t * then that's easy to do that when you're calling extsprintf; on the\n\t * other hand, if you did NOT want that (i.e., there's actually a bug\n\t * where the program assumes some variable is non-null and tries to\n\t * print it, which might happen when constructing a packet or file in\n\t * some specific format), then it's better to stop immediately than\n\t * produce bogus output.\n\t *\n\t * However, sometimes the bug is only in the code calling VError, and a\n\t * programmer might prefer to have the error message contain \"null\" or\n\t * \"undefined\" rather than have the bug in the error path crash the\n\t * program (making the first bug harder to identify).  For that reason,\n\t * by default VError converts \"null\" or \"undefined\" arguments to their\n\t * string representations and passes those to extsprintf.  Programmers\n\t * desiring the strict behavior can use the SError class or pass the\n\t * \"strict\" option to the VError constructor.\n\t */\n\tmod_assertplus.object(options);\n\tif (!options.strict && !args.strict) {\n\t\tsprintf_args = sprintf_args.map(function (a) {\n\t\t\treturn (a === null ? 'null' :\n\t\t\t    a === undefined ? 'undefined' : a);\n\t\t});\n\t}\n\n\tif (sprintf_args.length === 0) {\n\t\tshortmessage = '';\n\t} else {\n\t\tshortmessage = sprintf.apply(null, sprintf_args);\n\t}\n\n\treturn ({\n\t    'options': options,\n\t    'shortmessage': shortmessage\n\t});\n}\n\n/*\n * See README.md for reference documentation.\n */\nfunction VError()\n{\n\tvar args, obj, parsed, cause, ctor, message, k;\n\n\targs = Array.prototype.slice.call(arguments, 0);\n\n\t/*\n\t * This is a regrettable pattern, but JavaScript's built-in Error class\n\t * is defined to work this way, so we allow the constructor to be called\n\t * without \"new\".\n\t */\n\tif (!(this instanceof VError)) {\n\t\tobj = Object.create(VError.prototype);\n\t\tVError.apply(obj, arguments);\n\t\treturn (obj);\n\t}\n\n\t/*\n\t * For convenience and backwards compatibility, we support several\n\t * different calling forms.  Normalize them here.\n\t */\n\tparsed = parseConstructorArguments({\n\t    'argv': args,\n\t    'strict': false\n\t});\n\n\t/*\n\t * If we've been given a name, apply it now.\n\t */\n\tif (parsed.options.name) {\n\t\tmod_assertplus.string(parsed.options.name,\n\t\t    'error\\'s \"name\" must be a string');\n\t\tthis.name = parsed.options.name;\n\t}\n\n\t/*\n\t * For debugging, we keep track of the original short message (attached\n\t * this Error particularly) separately from the complete message (which\n\t * includes the messages of our cause chain).\n\t */\n\tthis.jse_shortmsg = parsed.shortmessage;\n\tmessage = parsed.shortmessage;\n\n\t/*\n\t * If we've been given a cause, record a reference to it and update our\n\t * message appropriately.\n\t */\n\tcause = parsed.options.cause;\n\tif (cause) {\n\t\tmod_assertplus.ok(mod_isError(cause), 'cause is not an Error');\n\t\tthis.jse_cause = cause;\n\n\t\tif (!parsed.options.skipCauseMessage) {\n\t\t\tmessage += ': ' + cause.message;\n\t\t}\n\t}\n\n\t/*\n\t * If we've been given an object with properties, shallow-copy that\n\t * here.  We don't want to use a deep copy in case there are non-plain\n\t * objects here, but we don't want to use the original object in case\n\t * the caller modifies it later.\n\t */\n\tthis.jse_info = {};\n\tif (parsed.options.info) {\n\t\tfor (k in parsed.options.info) {\n\t\t\tthis.jse_info[k] = parsed.options.info[k];\n\t\t}\n\t}\n\n\tthis.message = message;\n\tError.call(this, message);\n\n\tif (Error.captureStackTrace) {\n\t\tctor = parsed.options.constructorOpt || this.constructor;\n\t\tError.captureStackTrace(this, ctor);\n\t}\n\n\treturn (this);\n}\n\nmod_util.inherits(VError, Error);\nVError.prototype.name = 'VError';\n\nVError.prototype.toString = function ve_toString()\n{\n\tvar str = (this.hasOwnProperty('name') && this.name ||\n\t\tthis.constructor.name || this.constructor.prototype.name);\n\tif (this.message)\n\t\tstr += ': ' + this.message;\n\n\treturn (str);\n};\n\n/*\n * This method is provided for compatibility.  New callers should use\n * VError.cause() instead.  That method also uses the saner `null` return value\n * when there is no cause.\n */\nVError.prototype.cause = function ve_cause()\n{\n\tvar cause = VError.cause(this);\n\treturn (cause === null ? undefined : cause);\n};\n\n/*\n * Static methods\n *\n * These class-level methods are provided so that callers can use them on\n * instances of Errors that are not VErrors.  New interfaces should be provided\n * only using static methods to eliminate the class of programming mistake where\n * people fail to check whether the Error object has the corresponding methods.\n */\n\nVError.cause = function (err)\n{\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\treturn (mod_isError(err.jse_cause) ? err.jse_cause : null);\n};\n\nVError.info = function (err)\n{\n\tvar rv, cause, k;\n\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\tcause = VError.cause(err);\n\tif (cause !== null) {\n\t\trv = VError.info(cause);\n\t} else {\n\t\trv = {};\n\t}\n\n\tif (typeof (err.jse_info) == 'object' && err.jse_info !== null) {\n\t\tfor (k in err.jse_info) {\n\t\t\trv[k] = err.jse_info[k];\n\t\t}\n\t}\n\n\treturn (rv);\n};\n\nVError.findCauseByName = function (err, name)\n{\n\tvar cause;\n\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\tmod_assertplus.string(name, 'name');\n\tmod_assertplus.ok(name.length > 0, 'name cannot be empty');\n\n\tfor (cause = err; cause !== null; cause = VError.cause(cause)) {\n\t\tmod_assertplus.ok(mod_isError(cause));\n\t\tif (cause.name == name) {\n\t\t\treturn (cause);\n\t\t}\n\t}\n\n\treturn (null);\n};\n\nVError.hasCauseWithName = function (err, name)\n{\n\treturn (VError.findCauseByName(err, name) !== null);\n};\n\nVError.fullStack = function (err)\n{\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\n\tvar cause = VError.cause(err);\n\n\tif (cause) {\n\t\treturn (err.stack + '\\ncaused by: ' + VError.fullStack(cause));\n\t}\n\n\treturn (err.stack);\n};\n\nVError.errorFromList = function (errors)\n{\n\tmod_assertplus.arrayOfObject(errors, 'errors');\n\n\tif (errors.length === 0) {\n\t\treturn (null);\n\t}\n\n\terrors.forEach(function (e) {\n\t\tmod_assertplus.ok(mod_isError(e));\n\t});\n\n\tif (errors.length == 1) {\n\t\treturn (errors[0]);\n\t}\n\n\treturn (new MultiError(errors));\n};\n\nVError.errorForEach = function (err, func)\n{\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\tmod_assertplus.func(func, 'func');\n\n\tif (err instanceof MultiError) {\n\t\terr.errors().forEach(function iterError(e) { func(e); });\n\t} else {\n\t\tfunc(err);\n\t}\n};\n\n\n/*\n * SError is like VError, but stricter about types.  You cannot pass \"null\" or\n * \"undefined\" as string arguments to the formatter.\n */\nfunction SError()\n{\n\tvar args, obj, parsed, options;\n\n\targs = Array.prototype.slice.call(arguments, 0);\n\tif (!(this instanceof SError)) {\n\t\tobj = Object.create(SError.prototype);\n\t\tSError.apply(obj, arguments);\n\t\treturn (obj);\n\t}\n\n\tparsed = parseConstructorArguments({\n\t    'argv': args,\n\t    'strict': true\n\t});\n\n\toptions = parsed.options;\n\tVError.call(this, options, '%s', parsed.shortmessage);\n\n\treturn (this);\n}\n\n/*\n * We don't bother setting SError.prototype.name because once constructed,\n * SErrors are just like VErrors.\n */\nmod_util.inherits(SError, VError);\n\n\n/*\n * Represents a collection of errors for the purpose of consumers that generally\n * only deal with one error.  Callers can extract the individual errors\n * contained in this object, but may also just treat it as a normal single\n * error, in which case a summary message will be printed.\n */\nfunction MultiError(errors)\n{\n\tmod_assertplus.array(errors, 'list of errors');\n\tmod_assertplus.ok(errors.length > 0, 'must be at least one error');\n\tthis.ase_errors = errors;\n\n\tVError.call(this, {\n\t    'cause': errors[0]\n\t}, 'first of %d error%s', errors.length, errors.length == 1 ? '' : 's');\n}\n\nmod_util.inherits(MultiError, VError);\nMultiError.prototype.name = 'MultiError';\n\nMultiError.prototype.errors = function me_errors()\n{\n\treturn (this.ase_errors.slice(0));\n};\n\n\n/*\n * See README.md for reference details.\n */\nfunction WError()\n{\n\tvar args, obj, parsed, options;\n\n\targs = Array.prototype.slice.call(arguments, 0);\n\tif (!(this instanceof WError)) {\n\t\tobj = Object.create(WError.prototype);\n\t\tWError.apply(obj, args);\n\t\treturn (obj);\n\t}\n\n\tparsed = parseConstructorArguments({\n\t    'argv': args,\n\t    'strict': false\n\t});\n\n\toptions = parsed.options;\n\toptions['skipCauseMessage'] = true;\n\tVError.call(this, options, '%s', parsed.shortmessage);\n\n\treturn (this);\n}\n\nmod_util.inherits(WError, VError);\nWError.prototype.name = 'WError';\n\nWError.prototype.toString = function we_toString()\n{\n\tvar str = (this.hasOwnProperty('name') && this.name ||\n\t\tthis.constructor.name || this.constructor.prototype.name);\n\tif (this.message)\n\t\tstr += ': ' + this.message;\n\tif (this.jse_cause && this.jse_cause.message)\n\t\tstr += '; caused by ' + this.jse_cause.toString();\n\n\treturn (str);\n};\n\n/*\n * For purely historical reasons, WError's cause() function allows you to set\n * the cause.\n */\nWError.prototype.cause = function we_cause(c)\n{\n\tif (mod_isError(c))\n\t\tthis.jse_cause = c;\n\n\treturn (this.jse_cause);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTypeImpl = void 0;\nfunction isTypeImpl(key) {\n    function isType(instanceOrType, type) {\n        if (instanceOrType != undefined) {\n            if (typeof instanceOrType === 'function' || typeof instanceOrType === 'string') {\n                const typeArg = instanceOrType;\n                const typeStr = typeof typeArg === 'string' ? typeArg : typeArg.output.type;\n                return (o) => isType(o, typeStr);\n            }\n            else {\n                const instance = instanceOrType;\n                const typeStr = typeof type === 'string' ? type : type.output.type;\n                return instance != undefined && instance[key !== null && key !== void 0 ? key : 'type'] === typeStr;\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    return { isType };\n}\nexports.isTypeImpl = isTypeImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HOI = exports.isPromise = exports.identityFunc = void 0;\n/**\n * Identity function. Doubles as the noop func.\n * @param x\n */\nconst identityFunc = (x = {}) => x;\nexports.identityFunc = identityFunc;\n/**\n * Determine whether or not a variable is a promise.\n * @param x potential promise.\n */\nfunction isPromise(x) {\n    return x != undefined && typeof x === 'object' && 'then' in x && typeof x.then === 'function';\n}\nexports.isPromise = isPromise;\n/**\n * **H**igher-**O**rder **I**dentity.\n *\n * A higher order factory for this very useful wrapper function.\n *\n * ```ts\n * // Enforce the type constraint *and* narrow the return type.\n * function defineThing<T extends Template>(definition: T): T {\n *     return definition;\n * }\n * ```\n *\n * The above `defineThing` can now be generated through\n *\n * ```ts\n * const defineThing = HOI<Template>();\n * ```\n *\n * Or in more advanced to define something like a catalog:\n *\n * ```ts\n * const defineThings = HOI<Record<string, Template>>();\n * ```\n */\nconst HOI = () => (definition) => definition;\nexports.HOI = HOI;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.variantImpl = exports.isVariantCreator = exports.scopeType = void 0;\nconst util_1 = require(\"./util\");\n/**\n * Internal function to consistently generate a scoped type.\n * @param scope\n * @param type\n * @returns\n */\nconst scopeType = (scope, type) => `${scope}/${type}`;\nexports.scopeType = scopeType;\nfunction descopeType(s) {\n    var _a;\n    return ((_a = s.split('/')[1]) !== null && _a !== void 0 ? _a : s);\n}\nconst VARIANT_CREATOR_BRAND = Symbol('Variant Creator');\nfunction isVariantCreator(func) {\n    return VARIANT_CREATOR_BRAND in func;\n}\nexports.isVariantCreator = isVariantCreator;\nfunction variantImpl(key) {\n    function scope(scope, v) {\n        return Object.keys(v).reduce((acc, key) => {\n            return Object.assign(Object.assign({}, acc), { [key]: variation((0, exports.scopeType)(scope, key), typeof v[key] === 'function' ? v[key] : util_1.identityFunc) });\n        }, {});\n    }\n    function descope(obj) {\n        return Object.assign(Object.assign({}, obj), { [key]: descopeType(obj[key]) });\n    }\n    function variation(type, creator) {\n        let maker = (...args) => {\n            const returned = (creator !== null && creator !== void 0 ? creator : util_1.identityFunc)(...args);\n            if ((0, util_1.isPromise)(returned)) {\n                return returned.then(result => {\n                    if (key in (result !== null && result !== void 0 ? result : {})) {\n                        return result;\n                    }\n                    else {\n                        return Object.assign(result !== null && result !== void 0 ? result : {}, { [key]: type });\n                    }\n                });\n            }\n            else {\n                if (key in (returned !== null && returned !== void 0 ? returned : {})) {\n                    return returned;\n                }\n                else {\n                    return Object.assign(returned !== null && returned !== void 0 ? returned : {}, { [key]: type });\n                }\n            }\n        };\n        Object.defineProperty(maker, 'name', { value: type, writable: false });\n        const outputs = { output: { key, type } };\n        return Object.assign(maker, outputs, {\n            [VARIANT_CREATOR_BRAND]: VARIANT_CREATOR_BRAND,\n            toString: function () { return this.output.type; }\n        });\n    }\n    function variantModule(template) {\n        return Object.entries(template).reduce((result, [vmKey, vmVal]) => {\n            // whether to use the existing value (pass-through variations), or create a new variation.\n            const creator = typeof vmVal === 'function'\n                ? isVariantCreator(vmVal)\n                    ? vmVal\n                    : variation(vmKey, vmVal)\n                : variation(vmKey, util_1.identityFunc);\n            return Object.assign(Object.assign({}, result), { [vmKey]: creator });\n        }, {});\n    }\n    function variantList(template) {\n        return template.map((t) => {\n            if (typeof t === 'string') {\n                return variation(t);\n            }\n            else if (typeof t === 'function') {\n                return t;\n            }\n            return t;\n        }).reduce((result, t) => {\n            let creator = ((typeof t === 'string') ? variation(t) : t);\n            return Object.assign(Object.assign({}, result), { [creator.output.type]: creator });\n        }, {});\n    }\n    function variant(template) {\n        if (Array.isArray(template)) {\n            return variantList(template);\n        }\n        else {\n            return variantModule(template);\n        }\n    }\n    return { descope, scoped: scope, variant, variantList, variantModule, variation };\n}\nexports.variantImpl = variantImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_KEY = void 0;\n;\n;\n/**\n * The key used to indicate the default handler.\n */\nexports.DEFAULT_KEY = 'default';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.matchImpl = void 0;\nconst variant_1 = require(\"./variant\");\nconst precepts_1 = require(\"./precepts\");\nfunction matchImpl(key) {\n    // curryable wrapper around match.\n    const prematch = (_) => (handler) => (instance) => match(instance, handler);\n    function match(...args) {\n        var _a, _b;\n        if (args.length === 1) {\n            // inline match\n            const [handler] = args;\n            return (instance) => match(instance, handler);\n        }\n        else if (args.length === 2) {\n            // regular match\n            const [instanceOrTypeOrCreator, handlerParam] = args;\n            const instanceOrCreator = typeof instanceOrTypeOrCreator === 'string'\n                ? ofLiteral(instanceOrTypeOrCreator)\n                : instanceOrTypeOrCreator;\n            // unpack handler from function if necessary.\n            const handler = typeof handlerParam === 'function'\n                ? handlerParam(instanceOrCreator)\n                : handlerParam;\n            const tType = instanceOrCreator == undefined\n                ? undefined\n                : (0, variant_1.isVariantCreator)(instanceOrCreator)\n                    ? instanceOrCreator.output.type\n                    : instanceOrCreator[key];\n            if (instanceOrCreator != undefined && tType !== undefined && tType in handler) {\n                return (_a = handler[tType]) === null || _a === void 0 ? void 0 : _a.call(handler, instanceOrCreator);\n            }\n            else if (precepts_1.DEFAULT_KEY in handler) {\n                return (_b = handler[precepts_1.DEFAULT_KEY]) === null || _b === void 0 ? void 0 : _b.call(handler, instanceOrCreator);\n            }\n        }\n    }\n    const partial = (h) => () => h;\n    const onLiteral = ofLiteral;\n    function ofLiteral(instance) {\n        return {\n            [key]: instance,\n        };\n    }\n    function lookup(handler) {\n        const handlerWithFuncs = Object.keys(handler).reduce((acc, cur) => {\n            return Object.assign(Object.assign({}, acc), { [cur]: () => handler[cur] });\n        }, {});\n        return _ => handlerWithFuncs;\n    }\n    function otherwise(branches, elseFunc) {\n        return _ => (Object.assign(Object.assign({}, branches), { default: elseFunc }));\n    }\n    function withFallback(handler, fallback) {\n        return _ => (Object.assign(Object.assign({}, handler), { default: fallback }));\n    }\n    return { match, ofLiteral, onLiteral, otherwise, partial, prematch, lookup, withFallback };\n}\nexports.matchImpl = matchImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.typesImpl = void 0;\nconst variant_1 = require(\"./variant\");\nfunction typesImpl(key) {\n    function types(content) {\n        if (Array.isArray(content)) {\n            if (content.length && (0, variant_1.isVariantCreator)(content[0])) {\n                return content.map(c => c.output.type);\n            }\n            else {\n                return content.map(c => c[key]);\n            }\n        }\n        else {\n            return Object.values(content).map(c => c.output.type);\n        }\n    }\n    function inferTypes(_) {\n        return new Proxy({}, {\n            get: (_, property) => {\n                return property;\n            }\n        });\n    }\n    return { types, inferTypes };\n}\nexports.typesImpl = typesImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flagsImpl = void 0;\n/**\n * groupBy list of variant instances. Assumes one object per variation.\n * @param key\n */\nfunction flagsImpl(key) {\n    function flags(flags) {\n        return flags.reduce((o, v) => (Object.assign(Object.assign({}, o), { [v[key]]: v })), Object.create(null));\n    }\n    return { flags };\n}\nexports.flagsImpl = flagsImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isOfVariantImpl = void 0;\nfunction isOfVariantImpl(key) {\n    function isOfVariant(...args) {\n        if (args.length === 1) {\n            const [variant] = args;\n            return (instance) => instance != undefined\n                && Object.values(variant).some(vc => vc.output.type === instance[key]);\n        }\n        else if (args.length === 2) {\n            const [instance, variant] = args;\n            return instance != undefined\n                && Object.values(variant).some(vc => vc.output.type === instance[key]);\n        }\n        return false;\n    }\n    return { isOfVariant };\n}\nexports.isOfVariantImpl = isOfVariantImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.remoteImpl = exports.CompareResult = void 0;\nconst isType_1 = require(\"./isType\");\nconst match_1 = require(\"./match\");\nconst variant_1 = require(\"./variant\");\nvar CompareResult;\n(function (CompareResult) {\n    CompareResult[CompareResult[\"Lesser\"] = -1] = \"Lesser\";\n    CompareResult[CompareResult[\"Equal\"] = 0] = \"Equal\";\n    CompareResult[CompareResult[\"Greater\"] = 1] = \"Greater\";\n})(CompareResult = exports.CompareResult || (exports.CompareResult = {}));\nfunction remoteImpl(key) {\n    const { isType } = (0, isType_1.isTypeImpl)(key);\n    const { match } = (0, match_1.matchImpl)(key);\n    const { variantList } = (0, variant_1.variantImpl)(key);\n    function isFunctions(vmod) {\n        const keys = Object.keys(vmod);\n        return keys.reduce((acc, key) => {\n            return Object.assign(Object.assign({}, acc), { [key]: isType(key) });\n        }, {});\n    }\n    function remote(vmod) {\n        return {\n            key,\n            is: isFunctions(vmod),\n            new: vmod,\n            match,\n        };\n    }\n    ;\n    function getType(input) {\n        if (typeof input === 'string') {\n            return input;\n        }\n        else if (typeof input === 'function') {\n            return input.output.type;\n        }\n        else {\n            return input[key];\n        }\n    }\n    function _sequence(module, order) {\n        const miniModule = module;\n        const result = remote(miniModule);\n        const keyOrder = order.map(getType);\n        return Object.assign(Object.assign({}, result), { length: order.length, compare: (a, b) => {\n                const ai = keyOrder.findIndex(i => i === getType(a));\n                const bi = keyOrder.findIndex(i => i === getType(b));\n                const diff = ai - bi;\n                return diff === 0 ? diff : (diff / Math.abs(diff));\n            }, get(i) {\n                const type = this.types[i];\n                return this.new[type];\n            }, index: a => keyOrder.findIndex(i => i === getType(a)), types: keyOrder });\n    }\n    function _sequenceOfList(order) {\n        const module = variantList(order);\n        return _sequence(module, order);\n    }\n    function sequence(module, order) {\n        if (Array.isArray(module)) {\n            return _sequenceOfList(module);\n        }\n        else {\n            return _sequence(module, order);\n        }\n    }\n    return { remote, sequence };\n}\nexports.remoteImpl = remoteImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.typedImpl = exports.pass = void 0;\n/**\n * A helper function for variantModule.\n *\n * This is the identity function by a better name.\n * @param x\n */\nconst pass = (x) => x;\nexports.pass = pass;\nfunction typedImpl(_key) {\n    function typed(defOrFactory) {\n        if (typeof defOrFactory === 'function') {\n            return defOrFactory(exports.pass);\n        }\n        else {\n            return defOrFactory;\n        }\n    }\n    return { typed };\n}\nexports.typedImpl = typedImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unpack = exports.just = exports.constant = void 0;\n/**\n * Create a function that returns a value after being called.\n * @param x the value to be returned\n */\nfunction constant(x) {\n    return () => x;\n}\nexports.constant = constant;\nexports.just = constant;\n/**\n * Extract the payload element from the object and return it.\n * @example\n * ```\n * match(object, {\n *     ...\n *     case: unpack,\n *     ...\n * })\n * ```\n */\nconst unpack = (x) => x.payload;\nexports.unpack = unpack;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.matcherImpl = exports.Matcher = exports.tableToHandler = void 0;\nconst match_tools_1 = require(\"./match.tools\");\nconst variant_1 = require(\"./variant\");\n/**\n * Utility func to create a handler from a lookup table.\n * @param table\n * @returns\n */\nfunction tableToHandler(table) {\n    return Object.keys(table).reduce((acc, cur) => {\n        const key = cur;\n        return Object.assign(Object.assign({}, acc), { [key]: (0, match_tools_1.just)(table[key]) });\n    }, {});\n}\nexports.tableToHandler = tableToHandler;\n/**\n * The matcher, a builder-pattern form of `match()`\n *\n * * Create a matcher `matcher(animal)`\n * * Define cases\n *     * `.when('cat', _ => _.name)`\n *     * `.when(Animal.cat, c => c.name)`\n *     * `.when(['cat', Animal.dog], cd => cd.name)`,\n *     * `.when({cat: c => c.name, dog: d => d.name})`\n *     * `.register({cat: 'purr', dog: 'woof'})` for constants.\n *\n * * Execute the matcher\n *     * `.complete()` brings exhaustiveness checking\n *     * `.execute()` immediately runs the matcher, whether or not all cases are handled.\n *     * `.else(_ => {...})` immediately runs the matcher, resolving unhandled cases with a function.\n */\nclass Matcher {\n    /**\n     * Create a new matcher from the target\n     * @param target the\n     * @param handler the initial handler. Use `{}` for standard functionality.\n     * @param key the discriminant. Use `'type'` for standard functionality.\n     */\n    constructor(\n    /**\n     * The match target.\n     */\n    target, \n    /**\n     * The discrimant used for the union `T`\n     */\n    key, \n    /**\n     * The in-progress handler object.\n     */\n    handler) {\n        this.target = target;\n        this.key = key;\n        this.handler = handler;\n        this.complete = ((options) => {\n            var _a, _b;\n            if (this.target != undefined && this.target[this.key] in this.handler) {\n                return (_b = (_a = this.handler)[this.target[this.key]]) === null || _b === void 0 ? void 0 : _b.call(_a, this.target);\n            }\n            else {\n                if ((options === null || options === void 0 ? void 0 : options.withFallback) != undefined) {\n                    return options.withFallback(this.target);\n                }\n            }\n        });\n    }\n    /**\n     * Immediately execute the matcher. Exhaustiveness is not guaranteed.\n     *\n     * This is a **terminal** and resolves the matcher.\n     */\n    execute() {\n        const chosenHandler = this.handler[this.target[this.key]];\n        return chosenHandler === null || chosenHandler === void 0 ? void 0 : chosenHandler(this.target);\n    }\n    /**\n     * Handle all unhandled cases and immediately execute.\n     *\n     * > **Exhaust** â€” to consume entirely, _Merriam-Webster_\n     *\n     * This is a **terminal** and resolves the matcher.\n     * @param remainingCases an object wiht a method to handle every remaining case.\n     * @returns the result of executing the handler, given these final additions.\n     */\n    exhaust(remainingCases) {\n        var _a;\n        const combinedHandler = Object.assign(Object.assign({}, this.handler), remainingCases);\n        return (_a = combinedHandler[this.target[this.key]]) === null || _a === void 0 ? void 0 : _a.call(combinedHandler, this.target);\n    }\n    /**\n     * Resolve all remaining cases without executing the matcher.\n     * @param remainingCases\n     * @returns\n     */\n    remaining(remainingCases) {\n        return new Matcher(this.target, this.key, Object.assign(Object.assign({}, this.handler), remainingCases));\n    }\n    /**\n     * Execute the match. If the target type has been explicitly handled, use that logic.\n     * Otherwise use the function passed here.\n     *\n     * This is a **terminal** and resolves the matcher.\n     * @param func\n     * @returns\n     */\n    else(func) {\n        var _a, _b;\n        if (this.target[this.key] in this.handler) {\n            return (_b = (_a = this.handler)[this.target[this.key]]) === null || _b === void 0 ? void 0 : _b.call(_a, this.target);\n        }\n        else {\n            return func(this.target);\n        }\n    }\n    /**\n     * Register a series of options as a lookup table.\n     *\n     * ```ts\n     * const getSound = (a: Animal) => matcher(a)\n     *     .register({\n     *         cat: 'purr',\n     *         dog: 'woof',\n     *         snake: 'hiss',\n     *     })\n     *     .complete()\n     * ```\n     * @param table\n     * @returns\n     */\n    register(table) {\n        const newHandler = Object.assign(Object.assign({}, this.handler), tableToHandler(table));\n        return new Matcher(this.target, this.key, newHandler);\n    }\n    /**\n     * Provide an exhaustive table of the unhandled options and look up which value\n     * to use based on the instance.\n     *\n     * This is a **terminal** and resolves the matcher.\n     *\n     * ```ts\n     * const getSound = (a: Animal) => matcher(a)\n     *     .lookup({\n     *         cat: 'purr',\n     *         dog: 'woof',\n     *         snake: 'hiss',\n     *     })\n     * ```\n     * @param table\n     * @returns\n     */\n    lookup(table) {\n        var _a;\n        const combinedHandler = Object.assign(Object.assign({}, this.handler), tableToHandler(table));\n        return (_a = combinedHandler[this.target[this.key]]) === null || _a === void 0 ? void 0 : _a.call(combinedHandler, this.target);\n    }\n    /**\n     * Handle one or more cases, object-style.\n     * @param variations\n     */\n    with(variations) {\n        return new Matcher(this.target, this.key, Object.assign(Object.assign({}, this.handler), variations));\n    }\n    // actual implementation\n    when(variations, handler) {\n        if (handler != undefined) {\n            // 2 param case\n            const list = Array.isArray(variations) ? variations : [variations];\n            const newCases = list.reduce((acc, cur) => {\n                const type = typeof cur === 'string' ? cur : (0, variant_1.isVariantCreator)(cur) ? cur.output.type : undefined;\n                return type != undefined ? (Object.assign(Object.assign({}, acc), { [type]: handler })) : (acc);\n            }, {});\n            return new Matcher(this.target, this.key, Object.assign(Object.assign({}, this.handler), newCases));\n        }\n        else {\n            //1 param case\n            return new Matcher(this.target, this.key, Object.assign(Object.assign({}, this.handler), variations));\n        }\n    }\n}\nexports.Matcher = Matcher;\nfunction matcherImpl(key) {\n    function matcher(target) {\n        const actualTarget = typeof target === 'string'\n            ? { [key]: target }\n            : target;\n        return new Matcher(actualTarget, key, {});\n    }\n    return { matcher };\n}\nexports.matcherImpl = matcherImpl;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.variantCosmos = void 0;\nconst isType_1 = require(\"./isType\");\nconst match_1 = require(\"./match\");\nconst variant_1 = require(\"./variant\");\nconst types_1 = require(\"./types\");\nconst flags_1 = require(\"./flags\");\nconst isOfVariant_1 = require(\"./isOfVariant\");\nconst remote_1 = require(\"./remote\");\nconst typed_1 = require(\"./typed\");\nconst matcher_1 = require(\"./matcher\");\n/**\n * Generate a series of functions to work off a given key.\n * @param config the key to use.\n * @template K discriminant as string literal.\n * @returns `VariantCosmos<K>`\n */\nfunction variantCosmos({ key }) {\n    const { isType } = (0, isType_1.isTypeImpl)(key);\n    const { flags } = (0, flags_1.flagsImpl)(key);\n    return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ key,\n        isType,\n        flags }, (0, isOfVariant_1.isOfVariantImpl)(key)), (0, match_1.matchImpl)(key)), (0, matcher_1.matcherImpl)(key)), (0, remote_1.remoteImpl)(key)), (0, typed_1.typedImpl)(key)), (0, types_1.typesImpl)(key)), (0, variant_1.variantImpl)(key));\n}\nexports.variantCosmos = variantCosmos;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withFallback = exports.variation = exports.variantModule = exports.variantList = exports.variant = exports.types = exports.typed = exports.lookup = exports.sequence = exports.scoped = exports.remote = exports.prematch = exports.partial = exports.otherwise = exports.onLiteral = exports.ofLiteral = exports.matcher = exports.match = exports.isType = exports.isOfVariant = exports.inferTypes = exports.flags = exports.descope = void 0;\nconst cosmos_1 = require(\"../cosmos\");\n_a = (0, cosmos_1.variantCosmos)({ key: 'type' }), exports.descope = _a.descope, exports.flags = _a.flags, exports.inferTypes = _a.inferTypes, exports.isOfVariant = _a.isOfVariant, exports.isType = _a.isType, exports.match = _a.match, exports.matcher = _a.matcher, exports.ofLiteral = _a.ofLiteral, exports.onLiteral = _a.onLiteral, exports.otherwise = _a.otherwise, exports.partial = _a.partial, exports.prematch = _a.prematch, exports.remote = _a.remote, exports.scoped = _a.scoped, exports.sequence = _a.sequence, exports.lookup = _a.lookup, exports.typed = _a.typed, exports.types = _a.types, exports.variant = _a.variant, exports.variantList = _a.variantList, exports.variantModule = _a.variantModule, exports.variation = _a.variation, exports.withFallback = _a.withFallback;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.augment = void 0;\nconst type_1 = require(\"./type\");\nconst variant_1 = require(\"./variant\");\n/**\n * Augment an existing variant model with new or overridden fields.\n *\n * @param variantDefinition a template for the variant, extends `RawVariant`, may be an existing variant.\n * @param f the augment function. This receives the object that is is augmenting, enabling calculated properties.\n * @tutorial\n * Use in conjunction with `variant` (or `variantModule`).\n *\n * ```typescript\n * // Add a timestamp to every action.\n * export const Action = variant(augment(\n *     {\n *         AddTodo: fields<{text: string, due?: number}>(),\n *         UpdateTodo: fields<{todoId: number, text?: string, due?: number, complete?: boolean}>(),\n *     },\n *     () => ({timestamp: Date.now()}),\n * ));\n * ```\n */\nfunction augment(variantDefinition, f) {\n    return Object.keys(variantDefinition).reduce((acc, key) => {\n        let inputFunc = variantDefinition[key];\n        let returnFunc = (0, variant_1.isVariantCreator)(inputFunc)\n            ? (0, type_1.variation)(inputFunc.output.type, (...args) => {\n                let result = inputFunc(...args);\n                return Object.assign(Object.assign({}, f(result)), result);\n            })\n            : (...args) => {\n                const branch = variantDefinition[key];\n                let item = typeof branch === 'function' ? branch(...args) : {};\n                return Object.assign(Object.assign({}, f(item)), item);\n            };\n        return Object.assign(Object.assign({}, acc), { [key]: returnFunc });\n    }, {});\n}\nexports.augment = augment;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.constrained = void 0;\n/**\n * Constrained variant. A variant where each form abides by a given constraint - handles these\n * inputs and provides these outputs.\n *\n * This can be used to ensure optional properties exist on the union type.\n * @param _constraint_\n * @param v\n * @returns\n */\nfunction constrained(_constraint_, v) {\n    return v;\n}\nexports.constrained = constrained;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.construct = void 0;\n/**\n * Create a variant based on a class.\n * @param cls class definition / constructor\n * @returns a variant creator that wraps the class constructor into a factory function.\n */\nfunction construct(cls) {\n    return ((...args) => new cls(args));\n}\nexports.construct = construct;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Alpha = exports.onTerms = void 0;\nconst flags_1 = require(\"./flags\");\nconst variant_1 = require(\"./variant\");\nconst GENERIC_BRAND = Symbol('VARIANT GENERIC TEMPLATE');\n/**\n * Define a generic variant\n * @param func a template factory. Receives 26 generic placeholders (A-Z) in an object, returns a variant template\n * @returns A variant with generic creators\n */\nfunction onTerms(func) {\n    return Object.assign(Object.assign({}, func(exports.Alpha)), { [GENERIC_BRAND]: undefined });\n}\nexports.onTerms = onTerms;\nconst GTERM = '__term';\n// special functions keyed to the type used for generic parameters.\nconst genericTerms = (0, variant_1.variantImpl)(GTERM).variant;\nconst flags = (0, flags_1.flagsImpl)(GTERM).flags;\nconst GP = genericTerms([\n    'A',\n    'B',\n    'C',\n    'D',\n    'E',\n    'F',\n    'G',\n    'H',\n    'I',\n    'J',\n    'K',\n    'L',\n    'M',\n    'N',\n    'O',\n    'P',\n    'Q',\n    'R',\n    'S',\n    'T',\n    'U',\n    'V',\n    'W',\n    'X',\n    'Y',\n    'Z',\n]);\n/**\n * Object with placeholders for generic terms.\n */\nexports.Alpha = flags(Object.values(GP).map(f => f()));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.typeMap = exports.typeCatalog = void 0;\n/**\n * Create an a string enum-like object containing the type literals of a variant.\n * @param variant the definition of the variant in question.\n * @template T the variant template, an object containing variant creators.\n * @returns an object `{[T: string]: T}`\n * @tutorial\n * ```ts\n * const Animal = variant({...}); // cat, dog, snake\n *\n * const animalType = typeCatalog(Animal);\n * // animalType: {cat: 'cat', dog: 'dog', snake: 'snake'};\n * ```\n */\nfunction typeCatalog(variant) {\n    return Object.values(variant).reduce((result, vc) => {\n        return Object.assign(Object.assign({}, result), { [vc.output.type]: vc.output.type });\n    }, {});\n}\nexports.typeCatalog = typeCatalog;\n/**\n * Create a mapping object containing the friendly names of a variant's forms\n * and the type literals they correspond to.\n * @param variant the definition of the variant in question.\n * @template T the variant template, an object containing variant creators.\n * @tutorial\n *\n * In the trivial case where each property label of a variant is exactly the\n * type it generates, this is equivalent to `typeCatalog`\n * ```ts\n * const Animal = variant({...}); // cat, dog, snake\n *\n * const animalType = typeMap(Animal);\n * // animalType: {cat: 'cat', dog: 'dog', snake: 'snake'};\n * ```\n * However, `typeMap` shines when differences come into play.\n * ```ts\n * const Animal = scopedVariant('@animal', {...}); // cat, dog, snake\n * const animalType = typeMap(Animal);\n * // animalType: {cat: '@animal/cat', dog: '@animal/dog', snake: '@animal/snake'};\n * ```\n */\nfunction typeMap(variant) {\n    return Object.keys(variant).reduce((result, key) => {\n        return Object.assign(Object.assign({}, result), { [key]: variant[key].output.type });\n    }, {});\n}\nexports.typeMap = typeMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.literalist = exports.catalog = void 0;\nfunction catalog(catalog, factory) {\n    if (Array.isArray(catalog)) {\n        return catalog.reduce((result, current, index) => {\n            return Object.assign(Object.assign({}, result), { [current]: factory != undefined ? factory(current, index) : current });\n        }, {});\n    }\n    else {\n        return catalog;\n    }\n}\nexports.catalog = catalog;\n/**\n * Alias for compatibility\n * @deprecated - use `catalog`\n */\nexports.literalist = catalog;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.patterned = void 0;\nfunction patterned(_constraint_, v) {\n    return v;\n}\nexports.patterned = patterned;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nil = exports.payload = exports.fields = void 0;\n/**\n * Describe the fields of the variation.\n *\n * When used creates a function of type `(input: T) => T & {type: 'literal'}`\n * @param defaults set some default values for the object. Note this does *not* adjust the return type.\n */\nfunction fields(defaults = {}) {\n    return (...args) => {\n        const [arg] = args;\n        return Object.assign(Object.assign({}, defaults), arg);\n    };\n}\nexports.fields = fields;\n/**\n * Take a single variable of type T and store as 'payload'\n */\nfunction payload(_example) {\n    return (payload) => ({ payload });\n}\nexports.payload = payload;\n/**\n * Create an empty variation (`{type: 'literal'}`).\n */\nconst nil = () => ({});\nexports.nil = nil;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.payload = exports.nil = exports.fields = exports.HOI = exports.pass = exports.patterned = exports.unpack = exports.just = exports.constant = exports.literalist = exports.catalog = exports.typeCatalog = exports.typeMap = exports.onTerms = exports.variantCosmos = exports.construct = exports.constrained = exports.augment = void 0;\nvar augment_1 = require(\"./augment\");\nObject.defineProperty(exports, \"augment\", { enumerable: true, get: function () { return augment_1.augment; } });\nvar constrained_1 = require(\"./constrained\");\nObject.defineProperty(exports, \"constrained\", { enumerable: true, get: function () { return constrained_1.constrained; } });\nvar construct_1 = require(\"./construct\");\nObject.defineProperty(exports, \"construct\", { enumerable: true, get: function () { return construct_1.construct; } });\nvar cosmos_1 = require(\"./cosmos\");\nObject.defineProperty(exports, \"variantCosmos\", { enumerable: true, get: function () { return cosmos_1.variantCosmos; } });\nvar generic_1 = require(\"./generic\");\nObject.defineProperty(exports, \"onTerms\", { enumerable: true, get: function () { return generic_1.onTerms; } });\nvar typeCatalog_1 = require(\"./typeCatalog\");\nObject.defineProperty(exports, \"typeMap\", { enumerable: true, get: function () { return typeCatalog_1.typeMap; } });\nObject.defineProperty(exports, \"typeCatalog\", { enumerable: true, get: function () { return typeCatalog_1.typeCatalog; } });\nvar catalog_1 = require(\"./catalog\");\nObject.defineProperty(exports, \"catalog\", { enumerable: true, get: function () { return catalog_1.catalog; } });\nObject.defineProperty(exports, \"literalist\", { enumerable: true, get: function () { return catalog_1.literalist; } });\nvar match_tools_1 = require(\"./match.tools\");\nObject.defineProperty(exports, \"constant\", { enumerable: true, get: function () { return match_tools_1.constant; } });\nObject.defineProperty(exports, \"just\", { enumerable: true, get: function () { return match_tools_1.just; } });\nObject.defineProperty(exports, \"unpack\", { enumerable: true, get: function () { return match_tools_1.unpack; } });\nvar patterned_1 = require(\"./patterned\");\nObject.defineProperty(exports, \"patterned\", { enumerable: true, get: function () { return patterned_1.patterned; } });\nvar typed_1 = require(\"./typed\");\nObject.defineProperty(exports, \"pass\", { enumerable: true, get: function () { return typed_1.pass; } });\nvar util_1 = require(\"./util\");\nObject.defineProperty(exports, \"HOI\", { enumerable: true, get: function () { return util_1.HOI; } });\nvar variant_tools_1 = require(\"./variant.tools\");\nObject.defineProperty(exports, \"fields\", { enumerable: true, get: function () { return variant_tools_1.fields; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return variant_tools_1.nil; } });\nObject.defineProperty(exports, \"payload\", { enumerable: true, get: function () { return variant_tools_1.payload; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./slim\"), exports);\n__exportStar(require(\"./type\"), exports);\n","export { CliError } from './cli-error.js';\nexport type { CliErrorCodeType } from './cli-error.js';\nexport { CliErrorCode, CliSystemErrorCode } from './cli-error-codes.js';\nexport { isCliSystemError, isCliError } from './is-cli-error.js';\nexport { normalizeError } from './normalize-error.js';\n","import VError from 'verror';\nimport type { VariantOf } from 'variant';\nimport type { CliErrorCode } from './cli-error-codes.js';\n\nconst { WError } = VError;\n\nexport type CliErrorCodeType = VariantOf<typeof CliErrorCode>;\n\nexport class CliError extends WError {\n  public cliCode: CliErrorCodeType;\n\n  constructor(options: {\n    code: CliErrorCodeType;\n    cause?: unknown;\n    info?: Record<string, unknown>;\n  }) {\n    const normalizedCause =\n      options.cause instanceof Error\n        ? options.cause\n        : new Error(JSON.stringify(options.cause));\n    super(\n      {\n        name: options.code.type,\n        cause: normalizedCause,\n        info: options.info,\n      },\n      options.code.type\n    );\n\n    this.cliCode = options.code;\n    this.name = options.code.type;\n    if (process.env.NODE_ENV === 'development') {\n      // If we get an unexpected error during tests, it helps to see the full\n      // stack trace without debugging. This is especially useful when the error\n      // is thrown in CI\n      this.stack =\n        this.stack + '\\ncaused by: ' + VError.fullStack(normalizedCause);\n    }\n  }\n}\n","import { fields, variant } from 'variant';\nimport type { ZodError } from 'zod';\n\nexport const CliSystemErrorCode = variant({\n  FailedToGetDeviceCode: {},\n  FailedToGetAuthToken: {},\n  FailedToRenewAuthToken: {},\n  FailedToRefreshTokenForSite: {},\n  FailedToRevokeRefreshToken: fields<{ email: string }>(),\n  UnknownFailure: fields<{ error: unknown }>(),\n  FailedToFetchPackageJson: {},\n  FailedToGetDeveloperApps: {},\n  FailedToUpdateTelemetryConfig: {},\n  FailedToSyncToRevision: fields<{ revision: string }>(),\n  FailedToCreateVersion: {},\n  FailedToReadCache: fields<{ path: string }>(),\n  FailedToWriteCache: fields<{ path: string }>(),\n  UploadApplicationFailed: {},\n  FailedToCreateDevCenterApp: {},\n  FailedToGetAppSecret: {},\n  FailedToCreateTunnel: {},\n  FailedToDeleteTunnel: {},\n  GridAppFailedToUpdateFiles: {},\n  FailedToCreateGridApp: fields<{ error?: string }>(),\n  InvalidResponseData: {},\n  InvalidCreateAppResponse: {},\n  InvalidDeployAppResponse: {},\n  InvalidGetDeploymentResponse: {},\n  FailedToGetPagesDiff: {},\n  InvalidViteBuildOutput: {},\n  ViteModuleBundleNotFound: {},\n  ViteFileNotFoundInOutput: fields<{ fileName: string }>(),\n  FailedToCreateBackendDeployment: {},\n  FailedToUpdateBackendDeployment: {},\n  InvalidDeploymentUrl: fields<{ deploymentUrl: string }>(),\n  FailedToGetBackendDeployment: {},\n  FailedToDeployBackend: {},\n  FailedToGetUserInfo: {},\n  FailedToGetMyAccount: {},\n  FailedToCreateDevelopmentSite: {},\n  FailedToGetDevelopmentSites: {},\n  FailedToGetDevelopmentSitesLimit: {},\n  FailedToGetRequiredApps: {},\n  FailedToGetMarketListing: {},\n  FailedToAddRequiredApp: {},\n  FailedToGetAppValidity: {},\n  FailedToQuerySites: {},\n  FailedToGetSite: {},\n  FailedToDeploySite: {},\n  FailedToPublishDeployment: {},\n  FailedToMarkDeploymentAsPermanent: {},\n  FailedToCheckIfAppInstalled: {},\n  TypeErrorInvalidUrl: {},\n  FailedToGenerateSelfsignedCertificate: {},\n  FailedToResolveViteOrigin: {},\n  FailedToCreateAppRelease: {},\n  FailedToUpdateAppRelease: {},\n  FailedToCreateComponents: {},\n  FailedToGetResolveNpmDependenciesResult: {},\n  FailedToResolveNpmDependencies: {},\n  FailedToCheckDeprecatedStatus: {},\n  FailedToCreateSiteOverride: {},\n  FailedToGetDeploymentStatus: {},\n  FailedToGetPipelineErrorInfo: {},\n  FailedToGenerateAppMarketQueryParam: {},\n  InvalidDependenciesJsonSchemaError: fields<{\n    path: string;\n    zodError: ZodError;\n  }>(),\n  FailedToParseLog: {},\n  FailedToConnectToLogsService: {},\n  LogsConnectionTimeout: {},\n  FailedToFetchAppForVersion: {},\n  InvalidSiteOverrideID: {},\n});\n\nexport const CliUserErrorCode = variant({\n  LatestVersionOfCreateAppRequired: fields<{\n    currentVersion: string;\n    latestVersion: string;\n    updateCommand: string;\n  }>(),\n  FailedToCreateProjectFolder: fields<{\n    packageFolder: string;\n    cause: unknown;\n  }>(),\n  EmptyDirectoryRequiredAppGeneration: fields<{ folder: string }>(),\n  InvalidNewPackageName: fields<{\n    packageName: string;\n    validations: string[];\n  }>(),\n  UnsupportedPackageManager: fields<{\n    packageManagerName?: string;\n  }>(),\n  UnsupportedPackageManagerWorkspaces: fields<{\n    packageManagerName: string;\n  }>(),\n  FailedAddingPackageToWorkspace: {},\n  SitePermissionDenied: fields<{ siteId: string }>(),\n  AppPermissionDenied: fields<{ appId: string }>(),\n  BuiltProjectNeeded: {},\n  WixUninstallMissingPackageName: {},\n  FailedToReadJson: fields<{ filePath: string; cause: unknown }>(),\n  FailedToWriteJson: fields<{ filePath: string; cause: unknown }>(),\n  InvalidJsonFile: fields<{\n    filePath: string;\n    cause: unknown;\n  }>(),\n  FailedToWriteWixLock: {},\n  InvalidVeloConfigJson: fields<{ configFilename: string; cause: unknown }>(),\n  DashboardPageConfigNotFound: fields<{ configPath: string }>(),\n  EmbeddedScriptConfigNotFound: fields<{ configPath: string }>(),\n  NoExtensionsFound: {},\n  CustomElementConfigNotFound: fields<{ configPath: string }>(),\n  NoPagesDirectoryFound: fields<{ srcDir: string }>(),\n  DashboardPluginConfigNotFound: fields<{ configPath: string }>(),\n  DashboardMenuPluginConfigNotFound: fields<{ configPath: string }>(),\n  ServicePluginConfigNotFound: fields<{ configPath: string }>(),\n  DashboardModalConfigNotFound: fields<{ configPath: string }>(),\n  InvalidConfigSchemaError: fields<{\n    configPath: string;\n    zodError: ZodError;\n  }>(),\n  InvalidParamsOverrideSchemaError: fields<{\n    paramsOverridePath: string;\n    zodError: ZodError;\n  }>(),\n  PermissionDenied: {},\n  SiteSelectorTimedout: {},\n  FailedToReadProjectFiles: fields<{ cause: unknown }>(),\n  FailedToCreateVersionForSubmittedApp: {},\n  GridAppFilesMaxLengthExcceeded: fields<{\n    filePaths: string[];\n    maxSizeViolationsData: {\n      expectedSize?: number;\n      files: Array<{\n        fileIndex: number;\n        receivedSize: number;\n      }>;\n    } | null;\n  }>(),\n  DeviceCodeTimedOut: {},\n  DuplicateComponentIdsError: fields<{\n    issues: Array<{\n      id: string;\n      components: Array<{\n        name: string;\n        path: string;\n        type:\n          | 'page'\n          | 'plugin'\n          | 'menu-plugin'\n          | 'modal'\n          | 'sidebar-category'\n          | 'embedded-script'\n          | 'custom-element'\n          | 'topology';\n      }>;\n      suggestedId: string;\n    }>;\n  }>(),\n  FailedToSaveDevelopmentSite: fields<{ path: string }>(),\n  FailedToBuildApp: fields<{ cause: unknown }>(),\n  FailedToInitializeGitRepo: fields<{ cause: unknown }>(),\n  FailedToInstallDependencies: fields<{ cause: unknown }>(),\n  FailedToCommitChanges: fields<{ cause: unknown }>(),\n  FailedToDeleteAuthData: fields<{ cause: unknown }>(),\n  FailedToDeleteLegacyAuthData: fields<{ cause: unknown }>(),\n  FailedToSaveAuthData: fields<{ cause: unknown }>(),\n  FailedToSaveApiKeyAuthData: fields<{ cause: unknown }>(),\n  FailedToRenewAuthTokenSiteNotFound: fields<{ siteId: string }>(),\n  FailedToRenewAuthTokenRefreshTokenRevoked: {},\n  FailedToInstallPackage: fields<{ packageName: string; cause: unknown }>(),\n  FailedToInstallPackages: fields<{ cause: unknown }>(),\n  FailedToUninstallPackage: fields<{ packageName: string; cause: unknown }>(),\n  FailedMigrationToAnyNpm: {},\n  DeprecatedVersion: fields<{\n    currentVersion: string;\n  }>(),\n  TemplatePathNotFound: fields<{ templatePath: string }>(),\n  FailedToCloneRepo: fields<{ cause: unknown }>(),\n  InvalidGitUrl: fields<{ url: string }>(),\n  AuthenticationRequired: {},\n  SiteConfiguredRequired: {},\n  NonInteractiveTerminal: {},\n  FailedToWatchFiles: fields<{\n    cause: unknown;\n  }>(),\n  CliAppVersionMismatch: fields<{\n    cliVersion: string;\n    cliAppVersion: string;\n  }>(),\n  NetworkError: fields<{ cause: unknown }>(),\n  AppForVersionNotFound: fields<{ version: string }>(),\n  UnknownServicePlugin: fields<{ name: string }>(),\n  InvalidServicePluginFolder: fields<{ relativePath: string }>(),\n  FailedToGetLogsTopology: {},\n  FailedInstallCloudflareNoAccess: fields<{ path: string }>(),\n});\n\nexport const CliValidationError = variant({\n  InvalidDashboardPageRoute: fields<{ route: string; errorMessage: string }>(),\n  InvalidEmbeddedScriptFolder: fields<{\n    path: string;\n    errorMessage: string;\n  }>(),\n  InvalidEmbeddedScriptTemplate: fields<{\n    templateFilename: string;\n    errorMessage: string;\n  }>(),\n  InvalidCustomElementTagName: fields<{\n    tagName: string;\n    errorMessage: string;\n  }>(),\n  InvalidSiteFrontendPackageVersion: fields<{\n    packageName: string;\n    versionRange: string;\n  }>(),\n  InvalidServicePluginImplementation: fields<{\n    configuredImplementation: string;\n  }>(),\n});\n\nexport const CliErrorCode = variant({\n  ...CliSystemErrorCode,\n  ...CliUserErrorCode,\n  ...CliValidationError,\n});\n","import { isOfVariant } from 'variant';\nimport type { CliError } from './cli-error.js';\nimport { CliErrorCode, CliSystemErrorCode } from './cli-error-codes.js';\n\nexport function isCliError(error: unknown): error is CliError {\n  if (error && typeof error === 'object' && 'cliCode' in error) {\n    return isOfVariant(error.cliCode, CliErrorCode);\n  }\n\n  return false;\n}\n\nexport function isCliSystemError(error: CliError): boolean {\n  return isOfVariant(error.cliCode, CliSystemErrorCode);\n}\n","import { isOfVariant } from 'variant';\nimport VError from 'verror';\nimport { CliError } from './cli-error.js';\nimport { isCliError } from './is-cli-error.js';\nimport { CliErrorCode, CliUserErrorCode } from './cli-error-codes.js';\n\nfunction getFirstUserError(error: Error): CliError | null {\n  if (isCliError(error) && isOfVariant(error.cliCode, CliUserErrorCode)) {\n    return error;\n  }\n\n  const nestedError = VError.cause(error);\n\n  return nestedError ? getFirstUserError(nestedError) : null;\n}\n\nexport function normalizeError(error: unknown) {\n  const cliError = isCliError(error)\n    ? error\n    : new CliError({\n        code: CliErrorCode.UnknownFailure({ error }),\n      });\n\n  const firstUserError = getFirstUserError(cliError);\n\n  // If there's a nested user error in the chain, it doesn't matter if it is\n  // being wrapped by other errors later. When throwing such error, the intent\n  // is always to show that error to the user, not any wrapping errors.\n  return firstUserError ?? cliError;\n}\n"],"mappings":"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","names":["require_assert","__commonJSMin","exports","module","init_esm_shims","assert","Stream","util","UUID_REGEXP","_capitalize","str","_toss","name","expected","oper","arg","actual","_getClass","noop","types","_setExports","ndebug","keys","out","msg","k","type","i","require_extsprintf","__commonJSMin","exports","init_esm_shims","mod_assert","mod_util","jsSprintf","jsPrintf","jsFprintf","ofmt","regex","re","args","fmt","flags","width","precision","conversion","left","pad","sign","arg","match","ret","argn","posn","convposn","curconv","jsError","doPad","dumpException","fmtstr","reason","stream","chr","str","ex","cex","require_util","__commonJSMin","exports","init_esm_shims","isArray","arg","objectToString","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","d","isError","isFunction","isPrimitive","o","require_verror","__commonJSMin","exports","module","init_esm_shims","mod_assertplus","mod_util","mod_extsprintf","mod_isError","sprintf","VError","SError","WError","MultiError","parseConstructorArguments","args","argv","options","sprintf_args","shortmessage","k","a","obj","parsed","cause","ctor","message","str","err","rv","name","errors","e","func","c","require_isType","__commonJSMin","exports","init_esm_shims","isTypeImpl","key","isType","instanceOrType","type","typeArg","typeStr","o","instance","require_util","__commonJSMin","exports","init_esm_shims","identityFunc","x","isPromise","HOI","definition","require_variant","__commonJSMin","exports","init_esm_shims","util_1","scopeType","scope","type","descopeType","s","_a","VARIANT_CREATOR_BRAND","isVariantCreator","func","variantImpl","key","v","acc","variation","descope","obj","creator","maker","args","returned","result","variantModule","template","vmKey","vmVal","variantList","t","variant","require_precepts","__commonJSMin","exports","init_esm_shims","require_match","__commonJSMin","exports","init_esm_shims","variant_1","precepts_1","matchImpl","key","prematch","_","handler","instance","match","args","_a","_b","instanceOrTypeOrCreator","handlerParam","instanceOrCreator","ofLiteral","tType","partial","h","onLiteral","lookup","handlerWithFuncs","acc","cur","otherwise","branches","elseFunc","withFallback","fallback","require_types","__commonJSMin","exports","init_esm_shims","variant_1","typesImpl","key","types","content","c","inferTypes","_","property","require_flags","__commonJSMin","exports","init_esm_shims","flagsImpl","key","flags","o","v","require_isOfVariant","__commonJSMin","exports","init_esm_shims","isOfVariantImpl","key","isOfVariant","args","variant","instance","vc","require_remote","__commonJSMin","exports","init_esm_shims","isType_1","match_1","variant_1","CompareResult","remoteImpl","key","isType","match","variantList","isFunctions","vmod","acc","remote","getType","input","_sequence","module","order","result","keyOrder","a","b","ai","i","bi","diff","type","_sequenceOfList","sequence","require_typed","__commonJSMin","exports","init_esm_shims","pass","x","typedImpl","_key","typed","defOrFactory","require_match_tools","__commonJSMin","exports","init_esm_shims","constant","x","unpack","require_matcher","__commonJSMin","exports","init_esm_shims","match_tools_1","variant_1","tableToHandler","table","acc","cur","key","Matcher","_Matcher","target","handler","options","_a","_b","chosenHandler","remainingCases","combinedHandler","func","newHandler","variations","newCases","type","matcherImpl","matcher","actualTarget","require_cosmos","__commonJSMin","exports","init_esm_shims","isType_1","match_1","variant_1","types_1","flags_1","isOfVariant_1","remote_1","typed_1","matcher_1","variantCosmos","key","isType","flags","require_type","__commonJSMin","exports","init_esm_shims","_a","cosmos_1","require_augment","__commonJSMin","exports","init_esm_shims","type_1","variant_1","augment","variantDefinition","f","acc","key","inputFunc","returnFunc","args","result","branch","item","require_constrained","__commonJSMin","exports","init_esm_shims","constrained","_constraint_","v","require_construct","__commonJSMin","exports","init_esm_shims","construct","cls","args","require_generic","__commonJSMin","exports","init_esm_shims","flags_1","variant_1","GENERIC_BRAND","onTerms","func","GTERM","genericTerms","flags","GP","f","require_typeCatalog","__commonJSMin","exports","init_esm_shims","typeCatalog","variant","result","vc","typeMap","key","require_catalog","__commonJSMin","exports","init_esm_shims","catalog","factory","result","current","index","require_patterned","__commonJSMin","exports","init_esm_shims","patterned","_constraint_","v","require_variant_tools","__commonJSMin","exports","init_esm_shims","fields","defaults","args","arg","payload","_example","nil","require_slim","__commonJSMin","exports","init_esm_shims","augment_1","constrained_1","construct_1","cosmos_1","generic_1","typeCatalog_1","catalog_1","match_tools_1","patterned_1","typed_1","util_1","variant_tools_1","require_lib","__commonJSMin","exports","init_esm_shims","__createBinding","o","m","k","k2","__exportStar","p","init_esm_shims","init_esm_shims","import_verror","WError","VError","CliError","options","normalizedCause","init_esm_shims","import_variant","CliSystemErrorCode","CliUserErrorCode","CliValidationError","CliErrorCode","init_esm_shims","import_variant","isCliError","error","CliErrorCode","isCliSystemError","CliSystemErrorCode","init_esm_shims","import_variant","import_verror","getFirstUserError","error","isCliError","CliUserErrorCode","nestedError","VError","normalizeError","cliError","CliError","CliErrorCode"]}